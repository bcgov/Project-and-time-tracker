(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"014b7":function(e,t,r){"use strict";var a=r("ba94"),n=r.n(a);n.a},"085a":function(e,t,r){},"0b70":function(e,t,r){},1190:function(e,t,r){},2060:function(e,t,r){},"28c1":function(e,t,r){},"2a68":function(e,t,r){e.exports=r.p+"img/projectinfo.08b25936.svg"},"2a685":function(e,t,r){},"2b62":function(e,t,r){},"362a":function(e,t,r){"use strict";var a=r("71dc"),n=r.n(a);n.a},"3d84":function(e,t,r){},4360:function(e,t,r){"use strict";(function(e){r("7514");var a=r("7618"),n=(r("96cf"),r("3b8d")),s=(r("a481"),r("ac6a"),r("75fc")),i=r("2b0e"),o=r("2f62"),c=r("d456"),l=r.n(c),u=r("ab08"),d=r("db49"),f=r("e641"),m=r("4712"),p=r("c1df"),v=r.n(p),h=r("7369"),b=r("dccd"),y=r("6f86"),x="https://timemachine-api-aifsul-test.pathfinder.gov.bc.ca";if(console.log("API URL:",{API_URI:x}),i["default"].use(o["a"]),"undefined"===typeof f["a"])throw new Error("Security cannot be undefined");var j=new o["a"].Store({modules:{security:f["a"]},state:{menuIsOpen:!1,menu:u["a"],config:d["a"],activeUser:{},activeRoles:[],users:[],clients:[],services:[],projectSectors:[],projectIntakeCategory:[],projectIntakeServices:[],ministries:[],allMinistries:[],rfxPhases:[],rfxTypes:[],timesheetEntryData:[],timesheetEntryDatabyUser:[],timesheetById:[],projectRiskAnswers:[],intakeRiskQuestions:[],mouList:[],activeIntakeRequestId:null,activeIntakeRequest:{},intakeRequests:[],activeProjectId:null,activeProject:{},activeProjectRfxData:[],activeProjectContacts:[],projects:[],archivedProjects:[],allProjects:[],projectsRfx:new b["a"],activeTimesheetEntryRowId:null,activeTimesheetEntryRow:{},timesheets:[],unbilledTimesheets:[],timesheetEntries:[],userTimesheets:[],allTimesheets:[],allProcurementLog:[],allProjectNotes:[],collapseNavigationBar:!1,projectInformation:!1,ministryInformation:!1,contactInformation:!1,intakeRisk:!1,timesheetsWeek:{startDate:null,endDate:null},drawerComments:!1,drawerCommentsEntries:[],verifyTokenServer:null,timeLogOfSelectedDate:null},mutations:{setAuth:function(t,r){var a=r.user,n=r.token;t.user=a,t.token=n,e.helper.ls.set("user",a),e.helper.ls.set("token",n)},setMenu:function(e,t){e.menu=t},setPageTitle:function(e,t){e.pageTitle=t},setFeedbackMessages:function(e,t,r){e.message={type:t,body:r}},setTimesheetsWeek:function(e,t){e.timesheetsWeek={startDate:t.startDate,endDate:t.endDate}},verifyTokenServer:function(e,t){e.verifyTokenServer=t},fetchMinistries:function(e,t){e.ministries=t},fetchAllMinistries:function(e,t){e.allMinistries=t},fetchintakeRiskQuestions:function(e,t){e.intakeRiskQuestions=t},fetchprojectRiskAnswers:function(e,t){e.projectRiskAnswers=t},fetchTimesheetEntries:function(e,t){e.timesheetEntryData=t},fetchTimesheetById:function(e,t){e.timesheetById=t},fetchTimesheetEntriesByUser:function(e,t){e.timesheetEntryDatabyUser=t},fetchRFxPhases:function(e,t){e.rfxPhases=t},fetchRFxTypes:function(e,t){e.rfxTypes=t},fetchProjectSectors:function(e,t){e.projectSectors=t,e.services=t},fetchProjectIntakeCategory:function(e,t){e.projectIntakeCategory=t,e.services=t},fetchProjectIntakeServices:function(e,t){e.projectIntakeServices=t,e.services=t},fetchProjectRfx:function(e,t){e.projectsRfx.set(t.projectId,t.content)},fetchClients:function(e,t){e.clients=t},fetchClient:function(){},fetchMOUs:function(e,t){e.mouList=t},addClient:function(){throw new Error("Not implemented!")},updateClient:function(){throw new Error("Not implemented!")},deleteClient:function(){throw new Error("Not implemented!")},fetchContacts:function(e,t){e.contacts=t},addContact:function(){throw new Error("Not implemented!")},updateContact:function(){throw new Error("Not implemented!")},deleteContact:function(){throw new Error("Not implemented!")},fetchUsers:function(e,t){e.users=t},addUser:function(){throw new Error("Not implemented!")},addMinistry:function(e,t){console.log("TODO - NOT SURE IF COMPLETE - addMinistry MUTATION called",{state:e,data:t})},updateUser:function(e,t){console.log("TODO",{users:e.users,data:t})},deleteUser:function(){throw new Error("Not implemented!")},fetchIntakeRequests:function(e,t){i["default"].set(e,"intakeRequests",Object(s["a"])(t))},fetchIntakeRequest:function(e,t){e.activeIntakeRequest=h["a"].constructFromObject(t)},clearActiveIntakeRequest:function(e,t){e.activeIntakeRequest=t},addIntakeRequest:function(e,t){e.activeIntakeRequest=h["a"].constructFromObject(t)},updateIntakeRequest:function(e,t){},deleteIntakeRequest:function(){},approveIntakeRequest:function(){throw new Error("Not implemented!")},assignContactToIntakeRequest:function(){throw new Error("Not implemented!")},createMOU:function(e,t){console.log("createMOU mutation",t),e.mouList.push(t)},fetchProjects:function(e,t){e.projects=[],t instanceof Array&&t.forEach((function(t){t.projectLeadUserId=t.leadUserId,t.projectBackupUserId=t.backupUserId,t.ministryInformation=t.ministryInformation;var r=e.projects.filter((function(e){return e.id===t.id}))||[];if(r.length>0){var a=e.projects.indexOf(r[0]);e.projects[a]=l()(e.projects[a],t)}else e.projects.push(t)}))},fetchProject:function(e,t){e.activeProject=t},fetchArchivedProjects:function(e,t){e.archivedProjects=t},fetchAllProjects:function(e,t){e.allProjects=[],t instanceof Array&&t.forEach((function(t){t.projectLeadUserId=t.leadUserId,t.projectBackupUserId=t.backupUserId,t.ministryInformation=t.ministryInformation;var r=e.allProjects.filter((function(e){return e.id===t.id}))||[];if(r.length>0){var a=e.allProjects.indexOf(r[0]);e.allProjects[a]=l()(e.allProjects[a],t)}else e.allProjects.push(t)}))},addProject:function(){throw new Error("Not implemented!")},updateProject:function(){},deleteProject:function(){throw new Error("Not implemented!")},assignResourceToProject:function(){throw new Error("Not implemented!")},assignContactToProject:function(){throw new Error("Not implemented!")},assignProjectLead:function(){},assignProjectBackup:function(){},fetchProjectContacts:function(e,t){e.activeProjectContacts=t},updateProjectContacts:function(){},updateProjectFinanceCodes:function(){},updateProcurementLog:function(){},addProjectNotes:function(){},fetchProjectRFxData:function(e,t){console.log("fetchProjectRFxData",{data:t}),t&&0===t.length&&t.push(new y["a"]),e.activeProjectRfxData=t},addProjectRFxData:function(){},updateProjectRFxData:function(){},fetchTimesheets:function(e,t){var r=t.data,a=t.replace;r instanceof Array&&(!0===a?e.timesheets=r:r.forEach((function(t){var r=e.timesheets.filter((function(e){return e.id===t.id}))||[];if(r.length>0){var a=e.timesheets.indexOf(r[0]);e.timesheets[a]=l()(e.timesheets[a],t)}else e.timesheets.push(t)})))},fetchAllTimesheets:function(e,t){console.log("fetchAllTimesheets",t),e.allTimesheets=t},fetchUserTimesheets:function(e,t){console.log("fetchUserTimesheets",t),e.userTimesheets=t},fetchAllProcurementLog:function(e,t){console.log("fetchAllProcurementLog",t),e.allProcurementLog=t},fetchAllProjectNotes:function(e,t){console.log("fetchAllProjectNotes",t),console.log("projectnotes:",t),e.allProjectNotes=t},getTimeLogOfSelectedDate:function(e,t){e.timeLogOfSelectedDate=t},addTimesheet:function(e,t){var r=t,a=e.timesheets.filter((function(e){return e.id===r.id}))||[];if(a.length>0){var n=e.timesheets.indexOf(a[0]);e.timesheets[n]=l()(e.timesheets[n],r)}else e.timesheets.push(r)},updateTimesheet:function(e,t){var r=t,a=e.timesheets.filter((function(e){return e.id===r.id}))||[];if(a.length>0){var n=e.timesheets.indexOf(a[0]);e.timesheets[n]=l()(e.timesheets[n],r)}else e.timesheets.push(r)},deleteTimesheet:function(e,t){var r=e.timesheets.filter((function(e){return e.id!==t.timesheetId}))||[];e.timesheets=r},addTimesheetEntry:function(){throw new Error("Not implemented!")},addWeekTimesheetEntries:function(){throw new Error("Not implemented!")},updateTimesheetEntry:function(){throw new Error("Not implemented!")},updateWeekTimesheetEntries:function(){throw new Error("Not implemented!")},deleteTimesheetEntry:function(){throw new Error("Not implemented!")},deleteWeekTimesheetEntries:function(){throw new Error("Not implemented!")},approveTimesheetEntry:function(){throw new Error("Not implemented!")},approveWeekTimesheetEntries:function(){throw new Error("Not implemented!")},addTimesheetEntryComment:function(){throw new Error("Not implemented!")},updateTimesheetEntryComment:function(){throw new Error("Not implemented!")},deleteTimesheetEntryComment:function(){throw new Error("Not implemented!")},archiveProject:function(e,t){console.log("archiveProject response",t)}},actions:{checkAuth:function(t){var r={user:e.helper.ls.get("user"),token:e.helper.ls.get("token")};t.commit("setAuth",r)},setTimesheetsWeek:function(e,t){e.commit("setTimesheetsWeek",{startDate:t.startDate,endDate:t.endDate})},verifyTokenServer:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(x,"/auth/verify")).then((function(e){var r=e.data;return t.commit("verifyTokenServer",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 2:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchMinistries:function(e){m["a"].get("".concat(x,"/ministry")).then((function(t){var r=t.data;e.commit("fetchMinistries",r)}))},fetchAllMinistries:function(e){m["a"].get("".concat(x,"/ministry/all")).then((function(t){var r=t.data;e.commit("fetchAllMinistries",r)}))},addMinistry:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,n=m["a"].post("".concat(x,"/ministry"),a).then((function(e){var r=e.data;return t.commit("addMinistry",r),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(n));case 3:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateMinistries:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].patch("".concat(x,"/ministry/").concat(r.id,"/update"),r).then((function(e){return console.log("updateMinistires RESPONSE",{res:e}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchintakeRiskQuestions:function(e){m["a"].get("".concat(x,"/project-risk")).then((function(t){var r=t.data;e.commit("fetchintakeRiskQuestions",r)}))},fetchprojectRiskAnswers:function(e,t){m["a"].get("".concat(x,"/project-risk/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchprojectRiskAnswers",r)}))},fetchTimesheetById:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].get("".concat(x,"/timesheet/").concat(r.id),a).then((function(e){var r=e.data;return t.commit("fetchTimesheetById",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTimesheetEntriesByUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/timesheet/timesheetentriesByUser"),a).then((function(e){var r=e.data;return t.commit("fetchTimesheetEntriesByUser",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTimesheetEntries:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/timesheet/timesheetentries"),a).then((function(e){var r=e.data;return t.commit("fetchTimesheetEntries",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchRFxPhases:function(e){m["a"].get("".concat(x,"/rfx-phase")).then((function(t){var r=t.data;e.commit("fetchRFxPhases",r)}))},fetchRfxTypes:function(e){m["a"].get("".concat(x,"/rfx-type")).then((function(t){var r=t.data;e.commit("fetchRfxTypes",r)}))},fetchProjectRfx:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(x,"/project-rfx/").concat(r.id,"/by-project-id")).then((function(e){var a=e.data;return t.commit("fetchProjectRfx",{projectId:r.id,content:a}),Promise.resolve(a)})).catch((function(e){return Promise.reject(e)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchRFxTypes:function(e){m["a"].get("".concat(x,"/rfx-type")).then((function(t){var r=t.data;e.commit("fetchRFxTypes",r)}))},fetchProjectSectors:function(e){m["a"].get("".concat(x,"/project-sector")).then((function(t){var r=t.data;e.commit("fetchProjectSectors",r)}))},fetchProjectIntakeCategory:function(e){m["a"].get("".concat(x,"/project-intake-category")).then((function(t){var r=t.data;e.commit("fetchProjectIntakeCategory",r)}))},fetchProjectIntakeServices:function(e){m["a"].get("".concat(x,"/project-intake-service")).then((function(t){var r=t.data;e.commit("fetchProjectIntakeServices",r)}))},fetchClients:function(e){m["a"].get("".concat(x,"/client")).then((function(t){var r=t.data;e.commit("fetchClients",r)}))},fetchClient:function(e,t){m["a"].get("".concat(x,"/client/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchClient",r)}))},addClient:function(e,t){var r=t;m["a"].post("".concat(x,"/client"),r).then((function(t){var r=t.data;e.commit("addClient",r)}))},updateClient:function(e,t){var r=t;m["a"].patch("".concat(x,"/client/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateClient",r)}))},deleteClient:function(e,t){m["a"].delete("".concat(x,"/client/").concat(t.id)).then((function(t){var r=t.data;e.commit("updateClient",r)}))},addContact:function(e,t){var r=t;m["a"].post("".concat(x,"/contact"),r).then((function(t){var r=t.data;e.commit("addContact",r)}))},updateContact:function(e,t){var r=t;m["a"].patch("".concat(x,"/contact/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateContact",r)}))},updateContactPartial:function(e,t){var r=t;return m["a"].patch("".concat(x,"/contact/").concat(t.id,"/partial"),r)},deleteContact:function(e,t){m["a"].delete("".concat(x,"/contact/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteContact",r)}))},fetchUsers:function(e){m["a"].get("".concat(x,"/user")).then((function(t){var r=t.data;e.commit("fetchUsers",r)}))},addUser:function(e,t){var r=t;m["a"].post("".concat(x,"/user"),r).then((function(t){var r=t.data;e.commit("addUser",r)}))},updateUser:function(e,t){var r=t;m["a"].patch("".concat(x,"/user/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateUser",r)}))},deleteUser:function(e,t){m["a"].delete("".concat(x,"/user/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteUser",r)}))},fetchMOUs:function(e,t){m["a"].get("".concat(x,"/MOU")).then((function(t){var r=t.data;e.commit("fetchMOUs",r)}))},createMOU:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/MOU"),a).then((function(e){var r=e.data;return console.log("createMOU called with body",a),t.commit("createMOU",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchIntakeRequests:function(e){m["a"].get("".concat(x,"/intake")).then((function(t){var r=t.data;r.forEach((function(e){e.projectLeadId=e.leadUserId,e.projectBackupId=e.backupUserId,e.estimatedCompletionDate=v()(String(e.estimatedCompletionDate)).format("YYYY-MM-DD")})),e.commit("fetchIntakeRequests",r)}))},fetchIntakeRequest:function(e,t){m["a"].get("".concat(x,"/intake/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchIntakeRequest",r)}))},clearActiveIntakeRequest:function(e){e.commit("clearActiveIntakeRequest",new h["a"])},addIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/intake"),a).then((function(e){var r=e.data;return t.commit("addIntakeRequest",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=m["a"].patch("".concat(x,"/intake/").concat(r.id),r).then((function(e){var r=e.data;return t.commit("updateIntakeRequest",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(a));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateProctLog:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(r),a=m["a"].patch("".concat(x,"/procurement/").concat(r.id),r).then((function(e){var r=e.data;return t.commit("updateProctLog",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(a));case 3:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].delete("".concat(x,"/intake/").concat(r.id));case 3:a=e.sent,n=a.data,t.commit("deleteIntakeRequest",n),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}(),approveIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].post("".concat(x,"/intake/").concat(r.id,"/approve")).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),assignContactToIntakeRequest:function(e,t){m["a"].post("".concat(x,"/intake/").concat(t.id,"/assign-contact")).then((function(t){var r=t.data;e.commit("assignContactToIntakeRequest",r)}))},fetchProjects:function(e){m["a"].get("".concat(x,"/project")).then((function(t){var r=t.data;r=t.data.map((function(e){return e})),e.commit("fetchProjects",r)}))},fetchArchivedProjects:function(e){m["a"].get("".concat(x,"/project/archived")).then((function(t){var r=t.data;r=t.data.map((function(e){return e})),e.commit("fetchArchivedProjects",r)}))},fetchAllProjects:function(e){m["a"].get("".concat(x,"/project/all")).then((function(t){var r=t.data;r=t.data.map((function(e){return e})),e.commit("fetchAllProjects",r)}))},archiveProject:function(e,t){var r=t.id,n=t.is_archived;if(!0!==n&&!1!==n)throw new Error("is_archived must be boolean, instead you provided: ".concat(Object(a["a"])(n)));return m["a"].patch("".concat(x,"/project/").concat(r,"/archive"),{is_archived:n}).then((function(t){var r=t.data;e.commit("archiveProject",r)}))},fetchProject:function(e,t){m["a"].get("".concat(x,"/project/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchProject",r)}))},addProject:function(e,t){var r=t;m["a"].post("".concat(x,"/project"),r).then((function(t){var r=t.data;e.commit("addProject",r)}))},updateProject:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].patch("".concat(x,"/project/").concat(r.id),a).then((function(e){var r=e.data;return t.commit("updateProject",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteProject:function(e,t){m["a"].delete("".concat(x,"/project/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteProject",r)}))},assignResourceToProject:function(e,t){m["a"].post("".concat(x,"/project/").concat(t.id,"/assign-resource")).then((function(t){var r=t.data;e.commit("deleteProject",r)}))},assignContactToProject:function(e,t){m["a"].post("".concat(x,"/project/").concat(t.id,"/assign-contact")).then((function(t){var r=t.data;e.commit("assignContactToProject",r)}))},assignProjectLead:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={userId:r.userId},e.next=3,m["a"].post("".concat(x,"/project/").concat(r.projectId,"/assign-lead"),a).then((function(e){var r=e.data;return t.commit("assignProjectLead",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),assignProjectBackup:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={userId:r.userId},e.next=3,m["a"].post("".concat(x,"/project/").concat(r.projectId,"/assign-backup"),a).then((function(e){var r=e.data;return t.commit("assignProjectBackup",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchProjectContacts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(x,"/contact/").concat(r.id,"/by-project-id")).then((function(e){var r=e.data;return t.commit("fetchProjectContacts",r),Promise.resolve(r)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateProjectContacts:function(e,t){var r=t.contacts;m["a"].patch("".concat(x,"/contact/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateProjectContacts",r)}))},updateProjectFinanceCodes:function(e,t){var r=t.financeCodes;m["a"].patch("".concat(x,"/client/").concat(t.id,"/finance-code"),r).then((function(t){var r=t.data;e.commit("updateProjectFinanceCodes",r)}))},updateProcurementLog:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.procurementlog,e.next=3,m["a"].post("".concat(x,"/procurement"),a).then((function(e){var r=e.data;return t.commit("updateProcurementLog",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addProjectNotes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.projectNotes,e.next=3,m["a"].post("".concat(x,"/projectnotes"),a).then((function(e){var r=e.data;return t.commit("addProjectNotes",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchProjectRFxData:function(e,t){m["a"].get("".concat(x,"/project-rfx/").concat(t.id,"/by-project-id")).then((function(t){var r=t.data;e.commit("fetchProjectRFxData",r)}))},addProjectRFxData:function(e,t){var r=t,a=m["a"].post("".concat(x,"/project-rfx"),r).then((function(t){var r=t.data;return e.commit("addProjectRFxData",r),Promise.resolve(t.data)}));return Promise.resolve(a)},updateProjectRFxData:function(e,t){var r=t;m["a"].patch("".concat(x,"/project-rfx/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateProjectRFxData",r)}))},fetchTimesheets:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("selectedStartDate"),n=sessionStorage.getItem("selectedEndDate"),s="projectId=".concat(r.projectId,"&startDate=").concat(a,"&endDate=").concat(n),r.replace=r.replace||!1,e.next=6,m["a"].get("".concat(x,"/timesheet?").concat(s));case 6:return i=e.sent,t.commit("fetchTimesheets",{data:i.data,replace:r.replace}),e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchAllTimesheets:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(x,"/timesheet/all"));case 2:return r=e.sent,t.commit("fetchAllTimesheets",r.data),e.abrupt("return",Promise.resolve(r.data));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchUserTimesheets:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(x,"/timesheet/user"));case 2:return r=e.sent,t.commit("fetchUserTimesheets",r.data),e.abrupt("return",Promise.resolve(r.data));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchAllProcurementLog:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(x,"/procurement/").concat(r.id));case 2:return a=e.sent,t.commit("fetchAllProcurementLog",a.data),e.abrupt("return",Promise.resolve(a.data));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchAllProjectNotes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(x,"/projectnotes/").concat(r.id));case 2:return a=e.sent,t.commit("fetchAllProjectNotes",a.data),e.abrupt("return",Promise.resolve(a.data));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateRiskAnalysis:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].patch("".concat(x,"/project-risk/").concat(r.projectId,"/update"),a).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addBatchTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/timesheet/batch"),a).then((function(e){var r=e.data;return t.commit("addTimesheet",r),t.commit("setTimesheetsWeek",{startDate:r.startDate,endDate:r.endDate}),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addLightTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/timesheet/light"),a).then((function(e){var r=e.data;return t.commit("addTimesheet",r),t.commit("setTimesheetsWeek",{startDate:r.startDate,endDate:r.endDate}),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),getLightTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/timesheet/getLight"),a).then((function(e){var r=e.data;return t.commit("getTimeLogOfSelectedDate",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(x,"/timesheet"),a).then((function(e){var r=e.data;return t.commit("addTimesheet",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.payload,e.next=3,m["a"].patch("".concat(x,"/timesheet/").concat(r.id),a).then((function(e){var r=e.data;return t.commit("updateTimesheet",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].delete("".concat(x,"/timesheet/").concat(r.id)).then((function(e){var a=e.data;return t.commit("deleteTimesheet",{timesheetId:r.id,content:e.data}),Promise.resolve(a)})).catch((function(e){return Promise.reject(e.response)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addTimesheetEntry:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.prev=1,e.next=4,m["a"].post("".concat(x,"/timesheet-entry"),a);case 4:n=e.sent,t.commit("addTimesheetEntry",n.data),e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",e.t0);case 11:return e.abrupt("return",Promise.resolve());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,r){return e.apply(this,arguments)}return t}(),addWeekTimesheetEntries:function(e,t){var r=t;m["a"].post("".concat(x,"/timesheet"),r).then((function(t){var r=t.data;e.commit("addWeekTimesheetEntries",r)}))},updateTimesheetEntry:function(e,t){var r=t;m["a"].patch("".concat(x,"/timesheet-entry/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateTimesheetEntry",r)}))},updateWeekTimesheetEntries:function(e,t){var r=t;m["a"].patch("".concat(x,"/timesheet/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateWeekTimesheetEntries",r)}))},deleteTimesheetEntry:function(e,t){m["a"].delete("".concat(x,"/timesheet-entry/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteTimesheetEntry",r)}))},deleteWeekTimesheetEntries:function(e,t){m["a"].delete("".concat(x,"/timesheet/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteWeekTimesheetEntries",r)}))},approveTimesheetEntry:function(e,t){m["a"].post("".concat(x,"/timesheet-entry/").concat(t.id,"/approve")).then((function(t){var r=t.data;e.commit("approveTimesheetEntry",r)}))},approveWeekTimesheetEntries:function(e,t){m["a"].post("".concat(x,"/timesheet/").concat(t.id)).then((function(t){var r=t.data;e.commit("approveWeekTimesheetEntries",r)}))},addTimesheetEntryComment:function(e,t){var r=t;m["a"].post("".concat(x,"/timesheet-entry/").concat(t.id,"/comment"),r).then((function(t){var r=t.data;e.commit("addTimesheetEntryComment",r)}))},updateTimesheetEntryComment:function(e,t){var r=t;m["a"].patch("".concat(x,"/timesheet-entry/").concat(t.id,"/comment"),r).then((function(t){var r=t.data;e.commit("updateTimesheetEntryComment",r)}))},deleteTimesheetEntryComment:function(e,t){m["a"].delete("".concat(x,"/timesheet-entry/").concat(t.id,"/comment")).then((function(t){var r=t.data;e.commit("deleteTimesheetEntryComment",r)}))}},getters:{getProjectContactByType:function(e){return function(t){return e.activeProjectContacts.find((function(e){return e.contactType===t}))}}}});t["a"]=j}).call(this,r("c8ba"))},4603:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"projectSectorName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="4678"},4712:function(e,t,r){"use strict";var a=r("bc3a"),n=r.n(a),s=n.a.create();s.interceptors.request.use((function(e){return e.headers.get["Content-Type"]="application/json",e.headers.post["Content-Type"]="application/json",e.headers.put["Content-Type"]="application/json",e.headers.patch["Content-Type"]="application/json",e.headers.delete["Content-Type"]="application/json",e.headers.common.Authorization="Bearer ".concat(sessionStorage.getItem("keycloak_token")),e})),t["a"]=s},"4d87":function(e,t,r){e.exports=r.p+"img/logo.6ce21ad0.svg"},"4df0":function(e,t,r){},"54bb":function(e,t,r){"use strict";var a=r("0b70"),n=r.n(a);n.a},5554:function(e,t,r){"use strict";var a=r("f4aa"),n=r.n(a);n.a},5629:function(e,t,r){e.exports=r.p+"img/contactinfo.8b99e9f9.svg"},"56d1":function(e,t,r){"use strict";var a=r("a352"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("a481"),r("6b54"),r("4917"),r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=r("953d"),s=r.n(n),i=r("9483");Object(i["a"])("".concat("https://timemachine-api-aifsul-test.pathfinder.gov.bc.ca","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("d5e8"),r("15f5"),r("d1e7");var o=r("c1df"),c=r.n(o),l=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),u=r("bb716");r("da64");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={primary:"#003366",background:"#003366",secondary:"#424242",tertiary:"#F0D299",quaternary:"#65799D",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#648C47",warning:"#e6a100",btnPrimary:"#003366",btnSecondary:"#424242",btnTertiary:"#F0D299",btnQuaternary:"#65799D",menuSelected:"#d7eaff",approved:"#1c9900"};a["default"].use(u["a"],{theme:f({},m),options:{customProperties:!0},iconfont:"md"});var p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",e._b({attrs:{fixed:"",app:"","mini-variant":e.mini},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},"v-navigation-drawer",e.loadDefaultMenuStyle(),!1),[a("v-btn",{staticClass:"navdraw-mini-expander",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleMenuStyle()}}},[a("v-icon",[e._v(e._s(e.mini?"chevron_right":"chevron_left"))])],1),a("v-list",[e._l(e.menu,(function(t){return[e.shouldDisplayMenuItem(t)?a("div",{key:JSON.stringify(t)},[t.header?a("v-subheader",[e._v("\n            "+e._s(t.header)+"\n          ")]):t.divider?a("v-divider",{key:JSON.stringify(t)}):t.items instanceof Array?a("v-list-group",{key:JSON.stringify(t),attrs:{group:t.group,value:"true"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-tile",{key:JSON.stringify(t),attrs:{to:t.href,title:t.title,disabled:t.disabled,router:"",ripple:""}},[t.icon?a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(e.$t(t.title)))])],1),a("v-list-tile-action",[a("v-icon")],1)],1)]},proxy:!0}],null,!0)}):a("v-list-tile",{key:JSON.stringify(t),attrs:{to:t.href,title:t.title,disabled:t.disabled,router:"",ripple:""}},[t.icon?a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(e.$t(t.title)))])],1)],1)],1):e._e()]}))],2)],1),e.isToolbarHide?e._e():a("v-toolbar",{staticClass:"app-toolbar",attrs:{app:"",fixed:"",color:"background"}},[a("v-toolbar-side-icon",{attrs:{dark:""},nativeOn:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"App-toolbar-title"},[a("img",{staticClass:"app-logo",attrs:{src:r("4d87"),alt:"avatar"}})]),a("div",{staticClass:"app-title"},[e._v("Time Machine")]),a("v-spacer"),e.userName?a("div",{staticClass:"user-name"},[e._v("Hi, "+e._s(e.userName))]):e._e()],1),a("v-content",[a("v-container",{attrs:{"pa-0":"",fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-top":""}},[a("router-view")],1)],1)],1)],1)},v=[],h=r("ef3c"),b=h["a"],y=r("2877"),x=r("6544"),j=r.n(x),g=r("7496"),k=r("8336"),w=r("a523"),C=r("549c"),O=r("ce7e"),_=r("132d"),P=r("a722"),R=r("8860"),I=r("56b0"),T=r("ba95"),S=r("40fe"),$=r("5d23"),D=r("f774"),N=r("9910"),E=r("e0c7"),V=r("71d9"),B=r("706c"),A=r("2a7f"),L=Object(y["a"])(b,p,v,!1,null,null,null),M=L.exports;j()(L,{VApp:g["a"],VBtn:k["a"],VContainer:w["a"],VContent:C["a"],VDivider:O["a"],VIcon:_["a"],VLayout:P["a"],VList:R["a"],VListGroup:I["a"],VListTile:T["a"],VListTileAction:S["a"],VListTileContent:$["a"],VListTileTitle:$["c"],VNavigationDrawer:D["a"],VSpacer:N["a"],VSubheader:E["a"],VToolbar:V["a"],VToolbarSideIcon:B["a"],VToolbarTitle:A["a"]});r("7f7f");var F=r("8c4f"),U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"page-container custom-dashboard-container",attrs:{"grid-list-xl":"",fluid:""}},[a("confirm",{ref:"confirm"}),a("v-flex",{attrs:{md12:""}},[a("h1",{staticClass:"mx-0"},[e._v("My Dashboard")])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"dummy-dashboard",attrs:{md12:"","px-2":""}},[a("img",{attrs:{src:r("8699")},on:{click:e.goToMockup}})])],1)],1)},q=[],H=(r("96cf"),r("3b8d")),W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{style:{zIndex:200},attrs:{id:"Confirm","content-class":"intake-dialog","max-width":"390",persistent:e.persistantValue},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:e.color,dense:"",flat:""}},[r("v-icon",[e._v(e._s(e.icon))]),r("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))])],1),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}]},[e._v(e._s(e.message))]),r("v-card-actions",{staticClass:"pt-0 clear-margin"},[r("v-spacer"),r("v-btn",{attrs:{color:"primary darken-1",flat:"flat"},nativeOn:{click:function(t){return e.agree(t)}}},[e._v("Yes")]),r("v-btn",{attrs:{color:"grey",flat:"flat"},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Cancel")])],1)],1)],1)},Y=[],z=(r("725a"),{data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,type:null,color:"primary",icon:null,persistantValue:!1}},methods:{revertback:function(){this.$emit("close")},open:function(e,t){var r=this;return this.dialog=!0,"info"===e||"infoAssign"===e?("infoAssign"===e&&(this.persistantValue=!0),this.title="Confirmation",""===t?this.message="Are you sure to confirm this?":(this.message=t,this.color="primary",this.icon="info")):"danger"===e?(this.title="Delete",this.message=t||"Are you sure you want to delete this record?",this.color="red",this.icon="delete"):"warning"===e&&(this.title="Warning",this.message="Are you sure to delete this?",this.color="primary",this.icon="warning"),new Promise((function(e,t){r.resolve=e,r.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}}),Q=z,J=r("b0af"),G=r("99d9"),K=r("169a"),Z=Object(y["a"])(Q,W,Y,!1,null,null,null),X=Z.exports;j()(Z,{VBtn:k["a"],VCard:J["a"],VCardActions:G["a"],VCardText:G["b"],VDialog:K["a"],VIcon:_["a"],VSpacer:N["a"],VToolbar:V["a"],VToolbarTitle:A["a"]});r("b0fb");var ee={components:{Confirm:X},methods:{goToMockup:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","This is an upcoming feature, Would you like to see an interactive mockup for the upcoming dashboard page?");case 2:if(!e.sent){e.next=4;break}window.open("https://xd.adobe.com/view/cf0b2fe2-65dd-4ecd-4085-bd256d678250-b93a/?fullscreen","_blank");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},te=ee,re=r("0e8f"),ae=Object(y["a"])(te,U,q,!1,null,null,null);ae.exports;j()(ae,{VContainer:w["a"],VFlex:re["a"],VLayout:P["a"]});var ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-layout",{attrs:{"d-flex":"","align-center":"","justify-center":"",row:"",wrap:""}},[e._v("\n    Authorizing...\n  ")])],1)},se=[],ie={data:function(){return{valid:!0}},methods:{}},oe=ie,ce=Object(y["a"])(oe,ne,se,!1,null,null,null),le=ce.exports;j()(ce,{VContainer:w["a"],VLayout:P["a"]});var ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-form"},[r("snackbar",{ref:"snackbar"}),r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:""}},[[r("v-expansion-panel",{staticClass:"mt-3",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("label",{staticClass:"sub-header-large"},[e._v("Project Overview")])])]},proxy:!0}])},[r("v-card",{staticClass:"baseinfostyle"},[r("v-card-text",[r("project-base-info",{ref:"projectBaseInfo",attrs:{project:e.project}})],1)],1),r("v-spacer"),r("v-spacer")],1)],1),r("v-expansion-panel",{staticClass:"mt-3",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("label",{staticClass:"sub-header-large"},[e._v("Notes")])])]},proxy:!0}])},[r("v-card",[r("div",{staticClass:"note-div"},[r("v-card-text",[e._l(e.$store.state.allProjectNotes,(function(t){return r("v-layout",{key:t.id},[t.parentId?e._e():r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"row"},[r("div",{staticClass:"column"},[r("div",{staticClass:"card"},[r("div",{staticClass:"headerdivstyle"},[r("span",{staticClass:"headerspan",domProps:{innerHTML:e._s(t.user.contact.fullName)}}),r("span",{staticClass:"headerdate",domProps:{innerHTML:e._s(new Date(t.noteTime).toString().slice(0,15))}})]),r("br"),r("span",{staticClass:"main-note",domProps:{innerHTML:e._s(t.note)}}),r("br"),e._l(e.$store.state.allProjectNotes,(function(a){return r("v-layout",{key:a.id},[a.parentId&&a.parentId==t.id?r("div",{staticStyle:{width:"100%"}},[r("br"),r("span",{staticClass:"reply-person",domProps:{innerHTML:e._s(a.user.contact.fullName)}}),r("span",{staticClass:"reply-note-time",domProps:{innerHTML:e._s(new Date(a.noteTime).toString().slice(0,15))}}),r("br"),r("span",{staticClass:"reply-note",domProps:{innerHTML:e._s(a.note)}})]):e._e()])})),r("v-layout",{staticClass:"replylayout"},[r("v-btn",{staticClass:"replybutton",attrs:{flat:"",large:"",color:"primary"},on:{click:function(r){return e.replynotes(t.id,t.user.contact.fullName)}}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}})]),e._v(" REPLY\n                                    ")])],1)],2)])]),r("br"),r("project-notes",{ref:t.id,refInFor:!0})],1)],1)],1)})),r("v-flex",{attrs:{md12:""}},[r("project-notes",{ref:"projectNoteNew",on:{closeNotes:e.closeNotes}}),r("v-flex",{staticClass:"create-note",attrs:{xs3:"","offset-xs9":"","align-end":""}},[r("v-btn",{attrs:{color:"btnPrimary",dark:""},on:{click:function(t){return e.newnotes(1)}}},[e._v("Create Note")])],1)],1)],2)],1)])],1)],1),r("div",[r("v-tabs",{staticClass:"mt-4"},[r("v-tab",{attrs:{ripple:"",href:"#rfx"}},[e._v("RFx Type and Phase")]),r("v-tab",{attrs:{ripple:"",href:"#contacts"}},[e._v("Contacts")]),e.project.client&&!e.project.client.isNonMinistry?r("v-tab",{attrs:{ripple:"",href:"#finance"}},[e._v("Finance Codes")]):e._e(),r("v-tab",{attrs:{ripple:"",href:"#risk"},on:{click:function(t){return e.initializeRisk()}}},[e._v("Risk")]),r("v-tab",{attrs:{ripple:"",href:"#procurement"}},[e._v("Procurement Log")]),r("v-flex",{attrs:{"justify-end":"","align-end":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"prepend-inner-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-tab-item",{attrs:{value:"rfx"}},[e._l(e.projectRfxData,(function(t,a){return r("v-expansion-panel",{key:t.id,staticClass:"rfx-summary-panel",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("RFx Type and Phase #"+e._s(a+1))])])],1)]},proxy:!0}],null,!0)},[r("v-card",[r("v-card-text",[r("project-rfx",{ref:"rfxForm",refInFor:!0,attrs:{rfxData:t,project:e.project}})],1)],1)],1)],1)})),r("v-card",[r("v-flex",{attrs:{xs12:""}},[r("div",[r("v-flex",{attrs:{md12:"","py-3":"","px-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.addNewRFx}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v("Add Another RFx Type\n                          ")],1)],1)],1)])],1)],2),r("v-tab-item",{staticClass:"contacts",attrs:{value:"contacts"}},[r("v-card",[r("v-card-text",[r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Client Lead")]),r("project-contact-info",{ref:"projectLead",attrs:{contact:e.projectContactData("clientlead"),contactNameLabel:"Client Lead Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Executive Sponsor")]),r("project-contact-info",{ref:"projectSponsor",attrs:{contact:e.projectContactData("clientsponsor"),contactNameLabel:"Executive Sponsor Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Financial Contact")]),r("project-contact-info",{ref:"projectFinancier",attrs:{contact:e.projectContactData("clientfinance"),contactNameLabel:"Financial Contact Name"}})],1),e._l(e.AllContactData,(function(t,a){return r("v-flex",{key:a,attrs:{xs12:"",md6:"","my-3":"",value:0}},[r("h3",{staticClass:"v-form-container"},[e._v("Additional Contact")]),r("project-additional-contact-info",{ref:"additionalcontactinfo",refInFor:!0,attrs:{additionalContact:t,contact:t,contactNameLabel:"Contact Name",isRequired:!1}})],1)}))],2),r("v-card",[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"contact-button-div"},[r("v-btn",{attrs:{color:"primary"},on:{click:e.addNewContact}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v("Add Contacts\n                              ")],1)],1)])],1),r("v-layout",[r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.saveProjectContacts}},[e._v("Save")])],1)],1)])])],1)],1)])],1)],1),r("v-tab-item",{attrs:{value:"finance"}},[r("v-card",[r("v-card-text",[e.project&&e.project.client?r("project-finance-info",{ref:"projectFinanceInfo",attrs:{financeInfo:e.project.client}}):e._e(),r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.saveFinanceCodes}},[e._v("Save")])],1)],1)])])],1)],1)],1),r("v-tab-item",{attrs:{value:"risk"}},[r("v-card",[r("v-card-text",[e.project?r("project-risk-assessment",{ref:"projectRiskAssessment",attrs:{projectId:e.projectId}}):e._e()],1)],1)],1),r("v-tab-item",{attrs:{value:"procurement"}},[r("v-expansion-panel",{staticClass:"mt-4",attrs:{value:0}},[r("v-expansion-panel-content",[r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h4",{staticClass:"projects-header"},[e._v("\n                              Procurement Log\n                            ")])]),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("procurement-log",{ref:"ProcurementLog",on:{close:e.close}}),r("v-btn",{staticClass:"add-timesheet-button",attrs:{color:"btnPrimary",dark:""},on:{click:e.newProcurementLog}},[e._v("Add Log")])],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("procurement-log-table",{ref:"procurementtable",attrs:{search:e.search}})],1)],1)],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1)],1)},de=[],fe=(r("f576"),r("28a5"),r("768b")),me=r("7bb1"),pe=r("6f86"),ve=r("d225"),he=r("b0b4"),be=r("308d"),ye=r("6bb5"),xe=r("013f"),je=r("4e2b"),ge=r("e8d8"),ke=function(e){function t(){var e,r;Object(ve["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(be["a"])(this,(e=Object(ye["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(xe["a"])(r),"id",""),Object(l["a"])(Object(xe["a"])(r),"contactType",""),Object(l["a"])(Object(xe["a"])(r),"userId",""),Object(l["a"])(Object(xe["a"])(r),"fullName",""),Object(l["a"])(Object(xe["a"])(r),"orgName",""),Object(l["a"])(Object(xe["a"])(r),"orgPosition",""),Object(l["a"])(Object(xe["a"])(r),"email",""),Object(l["a"])(Object(xe["a"])(r),"phoneNumber",""),Object(l["a"])(Object(xe["a"])(r),"addressLine1",""),Object(l["a"])(Object(xe["a"])(r),"addressLine2",""),Object(l["a"])(Object(xe["a"])(r),"city",""),Object(l["a"])(Object(xe["a"])(r),"province",""),Object(l["a"])(Object(xe["a"])(r),"country",""),Object(l["a"])(Object(xe["a"])(r),"postalCode",""),Object(l["a"])(Object(xe["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(xe["a"])(r),"dateModified",new Date),r}return Object(je["a"])(t,e),Object(he["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,ge["a"].setProperties(e,r)),r}}]),t}(ge["a"]),we=function(e){function t(){var e,r;Object(ve["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(be["a"])(this,(e=Object(ye["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(xe["a"])(r),"id",""),Object(l["a"])(Object(xe["a"])(r),"roleName",""),Object(l["a"])(Object(xe["a"])(r),"contactType",""),Object(l["a"])(Object(xe["a"])(r),"userId",""),Object(l["a"])(Object(xe["a"])(r),"fullName",""),Object(l["a"])(Object(xe["a"])(r),"orgName",""),Object(l["a"])(Object(xe["a"])(r),"orgPosition",""),Object(l["a"])(Object(xe["a"])(r),"email",""),Object(l["a"])(Object(xe["a"])(r),"phoneNumber",""),Object(l["a"])(Object(xe["a"])(r),"addressLine1",""),Object(l["a"])(Object(xe["a"])(r),"addressLine2",""),Object(l["a"])(Object(xe["a"])(r),"city",""),Object(l["a"])(Object(xe["a"])(r),"province",""),Object(l["a"])(Object(xe["a"])(r),"country",""),Object(l["a"])(Object(xe["a"])(r),"postalCode",""),Object(l["a"])(Object(xe["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(xe["a"])(r),"dateModified",new Date),r}return Object(je["a"])(t,e),Object(he["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,ge["a"].setProperties(e,r)),r}}]),t}(ge["a"]),Ce=r("c0a4"),Oe=r.n(Ce),_e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"ProcurementLog","max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"ProcurementLogs",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",[r("v-card-text",{staticClass:"card-contents"},[r("v-flex",{attrs:{md12:"",row:"",wrap:""}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Add New Log")]),r("v-spacer"),r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},on:{click:function(t){return e.closelog()}}},[r("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])],1),r("v-divider",{staticClass:"header-divider"})],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{items:e.itemList,"item-value":"id","item-text":"logType",label:"Select a Log Type"},model:{value:e.logType,callback:function(t){e.logType=t},expression:"logType"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Risk Owner"},model:{value:e.riskOwnerName,callback:function(t){e.riskOwnerName=t},expression:"riskOwnerName"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{attrs:{name:"description-of-the-issue",label:"Description of the Issue","no-resize":""},model:{value:e.issueDescription,callback:function(t){e.issueDescription=t},expression:"issueDescription"}})],1)]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{readonly:"",rules:e.requiredRule,label:"Date to Client","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.dateToClient,callback:function(t){e.dateToClient=t},expression:"dateToClient"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(t){e.menu1=!1}},model:{value:e.dateToClient,callback:function(t){e.dateToClient=t},expression:"dateToClient"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{items:e.notificationMethodList,"item-value":"id","item-text":"notificationMethod",label:"Method of Notification"},model:{value:e.notificationMethod,callback:function(t){e.notificationMethod=t},expression:"notificationMethod"}})],1)])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:e.rfxPhases,label:"Current Phase","item-value":"rfxPhaseName","item-text":"rfxPhaseName"},model:{value:e.phaseImpactName,callback:function(t){e.phaseImpactName=t},expression:"phaseImpactName"}})],1)])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Client Decision"},model:{value:e.clientDecision,callback:function(t){e.clientDecision=t},expression:"clientDecision"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{readonly:"",rules:e.requiredRule,label:"Follow Up Date","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.followUpDate,callback:function(t){e.followUpDate=t},expression:"followUpDate"}},a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(t){e.menu2=!1}},model:{value:e.followUpDate,callback:function(t){e.followUpDate=t},expression:"followUpDate"}})],1)],1)])],1),r("v-flex",{attrs:{md12:""}},[r("v-flex",{staticClass:"buttondiv",attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:e.saveProcurementLog}},[e._v("ADD LOG")])],1)],1)],1)],1)],1)],1)],1)],1)},Pe=[],Re=(r("7514"),r("085a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{class:[e.top?"snackbar-top":""],attrs:{top:"",fixed:"","auto-height":"",value:e.open,color:e.color}},[e.haveMultipleErrors?r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.messages,(function(t){return r("v-flex",{key:t.message,attrs:{xs12:"","text-xs-center":"","py-0":""}},[r("v-icon",{attrs:{color:"white"}},[e._v(e._s(e.icon))]),r("span",{staticStyle:{"vertical-align":"text-bottom"}},[e._v(e._s(t.message))])],1)})),1):r("div",[r("v-icon",{staticClass:"snackbar-v-icon",attrs:{color:"white"}},[e._v(e._s(e.icon))]),r("span",{staticStyle:{"vertical-align":"text-bottom"}},[e._v(e._s(e.message))])],1)],1)}),Ie=[],Te=r("5118"),Se={data:function(){return{top:!1,message:null,open:!1,color:null,icon:null,haveMultipleErrors:!1,messages:[]}},methods:{displaySnackbar:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.haveMultipleErrors=!1,this.top=!1,"success"===t?(this.color="success",this.icon="check_circle"):"error"===t?(this.color="error",this.icon="error"):"info"===t?(this.color="info",this.icon="info"):"warning"===t&&(this.color="warning",this.icon="warning"),this.open=!0,this.message=r,Object(Te["setTimeout"])((function(){a.open=!1}),3e3);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),displaySnackbarTop:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.top=!0,this.haveMultipleErrors=!1,"success"===t?(this.color="success",this.icon="check_circle"):"error"===t?(this.color="error",this.icon="error"):"info"===t?(this.color="info",this.icon="info"):"warning"===t&&(this.color="warning",this.icon="warning"),this.open=!0,this.message=r,Object(Te["setTimeout"])((function(){a.open=!1}),3e3);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),displayMultipleErrorSnackbar:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"error"===t&&(this.haveMultipleErrors=!0,this.color="error",this.icon="error",this.messages=r,this.open=!0),Object(Te["setTimeout"])((function(){a.open=!1}),3e3);case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}},$e=Se,De=(r("9a1c"),r("2db4")),Ne=Object(y["a"])($e,Re,Ie,!1,null,null,null),Ee=Ne.exports;j()(Ne,{VFlex:re["a"],VIcon:_["a"],VLayout:P["a"],VSnackbar:De["a"]});var Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showSpinner?r("div",{staticClass:"text-xs-center overlay"},[r("v-progress-circular",{attrs:{size:50,indeterminate:"",color:"primary"}})],1):e._e()},Be=[],Ae=(r("fb94"),{data:function(){return{showSpinner:!1}},methods:{open:function(){this.showSpinner=!0},close:function(){this.showSpinner=!1}}}),Le=Ae,Me=r("490a"),Fe=Object(y["a"])(Le,Ve,Be,!1,null,null,null),Ue=Fe.exports;function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}j()(Fe,{VProgressCircular:Me["a"]});var We={computed:{projectRfx:function(){return this.$store.state.activeProjectRfxData},rfxPhases:function(){return this.$store.state.rfxPhases}},components:{Snackbar:Ee,Spinner:Ue},data:function(){return this.initData()},watch:{},props:{timeEntry:Object},methods:{closelog:function(){this.initData(),this.$emit("close"),this.dialog=!1},saveProcurementLog:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(this.logType,this.notificationMethod,this.phaseImpactName),t=this.$store.state.activeUser.refId,r=this.$store.state.users.find((function(e){return e.referenceId===t})),a={logType:this.logType,riskOwner:this.riskOwnerName,descriptionOfIssue:this.issueDescription,dateToClient:this.dateToClient,notificationMethod:this.notificationMethod,phaseImpactName:this.phaseImpactName,clientDecision:this.clientDecision,followUpDate:this.followUpDate,projectId:this.$store.state.activeProject.id,isResolved:this.isResolved,userId:r.id},!this.id){e.next=11;break}return console.log("suppose to update",this.id),a.id=this.id,e.next=9,this.$store.dispatch("updateProctLog",{procurementlog:a}).then((function(){n.$refs.snackbar.displaySnackbar("success","Updated"),n.closeDialog()}),(function(e){try{var t=e.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",t)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 9:e.next=14;break;case 11:return console.log("suppose to add new"),e.next=14,this.$store.dispatch("updateProcurementLog",{id:"34534-345345-45353",procurementlog:a}).then((function(){n.$refs.snackbar.displaySnackbar("success","Updated"),n.closeDialog()}),(function(e){try{var t=e.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",t)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},open:function(){this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},openWithValues:function(e){this.id=e.id,this.logType=e.logType,this.riskOwnerName=e.riskOwner,this.issueDescription=e.descriptionOfIssue,this.dateToClient=e.dateToClient.substring(0,10),this.notificationMethod=e.notificationMethod,this.phaseImpactName=e.phaseImpactName,this.clientDecision=e.clientDecision,this.followUpDate=e.followUpDate.substring(0,10),this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},closeDialog:function(){this.issueDescription="",this.$emit("close"),this.dialog=!1},reset:function(){this.dateToClient="",this.followUpDate="",this.riskOwnerName="",this.issueDescription="",this.clientDecision="",this.notificationMethod="",this.phaseImpactName="",this.logType=""},initData:function(){var e=Object.assign({},this.$props.timeEntry);e.userId=this.$store.state.activeUser.id;return{id:void 0,activeTab:"weekly",recordType:1,valid:!0,requiredRule:[function(e){return!!e||"This field required"}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],dialog:!1,menu1:!1,menu2:!1,form:He({},e),dateFormatted:void 0,dateToClient:"",followUpDate:"",phaseImpactName:"",riskOwnerName:"",issueDescription:"",isResolved:!1,logType:"",itemList:[{id:"Contact Update",logType:"Contact Update"},{id:"RFX Update",logType:"RFX Update"},{id:"Project Lead",logType:"Project Lead"},{id:"Risk Assessment",logType:"Risk Assessment"}],notificationMethod:"",notificationMethodList:[{id:"Phone",notificationMethod:"Phone"},{id:"Email",notificationMethod:"Email"},{id:"In person",notificationMethod:"In person"}],clientDecision:""}}}},Ye=We,ze=(r("c9f9"),r("12b2")),Qe=r("2e4b"),Je=r("4bd4"),Ge=r("e449"),Ke=r("b56d"),Ze=r("2677"),Xe=r("a844"),et=Object(y["a"])(Ye,_e,Pe,!1,null,"1e75d0a4",null),tt=et.exports;j()(et,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VCardTitle:ze["a"],VDatePicker:Qe["a"],VDialog:K["a"],VDivider:O["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VMenu:Ge["a"],VSelect:Ke["a"],VSpacer:N["a"],VTextField:Ze["a"],VTextarea:Xe["a"]});var rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("v-form",{ref:"projectBaseInfo",attrs:{id:"projectBaseInfo","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":""}},[r("v-btn",{attrs:{disabled:!e.valid||e.saveProjectLoading,loading:e.saveProjectLoading,color:"primary"},on:{click:e.onSave}},[e._v("Save")])],1)],1)])]),r("v-flex",{attrs:{xs12:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-combobox",{attrs:{items:e.mouList,label:"Assign or Create MOU","persistent-hint":"","item-text":"name","search-input":e.mouSearch},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createMOU(t)},"update:searchInput":function(t){e.mouSearch=t},"update:search-input":function(t){e.mouSearch=t}},scopedSlots:e._u([e.mouSearch&&e.mouSearch.length?{key:"no-data",fn:function(){return[r("v-list-tile",[r("v-list-tile-content",[r("v-list-tile-title",[e._v('\n                      No results matching "'),r("strong",[e._v(e._s(e.mouSearch))]),e._v('".\n                      Press '),r("kbd",[e._v("enter")]),e._v(" to create a new one\n                    ")])],1)],1)]},proxy:!0}:null],null,!0),model:{value:e.project.mou,callback:function(t){e.$set(e.project,"mou",t)},expression:"project.mou"}})],1)])],1),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Name"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container pl-0"},[r("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Deadline","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.completionDate,callback:function(t){e.$set(e.form,"completionDate",t)},expression:"form.completionDate"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1}},model:{value:e.form.completionDate,callback:function(t){e.$set(e.form,"completionDate",t)},expression:"form.completionDate"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-container",{staticStyle:{padding:"0px !important"},attrs:{fluid:"",row:"",wrap:"","align-start":"","justify-end":"","fill-height":""}},[r("v-flex",{attrs:{md3:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"2%"}},[e._v("Non-Ministry")])]),r("v-flex",{attrs:{md1:""}},[r("v-checkbox",{model:{value:e.form.client.isNonMinistry,callback:function(t){e.$set(e.form.client,"isNonMinistry",t)},expression:"form.client.isNonMinistry"}})],1),r("v-flex",{attrs:{md8:""}},[e.form.client.isNonMinistry?r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Non Ministry Name"},model:{value:e.form.client.nonMinistryName,callback:function(t){e.$set(e.form.client,"nonMinistryName",t)},expression:"form.client.nonMinistryName"}}):e._e(),e.form.client.isNonMinistry?e._e():r("v-select",{staticClass:"required",attrs:{items:e.ministries,label:"Ministry",rules:e.requiredRule,"item-value":"id","item-text":"ministryName"},model:{value:e.form.client.ministry.id,callback:function(t){e.$set(e.form.client.ministry,"id",t)},expression:"form.client.ministry.id"}})],1)],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Branch",readonly:""},model:{value:e.form.client.orgDivision,callback:function(t){e.$set(e.form.client,"orgDivision",t)},expression:"form.client.orgDivision"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.amountRule,"prepend-inner-icon":"attach_money",label:"Contract Amount",oninput:"validity.valid||(value='');",value:e._f("withCommas")(e.form.contractValue)},on:{blur:function(t){return e.form.contractValue=parseFloat(t.target.value)}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{"prepend-inner-icon":"attach_money",label:"MOU Amount",type:"number",min:0,step:"any",oninput:"validity.valid||(value='');"},model:{value:e.form.mouAmount,callback:function(t){e.$set(e.form,"mouAmount",t)},expression:"form.mouAmount"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:e.userList,rules:e.requiredRule,label:"Project Lead","item-value":"id","item-text":"contact.fullName"},nativeOn:{click:function(t){return e.getProjectLead(e.form.leadUserId)}},model:{value:e.form.leadUserId,callback:function(t){e.$set(e.form,"leadUserId",t)},expression:"form.leadUserId"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{items:e.userList,label:"Project Backup","item-value":"id","item-text":"contact.fullName"},model:{value:e.form.backupUserId,callback:function(t){e.$set(e.form,"backupUserId",t)},expression:"form.backupUserId"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",[r("v-container",{attrs:{fluid:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"4%"}},[e._v("Reprocurement?")]),r("v-radio-group",{attrs:{row:""},model:{value:e.form.isReprocurement,callback:function(t){e.$set(e.form,"isReprocurement",t)},expression:"form.isReprocurement"}},[r("v-radio",{attrs:{label:" Yes",value:!0,"form.isReprocurement":""}}),r("v-radio",{attrs:{label:" No",value:!1,"form.isReprocurement":""}})],1)],1)],1)]),e.form.isReprocurement?r("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{rules:e.requiredRule,label:"Date of Procurement","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}},a))]}}],null,!1,1003440785),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu2=!1}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}})],1):e._e(),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[e.form.isReprocurement?r("v-textarea",{staticClass:"required",attrs:{name:"background",label:"Background of project","no-resize":"",rows:"4",rules:e.requiredRule},model:{value:e.form.previousContractBackground,callback:function(t){e.$set(e.form,"previousContractBackground",t)},expression:"form.previousContractBackground"}}):e._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"impact",label:"Impact if Project fails","no-resize":"",rows:"4",rules:e.requiredRule},model:{value:e.form.projectFailImpact,callback:function(t){e.$set(e.form,"projectFailImpact",t)},expression:"form.projectFailImpact"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"success",label:"Overview of success","no-resize":"",rows:"4",rules:e.requiredRule},model:{value:e.form.projectSuccess,callback:function(t){e.$set(e.form,"projectSuccess",t)},expression:"form.projectSuccess"}})],1)])],1)],1)},at=[],nt=(r("3d84"),r("aae1")),st=r("4603"),it=r("99e3");function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lt={components:{Snackbar:Ee},props:{nextPanel:Function,panelName:String,project:Object,ministry:Object},computed:{computedDateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors},userList:function(){return this.$store.state.users},ministries:function(){return this.$store.state.ministries},mouList:function(){return this.$store.state.mouList}},data:function(){var e=Object.assign({},this.$props.project),t=e.projectSector||null;t||(e.projectSector=new st["a"]);var r=e.client||null;return r||(e.client=new it["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field is required"}],form:ct({},e),selectedLeadUser:"",menu1:!1,menu2:!1,ministryname:e.client.ministry?e.client.ministry.id:e.client.nonMinistryName,saveProjectLoading:!1,ministryInformation:this.$store.state.ministryInformation,mouSearch:null,amountRule:[function(e){if(!e)return"This field is required";var t=e.toString().match(/[^\d,]+/g,"");return!t||"Field must just be a number."}]}},watch:{valid:function(e){this.$store.state.ministryInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new st["a"])},ministry:function(e){this.form=e;var t=this.form.client.ministry||null;t||(this.form.client.ministry=new nt["a"])}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},onBlurNumber:function(e){this.visible=!1,this.temp=this.amount,this.amount=this.thousandSeprator(this.amount)},onFocusText:function(){this.visible=!0,this.amount=this.temp},thousandSeprator:function(e){return""!==e||void 0!==e||0!==e||"0"!==e||null!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e},parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},getProjectLead:function(e){this.selectedLeadUser=e},onSave:function(){var e=this,t=this;if(this.$refs.projectBaseInfo.validate()){for(var r=0;r<this.$store.state.ministries.length;r++)this.form.client&&this.form.client.ministry&&this.$store.state.ministries[r].id==this.form.client.ministry.id&&(this.form.client.ministry.ministryName=this.$store.state.ministries[r].ministryName);this.form.client.isNonMinistry||(this.form.client.NonMinistryName=void 0),this.$store.state.ministryInformation=!0;var a=Object.assign({},this.form);this.saveProjectLoading=!0,this.$store.dispatch("updateProject",a).then((function(){e.saveProjectLoading=!1,t.$refs.snackbar.displaySnackbar("success","Updated"),t.$store.dispatch("fetchProjects")}),(function(r){if(e.saveProjectLoading=!1,r&&r.response&&r.response.data&&r.response.data.error){t.form.leadUserId=t.selectedLeadUser;var a=r.response.data.error.message;t.$refs.snackbar.displaySnackbar("error",a)}else t.form.leadUserId=t.selectedLeadUser,t.$refs.snackbar.displaySnackbar("error","Failed to update project.")}))}},createMOU:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.project.mou){e.next=4;break}return e.next=3,this.$store.dispatch("createMOU",{name:this.project.mou});case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchData:function(){this.$store.dispatch("fetchUsers")}},created:function(){this.fetchData()}},ut=lt,dt=r("ac7c"),ft=r("2b5d"),mt=r("67b6"),pt=r("43a6"),vt=Object(y["a"])(ut,rt,at,!1,null,null,null),ht=vt.exports;j()(vt,{VBtn:k["a"],VCheckbox:dt["a"],VCombobox:ft["a"],VContainer:w["a"],VDatePicker:Qe["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VListTile:T["a"],VListTileContent:$["a"],VListTileTitle:$["c"],VMenu:Ge["a"],VRadio:mt["a"],VRadioGroup:pt["a"],VSelect:Ke["a"],VTextField:Ze["a"],VTextarea:Xe["a"]});var bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"newNote","max-width":"40%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"newNotes",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",{staticStyle:{width:"100%"}},[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{row:"",wrap:""}},[e.replyNoteName?r("v-flex",{staticClass:"replyheaderdiv",attrs:{md12:""}},[r("div",{staticClass:"replytoheader"},[e._v("Reply to: "+e._s(e.replyNoteName))])]):e._e(),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{attrs:{name:"project-description",label:"Please input your note below","no-resize":""},model:{value:e.userNote,callback:function(t){e.userNote=t},expression:"userNote"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:function(t){return e.savenote()}}},[e._v("Save Note")])],1)],1)],1)],1)],1)],1)],1)],1)},yt=[],xt={computed:{projectRfx:function(){return this.$store.state.activeProjectRfxData}},components:{Snackbar:Ee,Spinner:Ue},data:function(){return this.initData()},watch:{},props:{timeEntry:Object},methods:{savenote:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("flag value",this.flag),t=this.$store.state.activeUser.refId,r=this.$store.state.users.find((function(e){return e.referenceId===t})),1!=this.flag&&(this.parentNoteId=this.flag),a={note:this.userNote,projectId:this.$store.state.activeProject.id,userId:r.id,parentId:this.parentNoteId},console.log(a),e.next=8,this.$store.dispatch("addProjectNotes",{projectNotes:a}).then((function(){var e=n.$router.currentRoute.params,t=e.id||void 0;n.$store.dispatch("fetchAllProjectNotes",{id:t}),n.$refs.snackbar.displaySnackbar("success","Updated"),n.closeDialog()}),(function(e){try{var t=e.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",t)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},open:function(e,t){this.replyNoteName=t,this.flag=e,this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},closeDialog:function(){this.$emit("closeNotes"),this.dialog=!1},reset:function(){},initData:function(){var e=Object.assign({},this.$props.timeEntry);e.userId=this.$store.state.activeUser.id;return{flag:void 0,valid:!0,requiredRule:[function(e){return!!e||"This field required"}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],dialog:!1,userNote:"",replyNoteName:void 0,parentNoteId:void 0}}}},jt=xt,gt=(r("dc8c"),Object(y["a"])(jt,bt,yt,!1,null,"42615bd6",null)),kt=gt.exports;j()(gt,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VDialog:K["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VTextarea:Xe["a"]});var wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-form",{ref:"projectContact",attrs:{id:"projectSponsor projectLead","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:e.contactNameLabel},model:{value:e.form.fullName,callback:function(t){e.$set(e.form,"fullName",t)},expression:"form.fullName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.emailRules,label:"Email Address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:"Organization"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:"Position"},model:{value:e.form.orgPosition,callback:function(t){e.$set(e.form,"orgPosition",t)},expression:"form.orgPosition"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.phoneRule,label:"Phone Number",mask:"phone"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1)])],1)],1)},Ct=[];r("c911");function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pt={components:{},props:{contact:Object,contactNameLabel:String,isRequired:Boolean},data:function(){var e=this,t=Object.assign({},new ke,this.$props.contact);return{valid:!0,requiredRule:this.$props.isRequired?[function(e){return!!e||"This field is required"}]:[],emailPattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,emailRules:this.$props.isRequired?[function(e){return!!e||"This field is required"},function(t){return e.emailPattern.test(t)||"Email must be valid"}]:[function(t){return!t||e.emailPattern.test(t)||"Email must be valid"}],phoneRule:this.$props.isRequired?[function(e){return!!e||"This field is required"},function(e){return e.length>=10||"Invalid Phone"}]:[function(e){return!e||e.length>=10||"Invalid Phone"}],contactInformation:this.$store.state.contactInformation,form:_t({},t),inputClass:this.$props.isRequired?"required":""}},watch:{valid:function(e){this.$store.state.contactInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(e){this.form=e||new ke}},methods:{onNextClicked:function(){return this.$refs.projectContact.validate()?this.$store.state.contactInformation=!0:this.$store.state.contactInformation=!1,this.$store.state.contactInformation},reset:function(){this.$refs.projectContact.reset()},Validate:function(){this.$refs.projectContact.validate()}}},Rt=Pt,It=Object(y["a"])(Rt,wt,Ct,!1,null,null,null),Tt=It.exports;j()(It,{VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VTextField:Ze["a"]});var St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("v-form",{ref:"form",attrs:{id:"project-rfx","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{xs12:"","px-4":""}},[r("div",{staticClass:"v-form-actions"},[r("v-btn",{staticClass:"ma-0 save-rfx-btn",attrs:{color:"primary",disabled:e.saveRFxBtnLoading,loading:e.saveRFxBtnLoading},on:{click:e.saveRFxForm}},[e._v("Save")])],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:e.rfxTypes,rules:e.required,label:"RFx Type","item-value":"id","item-text":"rfxTypeName"},model:{value:e.rfxForm.rfxType.id,callback:function(t){e.$set(e.rfxForm.rfxType,"id",t)},expression:"rfxForm.rfxType.id"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:e.rfxPhases,rules:e.required,label:"Current Phase","item-value":"id","item-text":"rfxPhaseName"},model:{value:e.rfxForm.rfxPhase.id,callback:function(t){e.$set(e.rfxForm.rfxPhase,"id",t)},expression:"rfxForm.rfxPhase.id"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"inputClass required",attrs:{rules:e.required,label:"RFx Name"},model:{value:e.rfxForm.rfxName,callback:function(t){e.$set(e.rfxForm,"rfxName",t)},expression:"rfxForm.rfxName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"rfx-overview",label:"Summary of RFx","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.rfxOverview,callback:function(t){e.$set(e.rfxForm,"rfxOverview",t)},expression:"rfxForm.rfxOverview"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"client-responsibilities",label:"Client Responsibilities","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.clientResponsibilities,callback:function(t){e.$set(e.rfxForm,"clientResponsibilities",t)},expression:"rfxForm.clientResponsibilities"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"psd-responsibilities",label:"PSD Responsibilities","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.psdResponsibilities,callback:function(t){e.$set(e.rfxForm,"psdResponsibilities",t)},expression:"rfxForm.psdResponsibilities"}})],1)])],1)],1)},$t=[];function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Et={props:{rfxData:Object,project:Object},components:{Snackbar:Ee},data:function(){var e=Object.assign({},this.$props.rfxData);return{required:[function(e){return!!e||"This field is required"}],rfxForm:Nt({},e),valid:!0,saveRFxBtnLoading:!1}},computed:{rfxTypes:function(){return this.$store.state.rfxTypes},rfxPhases:function(){return this.$store.state.rfxPhases}},methods:{saveRFxForm:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate()&&(t=Object.assign({},this.rfxForm),t.project=this.project,t&&t.project&&t.project.id&&(this.saveRFxBtnLoading=!0,t.id?(this.$store.dispatch("updateProjectRFxData",t),this.$refs.snackbar.displaySnackbar("success","Updated"),this.saveRFxBtnLoading=!1):this.$store.dispatch("addProjectRFxData",t).then((function(e){r.saveRFxBtnLoading=!1,r.$refs.snackbar.displaySnackbar("success","Saved"),e.id&&(r.rfxForm.id=e.id)}))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Vt=Et,Bt=Object(y["a"])(Vt,St,$t,!1,null,null,null),At=Bt.exports;j()(Bt,{VBtn:k["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VSelect:Ke["a"],VTextField:Ze["a"],VTextarea:Xe["a"]});var Lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("v-form",{ref:"projectFinance",attrs:{id:"projectFinanceInfo"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"finance-code-block"},[r("h3",{staticClass:"finance-header"},[e._v("\n            Finance Codes\n          ")]),r("span",{staticClass:"mb-4 d-block"},[e._v("\n             Please note: To complete the intake form these fields are optional. However, a project cannot be assigned without finance codes.\n           ")])])])]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Client No. (3 characters)",rules:[e.rules.clientNoRules],maxlength:"3"},model:{value:e.financeInfo.clientNo,callback:function(t){e.$set(e.financeInfo,"clientNo",t)},expression:"financeInfo.clientNo"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Responsibility Center (5 characters)",rules:[e.rules.responsibilityCenterRules],maxlength:"5"},model:{value:e.financeInfo.responsibilityCenter,callback:function(t){e.$set(e.financeInfo,"responsibilityCenter",t)},expression:"financeInfo.responsibilityCenter"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Service Center (5 characters)",rules:[e.rules.serviceCenterRules],maxlength:"5"},model:{value:e.financeInfo.serviceCenter,callback:function(t){e.$set(e.financeInfo,"serviceCenter",t)},expression:"financeInfo.serviceCenter"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"STOB (4 characters)",rules:[e.rules.stobRules],maxlength:"4"},model:{value:e.financeInfo.stob,callback:function(t){e.$set(e.financeInfo,"stob",t)},expression:"financeInfo.stob"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Project Code (7 characters)",rules:[e.rules.projectCodeRules],maxlength:"7"},model:{value:e.financeInfo.projectCode,callback:function(t){e.$set(e.financeInfo,"projectCode",t)},expression:"financeInfo.projectCode"}})],1)])],1)],1)},Mt=[];r("fce1");function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qt={props:{financeInfo:Object},data:function(){var e=this,t=Object.assign({},this.$props.financeInfo);return{valid:!0,rules:{clientNoRules:function(t){return e.showValidationMessage(t,3)},responsibilityCenterRules:function(t){return e.showValidationMessage(t,5)},serviceCenterRules:function(t){return e.showValidationMessage(t,5)},stobRules:function(t){return e.showValidationMessage(t,4)},projectCodeRules:function(t){return e.showValidationMessage(t,7)}},form:Ut({},t)}},watch:{financeInfo:function(e){this.form=e}},methods:{showValidationMessage:function(e,t){return!e||!e.length||e.length===t||"Exactly ".concat(t," characters required")},validate:function(){return this.$refs.projectFinance.validate()}}},Ht=qt,Wt=Object(y["a"])(Ht,Lt,Mt,!1,null,null,null),Yt=Wt.exports;j()(Wt,{VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VTextField:Ze["a"]});var zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"project-risk-edit",attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),r("v-flex",{staticClass:"mb-4"},[r("label",{staticClass:"primary-heading sub-header-large"},[e._v("Risk Assessment")]),r("div",{staticClass:"all-risk-scores"},[e.intakeScore&&e.intakeScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("Intake Risk Score: ")]),r("span",{class:"level-"+e.intakeScore.level},[e._v(e._s(e.intakeScore.level)+" ( "+e._s(e.intakeScore.percentage)+"% )")])]):e._e(),e.psbScore&&e.psbScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("PSB Risk Score: ")]),r("span",{class:"level-"+e.psbScore.level},[e._v(e._s(e.psbScore.level)+" ( "+e._s(e.psbScore.percentage)+"% )")])]):e._e(),e.totalScore&&e.totalScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("Total Risk Score: ")]),r("span",{class:"level-"+e.totalScore.level},[e._v(e._s(e.totalScore.level)+" ( "+e._s(e.totalScore.percentage)+"% )")])]):e._e(),e.needSpo?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("SPO Engagement Need? ")]),r("span",[e._v(e._s(e.needSpo))])]):e._e()])]),r("v-form",{ref:"projectRiskAssessment",staticClass:"project-risk",attrs:{id:"project-risk-assessment","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.editScreen?r("div",[e._l(e.intakeRiskQuestions,(function(t){return r("v-flex",{key:t.id,attrs:{sm12:""}},[r("v-flex",{attrs:{sm12:""}},[1==t.questionNo?r("div",[r("h3",[e._v(e._s(e.categoryList[t.category-1].text))]),r("br")]):e._e(),e.categoryList[t.category-1].showStatus||1==t.questionNo?r("div",[r("div",{staticClass:"question",domProps:{innerHTML:e._s(t.question)}}),t.answer&&t.answer[0]&&t.answer[0].answer.length<16?r("v-radio-group",{attrs:{row:"",rules:e.requireRadioButtondRule},on:{change:function(t){return e.calculateData()}},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.upateCategoryStatus(t,n)}}})})),1):e._e(),t.answer&&t.answer[0]&&t.answer[0].answer.length>15?r("v-radio-group",{attrs:{rules:e.requireRadioButtondRule,column:""},on:{change:function(t){return e.calculateData()}},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.upateCategoryStatus(t,n)}}})})),1):e._e()],1):e._e()])],1)})),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onSave}},[e._v("Save")]),r("v-btn",{attrs:{color:"secondary"},on:{click:e.onCancel}},[e._v("cancel")])],1)],1)])])],2):r("div",{staticClass:"project-risk-anaysis"},[r("v-flex",{attrs:{md12:""}},[r("v-btn",{staticClass:"edit-btn",attrs:{color:"primary"},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-expansion-panel",{attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("SIZE & SCOPE")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[1==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("PROCESS COMPLEXITY")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[2==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("CAPACITY")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[3==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("UNIQUE ATTRIBUTES")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[4==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1)],1)],1)])],1)},Qt=[],Jt=(r("55dd"),r("75fc"));r("ea3a");function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zt={components:{Snackbar:Ee,Spinner:Ue},props:{intakeRisk:Array,projectId:String},computed:{intakeRiskQuestions:function(){return this.$store.state.intakeRiskQuestions},projectRiskAnswers:function(){return this.$store.state.projectRiskAnswers}},data:function(){var e=Object.assign({},this.$props.intakeRisk);return{editScreen:!1,valid:!0,categoryList:[{id:1,text:"SIZE & SCOPE",showStatus:!0},{id:2,text:"PROCESS COMPLEXITY",showStatus:!0},{id:3,text:"CAPACITY",showStatus:!0},{id:4,text:"UNIQUE ATTRIBUTES",showStatus:!0}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],form:Kt({},e),intakeRiskAssessment:this.$store.state.intakeRiskAssessment,intakeScore:void 0,psbScore:void 0,totalScore:void 0,spoScore:void 0,needSpo:"No"}},watch:{},methods:{updateInitalData:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=function(e){var t=a.projectRiskAnswers.filter((function(t){return t.questionId===a.intakeRiskQuestions[e].id}));t&&t[0]&&(a.intakeRiskQuestions[e].selectedAnswerId=t[0].answerid,a.intakeRiskQuestions[e].score=t[0].score,a.intakeRiskQuestions[e].analysisId=t[0].id);for(var r=0;r<a.intakeRiskQuestions[e].answer.length;r++)a.intakeRiskQuestions[e].answer[r].id===a.intakeRiskQuestions[e].selectedAnswerId&&a.upateCategoryStatus(a.intakeRiskQuestions[e],r)},r=0;r<this.intakeRiskQuestions.length;r++)t(r);this.calculateData();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),prepareRiskAnalysis:function(){for(var e=this,t=[],r=0,a=function(a){var n=e.intakeRiskQuestions[a],s=0,i=n.answer.filter((function(e){return e.id===n.selectedAnswerId}));i&&i[0]&&(s=i[0].score);var o=n.analysisId?n.analysisId:null;t[r]={questionId:n.id,answerId:n.selectedAnswerId,score:s,id:o},r++},n=0;n<this.intakeRiskQuestions.length;n++)a(n);return t},onSave:function(){var e=this,t=this.prepareRiskAnalysis();this.$refs.spinner.open();var r=this.$store.state.activeProject.id,a=!1;"YES"===this.needSpo&&(a=!0);var n=0;"High"===this.intakeScore.level?n=1:"Medium"===this.intakeScore.level?n=2:"Low"===this.intakeScore.level&&(n=3);var s={projectId:r,risk:t,scores:{IntakeriskScore:this.intakeScore?this.intakeScore.percentage:void 0,psbRiskScore:this.psbScore?this.psbScore.percentage:void 0,riskScore:this.totalScore?this.totalScore.percentage:void 0,intakeRiskLevel:n,isSPOEngagement:a}};this.$store.dispatch("updateRiskAnalysis",s).then((function(t){e.$store.state.projectRiskAnswers=t,e.updateInitalData(),e.$refs.snackbar.displaySnackbar("success","Successfully saved risk analysis."),e.$refs.spinner.close()}),(function(t){if(e.$refs.spinner.close(),t&&t.response&&t.response.data){var r=t.response.data.error.message;e.$refs.snackbar.displaySnackbar("error",r)}else e.$refs.snackbar.displaySnackbar("error","Risk analysis Error")})),this.editScreen=!1,this.updateInitalData()},onCancel:function(){this.updateInitalData(),this.editScreen=!1},editProjectRisk:function(){this.updateInitalData(),this.editScreen=!0},upateCategoryStatus:function(e,t){var r=this;if(1===e.questionNo&&0===t?this.categoryList[e.category-1].showStatus=!1:1===e.questionNo&&(this.categoryList[e.category-1].showStatus=!0),!this.categoryList[e.category-1].showStatus&&1===e.questionNo)for(var a=this.intakeRiskQuestions.filter((function(t){return t.category===r.categoryList[e.category-1].id})),n=0;n<a.length;n++)1!==a[n].questionNo&&(a[n].selectedAnswerId=null,a[n].score=0)},getRiskLevel:function(e){var t="Low";return e>50?t="High":e>25&&(t="Medium"),t},calculateItemScore:function(e){var t=0,r=Object(Jt["a"])(e).map((function(e){var r=e.answer.map((function(e){return e.score}));r.sort((function(e,t){return t-e})),t+=r[0];var a=e.answer.filter((function(t){return t.id===e.selectedAnswerId}));return a&&a[0]&&"undefined"!==typeof a[0].score?a[0].score:0})).reduce((function(e,t){return e+t}),0),a=(r/t*100).toFixed(2);return{score:r,totalPossibleScore:t,percentage:a,level:this.getRiskLevel(a)}},calculateRiskScore:function(){this.intakeRiskQuestions&&(this.intakeScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(e){return!e.is_PSB}))),this.psbScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(e){return e.is_PSB}))),this.totalScore=this.calculateItemScore(this.intakeRiskQuestions),this.spoScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(e){return e.isStrategicContact}))),this.needSpo=this.spoScore.score>15?"YES":"NO")},calculateData:function(){this.calculateRiskScore()}}},Xt=Zt,er=(r("cb06"),r("cd55")),tr=r("49e2"),rr=Object(y["a"])(Xt,zt,Qt,!1,null,"706382bd",null),ar=rr.exports;j()(rr,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VExpansionPanel:er["a"],VExpansionPanelContent:tr["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VRadio:mt["a"],VRadioGroup:pt["a"]});var nr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-form",{ref:"projectContact",attrs:{id:"clientcontact"}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Role"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:e.contactNameLabel},model:{value:e.form.fullName,callback:function(t){e.$set(e.form,"fullName",t)},expression:"form.fullName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Email Address","error-messages":e.emailError()},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Organization"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Position"},model:{value:e.form.orgPosition,callback:function(t){e.$set(e.form,"orgPosition",t)},expression:"form.orgPosition"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Phone Number","error-messages":e.phoneError(),mask:"phone"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1)])],1)],1)},sr=[];function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cr={components:{},props:{contact:Object,contactNameLabel:String},data:function(){var e=Object.assign({},new ke,this.$props.contact);return{form:or({},e)}},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(e){this.form=e||new ke}},methods:{emailError:function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return this.form.email&&this.form.email.length>0?e.test(this.form.email)?"":"Email must be valid":""},phoneError:function(){return this.form.phoneNumber&&this.form.phoneNumber.length>0?this.form.phoneNumber.length>=10?"":"Invalid Phone":""},reset:function(){this.$refs.projectContact.reset(),this.form.phoneNumber=""}}},lr=cr,ur=Object(y["a"])(lr,nr,sr,!1,null,null,null),dr=ur.exports;j()(ur,{VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VTextField:Ze["a"]});var fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("spinner",{ref:"spinner"}),r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-container",{attrs:{fluid:""}},[r("v-radio-group",{attrs:{row:""},model:{value:e.isResolved,callback:function(t){e.isResolved=t},expression:"isResolved"}},[r("v-radio",{attrs:{label:"Logs In Progress",value:!1,isResolved:""}}),r("v-radio",{attrs:{label:"Resolved Logs",value:!0,isResolved:""}})],1)],1),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.allProcLogs,"hide-actions":"","disable-initial-sort":"","aria-multiline":"true",search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[r("procurement-log",{ref:"ProcurementLog"}),r("span",{staticClass:"clickable",on:{click:function(r){return e.viewRequest(t.item.id)}}},[e._v(e._s(t.item.logType))])],1),r("td",{staticClass:"text-xs-left"},[r("procurement-log",{ref:"ProcurementLog"}),r("span",{staticClass:"clickable",on:{click:function(r){return e.viewRequest(t.item.id)}}},[e._v(e._s(t.item.descriptionOfIssue.toString().slice(0,30)+"...")+"\n          ")])],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.dateToClient)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.notificationMethod))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.riskOwner))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.phaseImpactName))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.clientDecision))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(new Date(t.item.followUpDate).toString().slice(3,15)))]),r("td",{staticClass:"text-xs-left",attrs:{width:"10%"}},[e.isResolved?e._e():r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return e.resolveLog(t.item.id)}}},[e._v("RESOLVE")])],1)]}}])})],r("v-divider")],2)],1)},mr=[],pr={props:{title:String,search:String},components:{Snackbar:Ee,Spinner:Ue,Confirm:X,ProcurementLog:tt},data:function(){return{isResolved:!1,headers:[{text:"Log Type",value:"logType",align:"left",sortable:!1,width:"5%"},{text:"Description of Issue",value:"issueDescription",sortable:!1,width:"15%"},{text:"Date To Client",value:"dateToClient",sortable:!1,width:"10%"},{text:"Method of Notification",value:"notificationMethod",sortable:!1,width:"10%"},{text:"Decision Maker",value:"riskOwner",sortable:!1,width:"10%"},{text:"Phase Impact",value:"phaseImpactName",sortable:!1,width:"10%"},{text:"Client Decision",value:"clientDecision",sortable:!1,width:"10%"},{text:"Resolution or Follow Up Date",value:"followUpDate",sortable:!1,width:"11.3%"},{text:"Action",width:"15%"}],logList:this.fetchData(),selectedLeadUser:"",selectedProjectBackup:"",unResolved:[]}},computed:{allProcLogs:function(){if(this.isResolved){var e=this.$store.state.allProcurementLog.filter((function(e){return 1==e.isResolved}));return e}var t=this.$store.state.allProcurementLog.filter((function(e){return 0==e.isResolved}));return t}},created:function(){this.fetchData()},methods:{resolveLog:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure you want to resolve this log?");case 2:if(!e.sent){e.next=9;break}return r=this.$store.state.allProcurementLog.find((function(e){return e.id==t})),console.log("result:",r),r.isResolved=!0,console.log("new result",r),e.next=9,this.$store.dispatch("updateProctLog",{procurementlog:r}).then((function(){a.$refs.snackbar.displaySnackbar("success","Resolved")}),(function(e){try{var t=e.response.data.error.message;a.$refs.snackbar.displaySnackbar("error",t)}catch(r){a.$refs.snackbar.displaySnackbar("error","Failed to Resolve")}}));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),close:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("yeah close is calling"),this.fetchData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewRequest:function(e){console.log(e),console.log("complete list:",this.$store.state.allProcurementLog);var t=this.$store.state.allProcurementLog.find((function(t){return t.id==e}));console.log("result:",t),this.$refs.ProcurementLog.reset(),this.$refs.ProcurementLog.openWithValues(t)},fetchData:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$refs.spinner&&this.$refs.spinner.open(),t=this.$router.currentRoute.params,r=t.id||void 0,console.log("projId",r),e.next=6,this.$store.dispatch("fetchAllProcurementLog",{id:r});case 6:return a=e.sent,e.next=9,this.$store.dispatch("fetchProjectRFxData",{id:r});case 9:return e.sent,this.$refs.spinner.close(),e.abrupt("return",a[0]);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},vr=pr,hr=(r("5a97"),r("8fea")),br=Object(y["a"])(vr,fr,mr,!1,null,"04ef83f0",null),yr=br.exports;j()(br,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VContainer:w["a"],VDataTable:hr["a"],VDivider:O["a"],VRadio:mt["a"],VRadioGroup:pt["a"],VToolbar:V["a"],VToolbarTitle:A["a"]});r("1190");a["default"].use(me["a"]);var xr={CLIENT_CONTACT:"clientcontact"},jr={components:{ProjectBaseInfo:ht,projectNotes:kt,ProjectContactInfo:Tt,ProjectRfx:At,ProjectFinanceInfo:Yt,Snackbar:Ee,ProjectAdditionalContactInfo:dr,projectRiskAssessment:ar,ProcurementLogTable:yr,ProcurementLog:tt},props:{title:String,ProcurementLog:{type:Function,default:function(){}}},$_veeValidate:{validator:"new"},computed:{project:function(){return this.$store.state.activeProject},projectRfxData:function(){return this.$store.state.activeProjectRfxData}},data:function(){return{additionalContact:[new we],search:"",rfxData:[new pe["a"]],projectId:"",enabled:!0,initialLoad:!0,color:Oe.a,selectedTab:"tab-1",projectcomments:this.$store.state.allProjectNotes,allContacts:[],contactCount:this.$store.state.activeProjectContacts.filter((function(e){return"clientcontact"===e.contactType})).length,AllContactData:this.$store.state.activeProjectContacts.filter((function(e){return"clientcontact"===e.contactType}))}},watch:{enabled:function(){this.enabled||this.$refs.projectClient.reset()},getcustdata:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;this.$store.dispatch("fetchProjectContacts",{id:t})}},methods:{addNewContact:function(){this.contactCount=this.contactCount+1;var e={id:void 0,contactType:"",userId:"",fullName:"",orgName:"",orgPosition:"",email:"",phoneNumber:"",addressLine1:"",addressLine2:"",city:"",province:"",country:"",postalCode:"",roleName:""};this.AllContactData.push(e)},close:function(){this.$refs.procurementtable.close()},closeNotes:function(){},projectnotes:function(){return this.$store.state.allProjectNotes},newProcurementLog:function(){this.$refs.ProcurementLog.reset(),this.$refs.ProcurementLog.open()},replynotes:function(e,t){var r=e;this.$refs[r][0].reset(),this.$refs[r][0].open(e,t)},newnotes:function(e){this.$refs.projectNoteNew.reset(),this.$refs.projectNoteNew.open(e,void 0)},projectContactData:function(e){var t=this.$store.getters.getProjectContactByType(e);return t&&t.id?t:new ke},fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;void 0!==t&&(this.projectId=t,this.$store.dispatch("fetchProject",{id:this.projectId}),this.$store.dispatch("fetchProjectRFxData",{id:this.projectId}),this.$store.dispatch("fetchProjectContacts",{id:this.projectId}),this.$store.dispatch("fetchprojectRiskAnswers",{id:this.projectId}),this.$store.dispatch("fetchAllProcurementLog",{id:this.projectId})),this.$store.dispatch("fetchAllProjectNotes",{id:this.projectId}),this.$store.dispatch("fetchintakeRiskQuestions")},formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},addNewRFx:function(){var e=this.validateRFXForm();e&&this.projectRfxData.push(new pe["a"])},validateRFXForm:function(){return!this.$refs.rfxForm||0===this.$refs.rfxForm.map((function(e){return e.$refs.form.validate()})).filter((function(e){return!e})).length},saveProjectContacts:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(console.log(this.AllContactData),this.$refs.projectLead.Validate(),this.$refs.projectSponsor.Validate(),this.$refs.projectFinancier.Validate(),t=this.$refs.projectLead.form||void 0,r=this.$refs.projectSponsor.form||void 0,a=this.$refs.projectFinancier.form||void 0,n=this.$refs.projectClient?this.$refs.projectClient.form:void 0,void 0!==n&&(n.contactType=xr.CLIENT_CONTACT),s=0;s<this.contactCount;s++)this.$refs.additionalcontactinfo[s]&&(this.$refs.additionalcontactinfo[s].form.contactType="clientcontact",this.allContacts.push(this.$refs.additionalcontactinfo[s].form));if(console.log("allcontacts afet add:",this.allContacts),i=[t,r,n,a].filter((function(e){return void 0!==e})),i=i.concat(this.allContacts),console.log("contacts before update",i),!(i instanceof Array&&i.length>0)){e.next=18;break}return e.next=17,this.$store.dispatch("updateProjectContacts",{id:this.projectId,contacts:i});case 17:this.$refs.snackbar.displaySnackbar("success","Saved");case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveFinanceCodes:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.projectFinanceInfo.financeInfo||void 0,!this.$refs.projectFinanceInfo.validate()){e.next=5;break}if(!(this.project&&this.project.client&&this.project.client.id)){e.next=5;break}return e.next=5,this.$store.dispatch("updateProjectFinanceCodes",{id:this.project.client.id,financeCodes:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","Updated")}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initializeRisk:function(){this.$refs.projectRiskAssessment.updateInitalData(),this.$refs.projectRiskAssessment.editScreen=!1}},created:function(){console.log("from created:",this.$store.state.activeProjectContacts),0===this.projectRfxData.length&&(console.log("addinging initial rfx"),this.addNewRFx()),this.fetchData()}},gr=jr,kr=(r("362a"),r("71a3")),wr=r("c671"),Cr=r("fe57"),Or=Object(y["a"])(gr,ue,de,!1,null,"b1342ae8",null),_r=Or.exports;j()(Or,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VContainer:w["a"],VExpansionPanel:er["a"],VExpansionPanelContent:tr["a"],VFlex:re["a"],VForm:Je["a"],VIcon:_["a"],VLayout:P["a"],VSpacer:N["a"],VTab:kr["a"],VTabItem:wr["a"],VTabs:Cr["a"],VTextField:Ze["a"]});var Pr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"intake-form"},[a("snackbar",{ref:"snackbar"}),a("spinner",{ref:"spinner"}),a("v-form",[a("v-layout",[a("v-flex",{staticClass:"intake-form-header-div",attrs:{md12:""}},[a("h1",{staticClass:"intake-form-header"},[e._v("Intake Form")]),a("div",{staticClass:"intake-sub-header"},[e._v("Complete the intake form to submit your project")])])],1),a("v-container",[a("v-stepper",{attrs:{"alt-labels":""},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:e.isEditPInnfo,"edit-icon":"1",complete:e.e1>1,step:"1"},on:{click:function(t){return e.checkedit(e.e1)}}},[e._v("\n            Procurement Project\n            "),a("br"),e._v("Information\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{attrs:{editable:e.isEditMBInfo,"edit-icon":"2",complete:e.e1>2,step:"2"},on:{click:function(t){return e.checkedit(e.e1)}}},[e._v("Ministry/Branch Information")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{attrs:{editable:e.isEditRiskInfo,"edit-icon":"3",complete:e.e1>3,step:"3"},on:{click:function(t){return e.checkedit(e.e1)}}},[e._v("\n            Risk\n            "),a("br"),e._v("Assessment\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{attrs:{editable:e.isEditContactInfo,"edit-icon":"4",complete:e.e1>4,step:"4"},on:{click:function(t){return e.checkedit(e.e1)}}},[e._v("\n            Contact\n            "),a("br"),e._v("Information\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{attrs:{step:"5"},on:{click:function(t){return e.checkedit(e.e1)}}},[e._v("\n            Review\n            "),a("br"),e._v("& Submit\n          ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("2a68")}}),a("label",{staticClass:"sub-header-large"},[e._v("Project Information")])])]},proxy:!0}])},[a("v-card",[a("v-card-text",[a("intake-base-info",{ref:"intakeBaseInfo",attrs:{project:e.intakeRequest},on:{next:function(t){return e.nextButtonClick(2)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("a616")}}),a("label",{staticClass:"sub-header-large"},[e._v("Ministry / Branch Information")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(1)}}},[e._v("< Project Information")]),a("v-card",[a("v-card-text",[a("ministry-branch-info",{ref:"intakeClientInfo",attrs:{ministry:e.intakeRequest.client},on:{next:function(t){return e.nextButtonClick(3)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("a616")}}),a("label",{staticClass:"sub-header-large"},[e._v("Risk Assessment")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(2)}}},[e._v("< Ministry / Branch Information")]),a("v-card",[a("v-card-text",[a("intake-risk-assessment",{ref:"intakeRiskAssessment",attrs:{intakeRisk:e.intakeRiskQuestions},on:{next:function(t){return e.nextButtonClick(4)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"4"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("5629")}}),a("label",{staticClass:"sub-header-large"},[e._v("Contact Information")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(3)}}},[e._v("< Risk Assessment")]),a("div",{staticClass:"intake-contact-layout"},[a("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[a("span",{staticClass:"intake-base-info-header-content"},[e._v("Contact Information")])]),a("v-card",[a("v-card-text",[a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[e._v("Client Lead Contact Information")]),a("project-contact-info",{ref:"projectLead",attrs:{contact:e.getClientInfo(e.CLIENT_LEAD),contactNameLabel:"Client Lead Name",isRequired:!0},on:{next:function(t){return e.nextButtonClick(5)}}})],1),a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[e._v("Executive Sponsor Contact Information")]),a("project-contact-info",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name",isRequired:!0},on:{next:function(t){return e.nextButtonClick(5)}}})],1),a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[e._v("Financial Contact Information")]),a("project-contact-info",{ref:"projectFinance",attrs:{contact:e.getClientInfo(e.CLIENT_FINANCE),contactNameLabel:"Financial Contact Name"},on:{next:function(t){return e.nextButtonClick(5)}}})],1),e._l(e.contactData,(function(t,r){return a("v-flex",{key:r,attrs:{xs12:"",md6:"","my-3":"",value:0},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("v-flex",{attrs:{xs11:""}})],1)]},proxy:!0}],null,!0)},[a("v-card",[a("v-card-text",[a("h3",{staticClass:"v-form-container"},[e._v("Additional Contact Information")]),a("project-additional-contact-info",{ref:"additionalcontactinfo",refInFor:!0,attrs:{additionalContact:t,contact:e.getClientInfo(e.CLIENT_CONTACT),contactNameLabel:"Contact Name",isRequired:!1},on:{next:function(t){return e.nextButtonClick(5)}}})],1)],1)],1)}))],2),a("v-card",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"contact-button-div"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.addNewContact}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v("Add Contact\n                              ")],1)],1)])],1),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[a("v-flex",{attrs:{"md-12":"","mt-4":""}},[a("v-btn",{attrs:{disabled:!(e.$store.state.projectInformation&&e.$store.state.ministryInformation&&this.$store.state.intakeRiskQuestions),color:"primary"},on:{click:function(t){return e.nextButtonClick(5)}}},[e._v("Next")])],1)],1)])])],1)],1)])],1)],1)],1),a("v-stepper-content",{attrs:{step:"5"}},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(4)}}},[e._v("< Contact Information")]),a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}},[a("intake-review",{ref:"intakeReview",attrs:{intakeValues:e.reviewSubmit},on:{switch:e.moveToComponent}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","py-2":""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[5==e.e1?a("v-flex",{attrs:{md12:"","mt-4":""}},[a("v-btn",{attrs:{color:"default"},on:{click:e.discard}},[e._v("Discard")]),a("v-btn",{attrs:{disabled:!(e.$store.state.projectInformation&&e.$store.state.ministryInformation&&e.$store.state.contactInformation),color:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1):e._e()],1)])])],1)],1)],1)},Rr=[],Ir=r("320c"),Tr=r.n(Ir),Sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"custom-project-base-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content",staticStyle:{"text-align":"center"}},[e._v("Procurement Project Information")])]),r("v-form",{ref:"intakeBaseInfo",staticClass:"intake-base-info",attrs:{id:"intake-base-info","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Name"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",e._g({directives:[{name:"open-on-focus",rawName:"v-open-on-focus"}],staticClass:"required",attrs:{items:e.projectSectors,rules:e.requiredRule,label:"Project Sector","item-value":"id","item-text":"projectSectorName"},model:{value:e.form.projectSector.id,callback:function(t){e.$set(e.form.projectSector,"id",t)},expression:"form.projectSector.id"}},e.checksectorid()))],1)]),r("v-flex",{attrs:{md6:""}}),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[e.form.projectSector.id==e.otherSectorId?r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Other Project Sector Name"},model:{value:e.form.otherProjectSectorName,callback:function(t){e.$set(e.form,"otherProjectSectorName",t)},expression:"form.otherProjectSectorName"}}):e._e()],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{readonly:"",rules:e.requiredRule,label:"Desired Date of Completion","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.estimatedCompletionDate,callback:function(t){e.$set(e.form,"estimatedCompletionDate",t)},expression:"form.estimatedCompletionDate"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(t){e.menu1=!1}},model:{value:e.form.estimatedCompletionDate,callback:function(t){e.$set(e.form,"estimatedCompletionDate",t)},expression:"form.estimatedCompletionDate"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.amountRule,"prepend-inner-icon":"attach_money",label:"Contract Amount",oninput:"validity.valid||(value='');",value:e._f("withCommas")(e.form.estimatedContractValue)},on:{blur:function(t){return e.form.estimatedContractValue=parseFloat(t.target.value)}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",[r("v-container",{attrs:{fluid:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"4%"}},[e._v("Reprocurement?")]),r("v-radio-group",{attrs:{row:""},model:{value:e.form.isReprocurement,callback:function(t){e.$set(e.form,"isReprocurement",t)},expression:"form.isReprocurement"}},[r("v-radio",{attrs:{label:" Yes",value:!0,"form.isReprocurement":""}}),r("v-radio",{attrs:{label:" No",value:!1,"form.isReprocurement":""}})],1)],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container pl-0",staticStyle:{width:"95%","margin-left":"5%"}},[e.form.isReprocurement?r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{readonly:"",rules:e.requiredRule,label:"Date original contract ends","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}},a))]}}],null,!1,2916681121),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu2=!1}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}})],1):e._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[e.form.isReprocurement?r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What is the background from the previous contract?","no-resize":"",rules:e.requiredRule},model:{value:e.form.previousContractBackground,callback:function(t){e.$set(e.form,"previousContractBackground",t)},expression:"form.previousContractBackground"}}):e._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What is the potential impact of this procurement project failing?","no-resize":"",rules:e.requiredRule},model:{value:e.form.projectFailImpact,callback:function(t){e.$set(e.form,"projectFailImpact",t)},expression:"form.projectFailImpact"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What does success look like for this procurement project?","no-resize":"",rules:e.requiredRule},model:{value:e.form.projectSuccess,callback:function(t){e.$set(e.form,"projectSuccess",t)},expression:"form.projectSuccess"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("Next")])],1)],1)])])],1)],1)},$r=[],Dr=(r("a599"),function(e){function t(){var e,r;Object(ve["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(be["a"])(this,(e=Object(ye["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(xe["a"])(r),"id",""),Object(l["a"])(Object(xe["a"])(r),"projectIntakeCategoryName",""),r}return Object(je["a"])(t,e),Object(he["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,ge["a"].setProperties(e,r)),r}}]),t}(ge["a"])),Nr=function(e){function t(){var e,r;Object(ve["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(be["a"])(this,(e=Object(ye["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(xe["a"])(r),"id",""),Object(l["a"])(Object(xe["a"])(r),"ProjectIntakeServiceName",""),r}return Object(je["a"])(t,e),Object(he["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,ge["a"].setProperties(e,r)),r}}]),t}(ge["a"]);function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Br={components:{},props:{nextPanel:Function,panelName:String,project:Object},computed:{computedDateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors},projectIntakeCategories:function(){return this.$store.state.projectIntakeCategory},projectIntakeService:function(){return this.$store.state.projectIntakeServices}},data:function(){var e=Object.assign({},this.$props.project);e.isReprocurement=!1;var t=e.projectSector||null;t||(e.projectSector=new st["a"]);var r=null;r||(e.projectIntakeCategory=new Dr);var a=null;a||(e.projectIntakeServices=new Nr);var n=e.client||null;return n||(e.client=new it["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field required"}],amountRule:[function(e){if(!e)return"This field is required";if(0==e)return"Field cannot be zero";var t=e.toString().match(/[^\d,]+/g,"");return!t||"Field must just be a number."}],form:Vr({},e),menu1:!1,menu2:!1,dateFormatted:void 0,projectInformation:this.$store.state.projectInformation,row:null,otherSectorId:null}},watch:{valid:function(e){this.$store.state.projectInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new st["a"])}},methods:{checksectorid:function(){var e=this.$store.state.projectSectors.filter((function(e){return"Other"===e.projectSectorName}));e[0]&&(this.otherSectorId=e[0].id)},formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(fe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},onNextClicked:function(){this.$refs.intakeBaseInfo.validate()&&"CA$0.00"!=this.form.estimatedContractValue&&(this.form.isReprocurement||(this.form.dateOfReprocurement=void 0,this.form.previousContractBackground=void 0),this.$emit("next"),this.$store.state.projectInformation=!0,window.scrollTo({top:0,behavior:"smooth"}))},reset:function(){this.$refs.intakeBaseInfo.reset()},submitForm:function(){var e=this.form;this.$store.dispatch("addIntakeRequest",e)},sectorFocus:function(e){e.target.click()}}},Ar=Br,Lr=Object(y["a"])(Ar,Sr,$r,!1,null,null,null),Mr=Lr.exports;j()(Lr,{VBtn:k["a"],VContainer:w["a"],VDatePicker:Qe["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VMenu:Ge["a"],VRadio:mt["a"],VRadioGroup:pt["a"],VSelect:Ke["a"],VTextField:Ze["a"],VTextarea:Xe["a"]});var Fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"branch-info-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content"},[e._v("Ministry / Branch Information")])]),r("v-form",{ref:"intakeClientInfo",attrs:{id:"intake-client-info","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[e.form.isNonMinistry?e._e():r("v-select",{directives:[{name:"open-on-focus",rawName:"v-open-on-focus"}],staticClass:"required",attrs:{items:e.ministries,label:"Ministry",rules:e.requiredRule,"item-value":"id","item-text":"ministryName"},model:{value:e.form.ministry.id,callback:function(t){e.$set(e.form.ministry,"id",t)},expression:"form.ministry.id"}}),e.form.isNonMinistry?r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Non Ministry Name"},model:{value:e.form.nonMinistryName,callback:function(t){e.$set(e.form,"nonMinistryName",t)},expression:"form.nonMinistryName"}}):e._e(),r("v-container",{staticClass:"mb-4 mt-0",staticStyle:{padding:"0px !important","margin-top":"-10px"},attrs:{fluid:"",row:"",wrap:"","align-start":"","justify-end":"","fill-height":""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"2%"}},[e._v("Non-Ministry")]),r("v-checkbox",{model:{value:e.form.isNonMinistry,callback:function(t){e.$set(e.form,"isNonMinistry",t)},expression:"form.isNonMinistry"}})],1)],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{label:"Branch",rules:e.requiredRule},model:{value:e.form.orgDivision,callback:function(t){e.$set(e.form,"orgDivision",t)},expression:"form.orgDivision"}})],1)]),r("v-flex",{attrs:{sm6:""}}),r("v-flex",{attrs:{xs12:""}},[r("h3",{staticClass:"finance-header",staticStyle:{"margin-left":"3%"}},[e._v("Address Information")])]),r("v-flex",{attrs:{xs12:""}},[r("generic-contact-info",{attrs:{contact:e.form}})],1),e.form.isNonMinistry?e._e():r("v-flex",{attrs:{xs12:"","pt-2":""}},[r("project-finance-info",{attrs:{financeInfo:e.form}})],1),r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("Next")])],1)],1)])])],1)],1)},Ur=[],qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{sm12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Address Line 1"},model:{value:e.contact.addressLine1,callback:function(t){e.$set(e.contact,"addressLine1",t)},expression:"contact.addressLine1"}})],1)]),r("v-flex",{attrs:{sm12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Address Line 2"},model:{value:e.contact.addressLine2,callback:function(t){e.$set(e.contact,"addressLine2",t)},expression:"contact.addressLine2"}})],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"City"},model:{value:e.contact.city,callback:function(t){e.$set(e.contact,"city",t)},expression:"contact.city"}})],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Postal"},model:{value:e.contact.postalCode,callback:function(t){e.$set(e.contact,"postalCode",t)},expression:"contact.postalCode"}})],1)])],1)},Hr=[],Wr={props:{contact:Object},data:function(){return{valid:!0,requiredRule:[function(e){return!!e||"This field is required"}]}}},Yr=Wr,zr=Object(y["a"])(Yr,qr,Hr,!1,null,null,null),Qr=zr.exports;function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}j()(zr,{VFlex:re["a"],VLayout:P["a"],VTextField:Ze["a"]});var Kr={components:{ProjectFinanceInfo:Yt,GenericContactInfo:Qr},props:{nextPanel:Function,panelName:String,ministry:Object},computed:{ministries:function(){return this.$store.state.ministries}},data:function(){var e=Object.assign({},this.$props.ministry);e.isNonMinistry=!1;var t=e.ministry||null;return t||(e.ministry=new nt["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field required"}],form:Gr({},e),ministryInformation:this.$store.state.ministryInformation}},watch:{valid:function(e){this.$store.state.ministryInformation=e},ministry:function(e){this.form=e;var t=this.form.ministry||null;t||(this.form.ministry=new nt["a"])}},methods:{onNextClicked:function(){this.$refs.intakeClientInfo.validate()&&(this.form.isNonMinistry?this.form.ministry=void 0:this.form.NonMinistryName=void 0,this.$emit("next"),this.$store.state.ministryInformation=!0)},reset:function(){this.$refs.intakeClientInfo.reset()}}},Zr=Kr,Xr=(r("cb87"),Object(y["a"])(Zr,Fr,Ur,!1,null,"041c47eb",null)),ea=Xr.exports;j()(Xr,{VBtn:k["a"],VCheckbox:dt["a"],VContainer:w["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VSelect:Ke["a"],VTextField:Ze["a"]});var ta=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"risk-info-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content"},[e._v("Risk Assessment")])]),r("v-form",{ref:"intakeRiskAssessment",staticStyle:{"margin-left":"30px","margin-top":"20px"},attrs:{id:"intake-risk-assessment","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e._l(e.intakeRiskQuestion,(function(t){return r("v-flex",{key:t.id,attrs:{sm12:""}},[r("v-flex",{attrs:{sm12:""}},[1==t.questionNo?r("div",[r("h2",[e._v(e._s(e.categoryList[t.category-1].text))]),r("br")]):e._e(),e.categoryList[t.category-1].showStatus||1==t.questionNo?r("div",[r("div",{staticClass:"question",domProps:{innerHTML:e._s(t.question)}}),t.answer&&t.answer[0]&&t.answer[0].answer.length<16?r("v-radio-group",{attrs:{row:""},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.updateCategoryStatus(t,n)}}})})),1):e._e(),t.answer&&t.answer[0]&&t.answer[0].answer.length>15?r("v-radio-group",{attrs:{column:""},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.updateCategoryStatus(t,n)}}})})),1):e._e()],1):e._e()])],1)})),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("Next")])],1)],1)])])],2)],1)},ra=[];r("2a685");function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sa={components:{},props:{intakeRisk:Array,nextPanel:Function,panelName:String},computed:{intakeRiskQuestion:function(){return this.$store.state.intakeRiskQuestions.filter((function(e){return!e.is_PSB}))}},data:function(){var e=Object.assign({},this.$props.intakeRisk);return{valid:!0,categoryList:[{id:1,text:"SIZE & SCOPE",showStatus:!1},{id:2,text:"PROCESS COMPLEXITY",showStatus:!1},{id:3,text:"CAPACITY",showStatus:!1},{id:4,text:"UNIQUE ATTRIBUTES",showStatus:!1}],form:na({},e),intakeRiskAssessment:this.$store.state.intakeRiskAssessment}},watch:{},beforeMount:function(){for(var e=0;e<this.$store.state.intakeRiskQuestions.length;e++)delete this.$store.state.intakeRiskQuestions[e].score,delete this.$store.state.intakeRiskQuestions[e].selectedAnswerId},methods:{getRiskLevel:function(e){var t="Low";return e>50?t="High":e>25&&(t="Medium"),t},calculateItemScore:function(e){var t=0,r=Object(Jt["a"])(e).map((function(e){var r=e.answer.map((function(e){return e.score}));r.sort((function(e,t){return t-e})),t+=r[0];var a=e.answer.filter((function(t){return t.id===e.selectedAnswerId}));return a&&a[0]&&"undefined"!==typeof a[0].score?a[0].score:0})).reduce((function(e,t){return e+t}),0),a=(r/t*100).toFixed(2);return{score:r,totalPossibleScore:t,percentage:a,level:this.getRiskLevel(a)}},calculateRiskScore:function(){return this.calculateItemScore(this.intakeRiskQuestions.filter((function(e){return!e.is_PSB})))},updateCategoryStatus:function(e,t){1===e.questionNo&&0===t?(this.categoryList[e.category-1].showStatus=!1,e.showStatus=!1):1===e.questionNo&&(this.categoryList[e.category-1].showStatus=!0,e.showStatus=!0)},onNextClicked:function(){this.$refs.intakeRiskAssessment.validate()&&(this.$store.state.intakeRisk=!0,this.$emit("next"))},reset:function(){this.$data.requireRadioButtondRule=this.data.requireRadioButtondRule,this.$refs.intakeRiskAssessment.reset()}}},ia=sa,oa=(r("7293"),Object(y["a"])(ia,ta,ra,!1,null,"09aa7e70",null)),ca=oa.exports;j()(oa,{VBtn:k["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VRadio:mt["a"],VRadioGroup:pt["a"]});var la=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"review-submit"},[r("v-layout",{staticClass:"custom-project-base-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"spanheader"},[e._v("Review Submit")])]),r("v-expansion-panel",{attrs:{expand:""},model:{value:e.panelState,callback:function(t){e.panelState=t},expression:"panelState"}},[r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Project Information")])]},proxy:!0}])},[r("v-card",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Project Name")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.projectName))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Project Sector")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.getProjectSector()))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Desired Date of Completion")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.estimatedCompletionDate))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Contract Amount")])]),r("v-flex",{attrs:{sm12:""}},[e._v("$"+e._s(e._f("withCommas")(e.$props.intakeValues.estimatedContractValue)))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Reprocurement?")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.checkBoolenValues(e.$props.intakeValues.isReprocurement)))])],1),e.$props.intakeValues.isReprocurement?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Date original contract ends")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.dateOfReprocurement))])],1):e._e(),e.$props.intakeValues.isReprocurement?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("What is the background from the previous contract?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.previousContractBackground))])],1):e._e(),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("What is the potential impact of this procurement project failing?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.projectFailImpact))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("What does success look like for this procurement project?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.projectSuccess))])],1)],1)],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Ministry/Branch Information")])]},proxy:!0}])},[r("v-card",[e.$props.intakeValues.client?r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Non-Ministry")])]),r("v-flex",{attrs:{sm12:""}},[e._v("\n                "+e._s(e.checkBoolenValues(e.$props.intakeValues.client.isNonMinistry))+"\n              ")])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Ministry")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.getMinistry()))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Branch")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.orgDivision))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Address Line 1")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.addressLine1))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Address Line 2")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.addressLine2))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("City")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.city))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Postal")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.postalCode))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Client No.")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.clientNo))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Responsibility Center")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.responsibilityCenter))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Service Center")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.serviceCenter))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("STOB")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.stob))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Project Code")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.projectCode))])],1)],1):e._e()],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Risk Assessment")])]},proxy:!0}])},[r("v-card",[e.$props.intakeValues.risk?r("v-card-text",{staticClass:"pl-4"},e._l(e.$props.intakeValues.risk,(function(t){return r("v-flex",{key:t.id},[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(3)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)})),1):e._e()],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Contact Information")])]},proxy:!0}])},[r("v-card",[e.$props.intakeValues.contacts?r("v-card-text",{staticClass:"pl-4"},e._l(e.$props.intakeValues.contacts,(function(t){return r("v-flex",{key:t.contactType,staticClass:"contacts"},[t.fullName?r("h3",[e._v(e._s(e.getContactType(t.contactType)))]):e._e(),t.fullName?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Name")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.fullName))])],1):e._e(),t.email?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Email Address")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.email))])],1):e._e(),t.orgName?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Organization")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.orgName))])],1):e._e(),t.orgPosition?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Position Title")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.orgPosition))])],1):e._e(),t.phoneNumber?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Phone Number")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.maskPhone(t.phoneNumber)))])],1):e._e()],1)})),1):e._e()],1)],1),r("v-card",{staticClass:"printdiv"},[r("v-btn",{attrs:{flat:"",icon:""},on:{click:function(t){return e.print()}}},[r("v-icon",[e._v("print")]),e._v("PRINT THIS FORM\n        ")],1)],1)],1)],1)],1)},ua=[];r("a305");function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ma={components:{},props:{intakeValues:{}},computed:{},mounted:function(){},data:function(){var e=Object.assign({},this.$props.intakeValues);return{form:fa({},e),panelState:[!0]}},watch:{},methods:{maskPhone:function(e){var t=e.replace(/\D/g,"").match(/(\d{3})(\d{3})(\d{4})/);return"("+t[1]+") "+t[2]+"-"+t[3]},editItem:function(e){this.$emit("switch",e)},checkBoolenValues:function(e){return e?"Yes":"No"},getContactType:function(e){return"clientfinance"===e?"Client Finance":"clientlead"===e?"Client Lead":"clientsponsor"===e?"Client Sponsor":"clientcontact"===e?"Client Contact":""},getProjectSector:function(){var e=Object.assign({},this.$props.intakeValues.projectSector);if(e.id){var t=this.$store.state.projectSectors.filter((function(t){return t.id===e.id}));if(t[0])return t[0].projectSectorName}else if(this.$props.intakeValues.otherProjectSectorName)return this.$props.intakeValues.otherProjectSectorName;return""},getMinistry:function(){if(this.$props.intakeValues.client.isNonMinistry)return this.$props.intakeValues.client.nonMinistryName?this.$props.intakeValues.client.nonMinistryName:"";var e=Object.assign({},this.$props.intakeValues.client.ministry);if(e.id){var t=this.$store.state.ministries.filter((function(t){return t.id===e.id}));if(t[0])return t[0].ministryName}return""},print:function(){this.expandAll(),setTimeout(window.print,500)},expandAll:function(){this.panelState=[!0,!0,!0,!0,!0]}}},pa=ma,va=(r("5554"),Object(y["a"])(pa,la,ua,!1,null,"62f98eb0",null)),ha=va.exports;j()(va,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VExpansionPanel:er["a"],VExpansionPanelContent:tr["a"],VFlex:re["a"],VIcon:_["a"],VLayout:P["a"]});r("e63d");function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}a["default"].use(me["a"]);var xa={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo",RISK_ASSESSMENT:"intakeRisk"},ja={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact",CLIENT_FINANCE:"clientfinance"},ga={components:{IntakeBaseInfo:Mr,MinistryBranchInfo:ea,ProjectContactInfo:Tt,ProjectAdditionalContactInfo:dr,intakeRiskAssessment:ca,intakeReview:ha,Snackbar:Ee,Spinner:Ue},$_veeValidate:{validator:"new"},data:function(){return ya({additionalContact:[new we],projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,intakeRiskQuestions:this.$store.state.intakeRiskQuestions,valid:!1,enabled:!1,isEditPInnfo:!1,isEditMBInfo:!1,isEditContactInfo:!1,isEditRiskInfo:!1},xa,{},ja,{e1:1,reviewSubmit:[],allContacts:[],contactCount:0,contactData:[]})},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{addNewContact:function(){this.contactCount=this.contactCount+1,this.contactData.push(new we)},moveToComponent:function(e){this.nextButtonClick(e)},checkedit:function(e){1===e||"1"===e?(this.e1=1,this.isEditMBInfo=!1,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):2===e||"2"===e?(this.e1=2,this.isEditPInnfo=!0,this.isEditMBInfo=!1,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):3===e||"3"===e?(this.e1=3,this.isEditPInnfo=!0,this.isEditMBInfo=!0,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):4===e||"4"===e?(this.e1=4,this.isEditPInnfo=!0,this.isEditMBInfo=!0,this.isEditRiskInfo=!0):this.e1=5},fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;void 0!==t?this.$store.dispatch("fetchIntakeRequest",{id:e.id}):this.$store.dispatch("clearActiveIntakeRequest")},getRiskAnalysis:function(){for(var e=this,t=[],r=0,a=!1,n=0,s="",i=function(i){n=0,s="";var o=e.$store.state.intakeRiskQuestions[i];if("undefined"!==typeof o.selectedAnswerId||o.selectedAnswerId){var c=o.answer.filter((function(e){return e.id===o.selectedAnswerId}));c&&c[0]&&(n=c[0].score,s=c[0].answer),1===o.questionNo?(a=o.showStatus,t[r]={questionId:o.id,answerId:o.selectedAnswerId,score:n,question:o.question,answer:s},r++):a&&(t[r]={questionId:o.id,answerId:o.selectedAnswerId,score:n,question:o.question,answer:s},r++)}},o=0;o<this.$store.state.intakeRiskQuestions.length;o++)i(o);return t},submitForm:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s,i,o,c,l,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.projectLead.onNextClicked(),this.$refs.projectSponsor.onNextClicked(),this.$refs.projectFinance.onNextClicked(),t=this.getRiskAnalysis(),r=t.map((function(e){return e.score})),a=0,0!=r.length&&(a=r.reduce((function(e,t){return e+t}))),n=Tr()({},this.$refs.intakeBaseInfo.form,{client:this.$refs.intakeClientInfo.form,contacts:[],risk:t,riskScore:a}),s=this.$refs.projectLead.form||void 0,i=this.$refs.projectSponsor.form||void 0,o=this.$refs.projectFinance.form||void 0,this.enabled&&(c=this.$refs.projectContact.form||void 0),void 0!==s&&(s.contactType=ja.CLIENT_LEAD),void 0!==i&&(i.contactType=ja.CLIENT_SPONSOR),void 0!==o&&(o.contactType=ja.CLIENT_FINANCE),void 0!==c&&(c.contactType=ja.CLIENT_CONTACT),l=[s,i,o,c].filter((function(e){return void 0!==e})),l=l.concat(this.allContacts),l instanceof Array&&l.length>0&&n.contacts instanceof Array&&(n.contacts=n.contacts.concat(l)),this.contacts=[],this.contactData=[],this.$store.state.projectInformation&&this.$store.state.ministryInformation&&this.$store.state.contactInformation&&this.$store.state.intakeRisk&&(this.$refs.spinner.open(),console.log("contractValue",{contractValue:n.estimatedContractValue}),n.estimatedContractValue=n.estimatedContractValue,this.$store.dispatch("addIntakeRequest",n).then((function(){u.$refs.snackbar.displaySnackbar("success","Project Intake Form Submited."),u.$refs.spinner.close(),u.$router.push("intake-success")}),(function(e){if(u.$refs.spinner.close(),e&&e.response&&e.response.data){var t=e.response.data.error.message;u.$refs.snackbar.displaySnackbar("error",t)}else u.$refs.snackbar.displaySnackbar("error","Intake Request Error")})));case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),discard:function(){this.$refs.intakeBaseInfo.reset(),this.$refs.intakeClientInfo.reset(),this.$refs.projectLead.reset(),this.$refs.projectSponsor.reset(),this.$refs.projectFinance.reset(),this.$refs.projectContact.reset(),this.$refs.intakeRiskAssessment.reset()},getClientInfo:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return r},backfn:function(e){e-1===1?(this.isEditPInnfo=!0,this.isEditRiskInfo=!1,this.isEditContactInfo=!1):e-1===2?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditContactInfo=!1):e-1===3?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0):(this.isEditMBInfo=!1,this.isEditPInnfo=!1,this.isEditRiskInfo=!1,this.isEditContactInfo=!1),this.e1=e,window.scrollTo({top:0,behavior:"smooth"})},nextButtonClick:function(e){if(5===e){for(var t=0;t<this.contactCount;t++){t.toString();this.$refs.additionalcontactinfo[t].form.contactType="clientcontact",this.allContacts.push(this.$refs.additionalcontactinfo[t].form)}var r=this.$refs.projectLead.onNextClicked(),a=this.$refs.projectSponsor.onNextClicked(),n=this.$refs.projectFinance.onNextClicked();r&&a&&n&&(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0,this.isEditContactInfo=!0,this.e1=e);var s=this.getRiskAnalysis(),i=s.map((function(e){return e.score})),o=0;0!=i.length&&(o=i.reduce((function(e,t){return e+t})));var c,l=Tr()({},this.$refs.intakeBaseInfo.form,{client:this.$refs.intakeClientInfo.form,contacts:[],risk:s,riskScore:o}),u=this.$refs.projectLead.form||void 0,d=this.$refs.projectSponsor.form||void 0,f=this.$refs.projectFinance.form||void 0;this.enabled&&(c=this.$refs.projectContact.form||void 0),void 0!==u&&(u.contactType=ja.CLIENT_LEAD),void 0!==d&&(d.contactType=ja.CLIENT_SPONSOR),void 0!==f&&(f.contactType=ja.CLIENT_FINANCE),void 0!==c&&(c.contactType=ja.CLIENT_CONTACT);var m=[u,d,f,c].filter((function(e){return void 0!==e}));m=m.concat(this.allContacts),m instanceof Array&&m.length>0&&l.contacts instanceof Array&&(l.contacts=l.contacts.concat(m)),this.$store.state.projectInformation&&this.$store.state.ministryInformation&&this.$store.state.contactInformation&&(console.log("estimatedContractValue clickfn",{estimatedContractValue:l.estimatedContractValue}),l.estimatedContractValue=l.estimatedContractValue,this.reviewSubmit=l)}else e-1===1?(this.isEditPInnfo=!0,this.isEditRiskInfo=!1,this.isEditContactInfo=!1):e-1===2?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditContactInfo=!1):e-1===3?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0):(this.isEditMBInfo=!1,this.isEditPInnfo=!1,this.isEditRiskInfo=!1,this.isEditContactInfo=!1),this.e1=e;window.scrollTo({top:0,behavior:"smooth"})}},created:function(){this.fetchData()}},ka=ga,wa=(r("c0df"),r("7e85")),Ca=r("e516"),Oa=r("9c54"),_a=r("56a4"),Pa=Object(y["a"])(ka,Pr,Rr,!1,null,null,null),Ra=Pa.exports;j()(Pa,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VContainer:w["a"],VDivider:O["a"],VFlex:re["a"],VForm:Je["a"],VIcon:_["a"],VLayout:P["a"],VStepper:wa["a"],VStepperContent:Ca["a"],VStepperHeader:Oa["a"],VStepperItems:Oa["b"],VStepperStep:_a["a"]});var Ia=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("v-form",{staticStyle:{background:"#f1f1f1"},attrs:{id:"intake-client-info","lazy-validation":""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-card",{staticStyle:{width:"100%"}},[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{staticClass:"outer-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"inner-div-content",attrs:{md12:""}},[r("span",{staticClass:"intake-intro-header"},[e._v("BC Procurement Intake Form")])]),r("v-flex",{attrs:{md12:"","row-wrap":""}},[r("span",{staticClass:"sub-content-span"},[e._v("Procurement Services, on behalf of Government, provides its clients in the Province and the Broader Public Sector (BPS) "),r("br"),e._v("assistance to obtain the best rates, terms and conditions when buying goods, services and/or construction.")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-header-span"},[e._v("Before you begin, please ensure you have the following which will help you in completing the intake process:")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v(" Finance/Accounting Codes")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v(" Names of the Lead and Executive Sponsor for this procurement")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v(" The expected date of the contract execution or contract start date")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v(" Estimated contract value for this procurement")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v(" A general understanding of the procurement project in order to complete an initial risk assessment")])]),r("v-flex",{attrs:{md12:""}}),r("v-flex",{staticClass:"start-button-div",attrs:{"md-12":"","mt-4":""}},[r("v-btn",{staticClass:"start-button-style",attrs:{color:"primary"},on:{click:e.onStart}},[e._v("START")])],1)],1)],1)],1)],1)])])],1)],1)},Ta=[],Sa={components:{},props:{},computed:{},data:function(){return{}},watch:{},methods:{onStart:function(){this.$router.push("intake")}}},$a=Sa,Da=(r("f464"),Object(y["a"])($a,Ia,Ta,!1,null,"58e9ab80",null)),Na=Da.exports;j()(Da,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"]});var Ea=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"page-container custom-intake-request-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"intake-request-header"},[e._v("Intake Requests")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("intake-forms-table")],1)],1)],1)},Va=[],Ba=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.intakeRequests,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[r("span",{staticClass:"clickable",on:{click:function(r){return e.viewRequest(t.item.id)}}},[e._v(e._s(t.item.projectName))])]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e.calculatedvalue(t.item)))]),r("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==t.item.status?r("v-select",{attrs:{items:e.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignLead(t.item.projectLeadId,t.item)}},nativeOn:{click:function(r){return e.getProjectLead(t.item.projectLeadId)}},model:{value:t.item.projectLeadId,callback:function(r){e.$set(t.item,"projectLeadId",r)},expression:"props.item.projectLeadId"}}):e._e()],1),r("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==t.item.status?r("v-select",{attrs:{items:e.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignBackup(t.item.projectBackupId,t.item)}},nativeOn:{click:function(r){return e.getProjectBackup(t.item.projectBackupId)}},model:{value:t.item.projectBackupId,callback:function(r){e.$set(t.item,"projectBackupId",r)},expression:"props.item.projectBackupId"}}):e._e()],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.estimatedCompletionDate)))]),1===t.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left high-level"},[e._v("HIGH")]):2===t.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left medium-level"},[e._v("MEDIUM")]):3===t.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left low-level"},[e._v("LOW")]):r("td",{staticClass:"text-xs-left low-level"}),r("td",{staticClass:"text-xs-center"},["approved"===t.item.status?r("div",{staticClass:"approved-label caption"},[e._v("Approved")]):e._e(),"submitted"===t.item.status?r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return e.approveRequest(t.item.id)}}},[e._v("APPROVE")]):e._e()],1),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.viewRequest(t.item.id)}}},n),[r("v-icon",[e._v("visibility")])],1)]}}],null,!0)},[r("span",[e._v("View Project")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteRequest(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)]}}])}),e.dialog?r("v-dialog",{attrs:{width:"800","margin-top":"91px"},on:{input:function(t){return e.closeDialog(!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-text",[r("v-icon",{staticClass:"v-model-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")]),r("intake-form-view",{attrs:{id:e.id}})],1)],1)],1):e._e()],r("v-divider")],2),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mouDialog,callback:function(t){e.mouDialog=t},expression:"mouDialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Assign or Create")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[e._v("\n              Project: "+e._s(e.mouProjectName)+"\n\n              "),e.isNewMOU?r("v-text-field",{ref:"mouCombobox",attrs:{"item-text":"name",label:"New MOU"},model:{value:e.mou,callback:function(t){e.mou=t},expression:"mou"}}):r("v-select",{ref:"mouCombobox",attrs:{items:e.mouList,"item-text":"name","item-value":"name",label:"Assign MOU"},model:{value:e.mou,callback:function(t){e.mou=t},expression:"mou"}}),r("v-checkbox",{attrs:{label:(e.isNewMOU?"Create":"Assign")+" MOU"},model:{value:e.isNewMOU,callback:function(t){e.isNewMOU=t},expression:"isNewMOU"}})],1),r("v-flex",{attrs:{xs12:""}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.mouDialog=!1}}},[e._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){return e.assignMOU()}}},[e._v("Save")])],1)],1)],1)],1)},Aa=[],La=(r("2060"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:"",column:""}},[[r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Project Information")]),r("intake-base-info-view",{ref:"intakeBaseInfoView",attrs:{project:e.intakeRequest,panelName:e.PROJECT_INFO}})],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Ministry / Branch Information")]),r("ministry-branch-info-view",{ref:"intakeClientInfoView",attrs:{ministry:e.intakeRequest.client,panelName:e.CLIENTS_INFO}})],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Contact Information")]),r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Client Lead Contact Information")]),r("project-contact-info-view",{ref:"projectLead",attrs:{contact:e.getClientInfo(e.CLIENT_LEAD),contactNameLabel:"Client Lead Name"}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Executive Sponsor Contact Information")]),r("project-contact-info-view",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name"}})],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[e.isEnabled(e.CLIENT_FINANCE)?r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Financial Contact Information")]),r("project-contact-info-view",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_FINANCE),contactNameLabel:"Executive Sponsor Name"}})],1):e._e(),e.isEnabled(e.CLIENT_CONTACT)?r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Additional Contact")]),r("project-additional-contact-info-view",{ref:"projectContact",attrs:{contact:e.getClientInfo(e.CLIENT_CONTACT),contactNameLabel:"Contact Name"}})],1):e._e()],1)],1)],1)]],2)],1)],1)],1)],1)}),Ma=[],Fa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","py-2":""}},[r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Project Name:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectName))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Desired Date of Completion:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.estimatedCompletionDate))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Project Sector:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectSector.projectSectorName))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Contract Amount:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e._f("withCommas")(e.form.estimatedContractValue)))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("MOU Amount:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.mouAmount))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Reprocurement?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[e.form.isReprocurement?r("div",{staticClass:"body-2"},[e._v("Yes")]):e._e(),e.form.isReprocurement?e._e():r("div",{staticClass:"body-2"},[e._v("No")])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[e.form.isReprocurement?r("div",{staticClass:"body-1"},[e._v("Date original contract ends:")]):e._e()]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.dateOfReprocurement))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[e.form.isReprocurement?r("div",{staticClass:"body-1"},[e._v("\n        What is the background from the previous contract?:\n      ")]):e._e()]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.previousContractBackground))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("What is the potential impact of this procurement project failing?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectFailImpact))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("What does success look like for this procurement project?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectSuccess))])])],1)],1)},Ua=[];function qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wa={props:{project:Object},data:function(){var e=Object.assign({},this.$props.project),t=e.projectSector||null;t||(e.projectSector=new st["a"]);var r=e.client||null;return r||(e.client=new it["a"]),{form:Ha({},e)}},watch:{project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new st["a"])}}},Ya=Wa,za=Object(y["a"])(Ya,Fa,Ua,!1,null,null,null),Qa=za.exports;j()(za,{VFlex:re["a"],VLayout:P["a"]});var Ja=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","py-2":""}},[e.form.isNonMinistry?e._e():r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Ministry:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.ministry.ministryName))])])],1),e.form.isNonMinistry?r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Non-Ministry:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.nonMinistryName))])])],1):e._e(),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Branch:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgDivision))])])],1),r("v-flex",{attrs:{xs12:""}},[r("generic-contact-info-view",{attrs:{contact:e.form}})],1),e.form.isNonMinistry?e._e():r("v-flex",{attrs:{xs12:"","pt-2":""}},[r("project-finance-info-view",{attrs:{financeInfo:e.form}})],1)],1)},Ga=[],Ka=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","py-2":""}},[r("v-flex",{attrs:{xs12:""}},[r("h3",[e._v("Finance Codes")])]),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Client No:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.clientNo))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Responsibility Center:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.responsibilityCenter))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Service Center:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.serviceCenter))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Service STOB:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.stob))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Project Code:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.projectCode))])])],1)],1)},Za=[],Xa={props:{financeInfo:Object}},en=Xa,tn=Object(y["a"])(en,Ka,Za,!1,null,null,null),rn=tn.exports;j()(tn,{VFlex:re["a"],VLayout:P["a"]});var an=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:""}},[r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Address Line 1:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.addressLine1))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Address Line 2:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.addressLine2))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("City:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.city))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Postal")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.postalCode))])])],1)],1)},nn=[],sn={props:{contact:Object},data:function(){return{}}},on=sn,cn=Object(y["a"])(on,an,nn,!1,null,null,null),ln=cn.exports;function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}j()(cn,{VFlex:re["a"],VLayout:P["a"]});var fn={components:{ProjectFinanceInfoView:rn,GenericContactInfoView:ln},props:{ministry:Object},data:function(){var e=Object.assign({},this.$props.ministry),t=e.ministry||null;return t||(e.ministry=new nt["a"]),{form:dn({},e)}},watch:{ministry:function(e){this.form=e;var t=this.form.ministry||null;t||(this.form.ministry=new nt["a"])}}},mn=fn,pn=Object(y["a"])(mn,Ja,Ga,!1,null,null,null),vn=pn.exports;j()(pn,{VFlex:re["a"],VLayout:P["a"]});r("6956");var hn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:""}},[r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Contact Name:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.fullName))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Email Address:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.email))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Organization:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgName))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Position:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgPosition))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Phone Number:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.phoneNumber))])])],1)],1)},bn=[];function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jn={props:{contact:Object},data:function(){var e=Object.assign({},new ke,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:xn({},e)}},watch:{contact:function(e){this.form=e||new ke}}},gn=jn,kn=Object(y["a"])(gn,hn,bn,!1,null,null,null),wn=kn.exports;j()(kn,{VFlex:re["a"],VLayout:P["a"]});var Cn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:""}},[r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Contact Name:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.fullName))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Email Address:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.email))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Organization:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgName))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Position:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgPosition))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Phone Number:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.phoneNumber))])])],1)])},On=[];function _n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rn={props:{contact:Object},data:function(){var e=Object.assign({},new ke,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:Pn({},e)}},watch:{contact:function(e){this.form=e||new ke}}},In=Rn,Tn=Object(y["a"])(In,Cn,On,!1,null,null,null),Sn=Tn.exports;function $n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}j()(Tn,{VFlex:re["a"],VLayout:P["a"]});var Nn={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo"},En={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact",CLIENT_FINANCE:"clientfinance"},Vn={components:{IntakeBaseInfoView:Qa,MinistryBranchInfoView:vn,ProjectContactInfoView:wn,ProjectAdditionalContactInfoView:Sn},props:{id:String},data:function(){var e;return Dn({projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,valid:!1,enabled:!0},Nn,{panelStates:(e={},Object(l["a"])(e,Nn.PROJECT_INFO,{value:!1}),Object(l["a"])(e,Nn.CLIENTS_INFO,{value:!1}),Object(l["a"])(e,Nn.CONTACTS_INFO,{value:!1}),e)},En)},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||this.$props.id;void 0!==t?this.$store.dispatch("fetchIntakeRequest",{id:t}):this.$store.dispatch("clearActiveIntakeRequest")},isEnabled:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return!!r},getClientInfo:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return r}},created:function(){this.fetchData()}},Bn=Vn,An=(r("5b12"),Object(y["a"])(Bn,La,Ma,!1,null,null,null)),Ln=An.exports;j()(An,{VCard:J["a"],VCardText:G["b"],VContainer:w["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"]});var Mn={props:{title:String},components:{Snackbar:Ee,Confirm:X,IntakeFormView:Ln},data:function(){return{headers:[{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"estimatedCompletionDate",sortable:!0},{text:"Risk Score",value:"intakeRiskLevel",sortable:!0},{text:"Status",value:"approved",align:"center",sortable:!1},{text:"Action",value:"action",align:"right",width:"110px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:"",pagination:{sortBy:"name"},dialog:!1,mouDialog:!1,id:"",mouProjectName:"",mou:"",isNewMOU:!1}},computed:{intakeRequests:function(){return this.$store.state.intakeRequests},userList:function(){return console.log("userList called",this.$store.state.users),this.$store.state.users},mouList:function(){return this.$store.state.mouList}},methods:{closeDialog:function(){project.projectBackupId=this.selectedProjectBackup},calculatedvalue:function(e){var t=1==e.isNonMinistry?e.nonMinistryName:e.ministryName;return t},fetchData:function(){this.$store.dispatch("fetchIntakeRequests"),this.$store.dispatch("fetchMOUs")},viewRequest:function(e){this.id=e,this.dialog=!0},approveRequest:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to approve this request?");case 2:if(!e.sent){e.next=4;break}this.$store.dispatch("approveIntakeRequest",{id:t}).then((function(){r.$store.dispatch("fetchIntakeRequests"),r.$refs.snackbar.displaySnackbar("success","Request Approved.")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getProjectLead:function(e){this.selectedLeadUser=e},assignLead:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.projectId?r.projectId:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("infoAssign","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectLeadId=o.selectedLeadUser}else r.projectLeadId=o.selectedLeadUser,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead")})),e.next=12;break;case 11:r.projectLeadId=this.selectedLeadUser;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),getProjectBackup:function(e){this.selectedProjectBackup=e},assignBackup:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.projectId?r.projectId:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("infoAssign","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectBackupId=o.selectedProjectBackup}else r.projectBackupId=o.selectedProjectBackup,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup")})),e.next=12;break;case 11:r.projectBackupId=this.selectedProjectBackup;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteRequest:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure you wish to delete this Intake Request? Note: If it has already been approved into a Project, the Project will be unaffected.");case 2:if(!e.sent){e.next=8;break}return e.next=5,this.$store.dispatch("deleteIntakeRequest",{id:t});case 5:this.fetchData(),this.$refs.snackbar.displaySnackbar("success","Deleted."),this.$router.push({path:"intake-requests"});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showMOUModal:function(e){this.mouProjectName=e.projectName,this.mouProjectId=e.id,this.mouProject=e,e.mouName&&(console.log("has mou!",e),this.mou={id:e.mouId,name:e.mouName}),this.mouDialog=!0},assignMOU:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.mouCombobox.blur(),this.$nextTick(Object(H["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.mou&&""!==t.mou){e.next=2;break}return e.abrupt("return");case 2:if(console.log("assignMOU",{project:t.mouProject,mou:t.mou}),r=t.mou.id,r||!t.mou){e.next=9;break}return console.log("creating mou",{mouID:r,mou:t.mou}),e.next=8,t.$store.dispatch("createMOU",{name:t.mou});case 8:r=e.sent;case 9:return a=t.mouProject,a.mou={id:r,name:t.mou},e.next=13,t.$store.dispatch("updateIntakeRequest",a);case 13:e.sent,t.fetchData(),t.mouDialog=!1,t.mou=void 0;case 17:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleNewMou:function(e){console.log("toggle called"),this.mou=void 0}},created:function(){this.fetchData()}},Fn=Mn,Un=r("3a2f"),qn=Object(y["a"])(Fn,Ba,Aa,!1,null,null,null),Hn=qn.exports;j()(qn,{VBtn:k["a"],VCard:J["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:ze["a"],VCheckbox:dt["a"],VContainer:w["a"],VDataTable:hr["a"],VDialog:K["a"],VDivider:O["a"],VFlex:re["a"],VIcon:_["a"],VLayout:P["a"],VSelect:Ke["a"],VSpacer:N["a"],VTextField:Ze["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:Un["a"]});r("9801");var Wn={components:{IntakeFormsTable:Hn},data:function(){return{color:Oe.a,selectedTab:"tab-1"}}},Yn=Wn,zn=Object(y["a"])(Yn,Ea,Va,!1,null,null,null),Qn=zn.exports;j()(zn,{VContainer:w["a"],VFlex:re["a"],VLayout:P["a"]});var Jn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-intake-request-success",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{staticClass:"intake-success-layot",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("h1",[e._v("You have successfully submitted your project")])])]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("h3",{staticClass:"intake-secondary-header"},[e._v("You will receive an email with next steps within a few business days.")])])]),r("v-flex",{staticClass:"intake-success-button",attrs:{xs12:""}},[r("v-btn",{staticClass:"white--text",attrs:{color:"btnPrimary"},on:{click:e.logout}},[e._v("Logout")])],1)],1)],1)},Gn=[],Kn=(r("771f"),{methods:{logout:function(){this.$router.push({path:"logout"})}}}),Zn=Kn,Xn=Object(y["a"])(Zn,Jn,Gn,!1,null,null,null),es=Xn.exports;j()(Xn,{VBtn:k["a"],VContainer:w["a"],VFlex:re["a"],VLayout:P["a"]});var ts=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-flex",{attrs:{md12:""}},[r("v-radio-group",{attrs:{row:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[r("v-radio",{attrs:{label:"My Projects",value:"My Projects"}}),r("v-radio",{attrs:{label:"All Projects",value:"All Projects"}}),r("v-radio",{attrs:{label:"Archived Projects",value:"Archived Projects"}})],1)],1),r("h1",{staticClass:"projects-header"},[e._v("View "+e._s(e.selected))]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},["My Projects"===e.selected?r("projects-table",{attrs:{selectedItem:2}}):e._e(),"All Projects"===e.selected?r("projects-table",{attrs:{selectedItem:1}}):e._e(),"Archived Projects"===e.selected?r("archived-projects-table"):e._e()],1)],1),r("v-flex",{attrs:{md12:""}})],1)},rs=[],as=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.mou?t.item.mou.name:"n/a")+" ")]),r("td",{class:{archived:t.item.is_archived}},[r("span",{staticClass:"clickable",on:{click:function(r){return e.editProject(t.item.id)}}},[e._v(e._s(t.item.projectName))])]),r("td",{staticClass:"text-xs-left"},[e._v(e._s([t.item.client.isNonMinistry?t.item.client.nonMinistryName:t.item.client.ministry.ministryName,t.item.orgDivision].join(" ")))]),r("td",{staticClass:"text-xs-left table-dropdown"},[r("v-select",{attrs:{items:e.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignLead(t.item.projectLeadUserId,t.item)}},nativeOn:{click:function(r){return e.getProjectLead(t.item.projectLeadUserId)}},model:{value:t.item.projectLeadUserId,callback:function(r){e.$set(t.item,"projectLeadUserId",r)},expression:"props.item.projectLeadUserId"}})],1),r("td",{staticClass:"text-xs-left table-dropdown"},[r("v-select",{attrs:{items:e.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignBackup(t.item.projectBackupUserId,t.item)}},nativeOn:{click:function(r){return e.getProjectBackup(t.item.projectBackupUserId)}},model:{value:t.item.projectBackupUserId,callback:function(r){e.$set(t.item,"projectBackupUserId",r)},expression:"props.item.projectBackupUserId"}})],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.dateModified)))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.editProject(t.item.id)}}},n),[r("v-icon",[e._v("edit")])],1)]}}],null,!0)},[r("span",[e._v("Edit")])]),t.item.is_archived?r("v-btn",{attrs:{flat:""},on:{click:function(r){return e.archivePrompt(t.item,!1)}}},[e._v("\n            Archived\n            ")]):r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.archivePrompt(t.item,!0)}}},n),[r("v-icon",[e._v("archive")])],1)]}}],null,!0)},[r("span",[e._v("Archive")])])],1)]}}])})],r("v-divider")],2)],1)},ns=[],ss=(r("c5f6"),{props:{title:String,selectedItem:Number},components:{Snackbar:Ee,Confirm:X},data:function(){return{headers:[{text:"MOU / Contract",value:"mou",align:"left",sortable:!0},{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:""}},computed:{projects:function(){return 1===this.selectedItem?this.$store.state.allProjects:this.$store.state.projects},userList:function(){return this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchAllProjects"),this.$store.dispatch("fetchProjects")},editProject:function(e){var t=this;this.$store.state.activeProject.id=e,this.$store.dispatch("fetchAllProjectNotes",{id:this.$store.state.activeProject.id}),this.$store.dispatch("fetchProjectContacts",{id:this.$store.state.activeProject.id}).then((function(r){t.$router.push({path:"project/".concat(e)})}))},archivePrompt:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to archive project: ".concat(t.projectName,"?"));case 2:if(!e.sent){e.next=7;break}return t.is_archived=r,e.next=6,this.$store.dispatch("archiveProject",{id:t.id,is_archived:r});case 6:this.$store.dispatch("fetchProjects");case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),viewProjectTimesheets:function(){this.$router.push({path:"timesheets"})},getProjectLead:function(e){this.selectedLeadUser=e},assignLead:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.id?r.id:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned."),o.fetchData()})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectLeadUserId=o.selectedLeadUser}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project lead"),r.projectLeadUserId=o.selectedLeadUser})),e.next=12;break;case 11:r.projectLeadUserId=this.selectedLeadUser;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),getProjectBackup:function(e){this.selectedProjectBackup=e},assignBackup:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.id?r.id:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectBackupUserId=o.selectedProjectBackup}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup"),r.projectBackupUserId=o.selectedProjectBackup})),e.next=12;break;case 11:r.projectBackupUserId=this.selectedProjectBackup;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteProject:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","");case 2:if(!e.sent){e.next=5;break}this.$store.dispatch("fetchProjects"),this.$refs.snackbar.displaySnackbar("success","Deleted.");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatDate:function(e){var t=e.split("T");return t?t[0]:e}},created:function(){this.fetchData()}}),is=ss,os=Object(y["a"])(is,as,ns,!1,null,null,null),cs=os.exports;j()(os,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VDataTable:hr["a"],VDivider:O["a"],VIcon:_["a"],VSelect:Ke["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:Un["a"]});var ls=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.mou?t.item.mou.name:"n/a")+" ")]),r("td",{class:{archived:t.item.is_archived}},[e._v(e._s(t.item.projectName))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s([t.item.client.ministry.ministryName,t.item.orgDivision].join(" ")))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.leadUserId))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.backupUserId))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.dateModified)))]),r("td",{staticClass:"text-xs-right"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.archivePrompt(t.item,!1)}}},n),[r("v-icon",[e._v("unarchive")])],1)]}}],null,!0)},[r("span",[e._v("Un-archive")])])],1)]}}])})],r("v-divider")],2)],1)},us=[],ds={props:{title:String},components:{Snackbar:Ee,Confirm:X},data:function(){return{headers:[{text:"MOU",value:"mouAmount",align:"left",sortable:!0},{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],archivedprojects:[],selectedLeadUser:"",selectedProjectBackup:""}},computed:{projects:function(){return this.$store.state.archivedProjects},userList:function(){return this.$store.state.users}},methods:{fetchArchivedData:function(){this.$store.dispatch("fetchArchivedProjects")},editProject:function(e){this.$router.push({path:"project/".concat(e)})},viewProjectTimesheets:function(){this.$router.push({path:"timesheets"})},getProjectLead:function(e){this.selectedLeadUser=e},getProjectBackup:function(e){this.selectedProjectBackup=e},deleteProject:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","");case 2:if(!e.sent){e.next=5;break}this.$store.dispatch("fetchArchivedProjects"),this.$refs.snackbar.displaySnackbar("success","Deleted.");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),archivePrompt:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to un-archive project: ".concat(t.projectName,"?"));case 2:if(!e.sent){e.next=7;break}return t.is_archived=r,e.next=6,this.$store.dispatch("archiveProject",{id:t.id,is_archived:r});case 6:this.fetchArchivedData();case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},created:function(){this.fetchArchivedData()}},fs=ds,ms=Object(y["a"])(fs,ls,us,!1,null,null,null),ps=ms.exports;j()(ms,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VDataTable:hr["a"],VDivider:O["a"],VIcon:_["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:Un["a"]});r("6fa9");var vs={components:{ProjectsTable:cs,ArchivedProjectsTable:ps},data:function(){return{color:Oe.a,selected:"My Projects"}},computed:{}},hs=vs,bs=Object(y["a"])(hs,ts,rs,!1,null,null,null),ys=bs.exports;j()(bs,{VContainer:w["a"],VFlex:re["a"],VLayout:P["a"],VRadio:mt["a"],VRadioGroup:pt["a"]});var xs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"page-container custom-timesheets-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"timesheet-header"},[e._v("Timesheets")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("timesheets-table")],1)],1)],1)},js=[],gs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("spinner",{ref:"spinner"}),r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-card-title",[r("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[r("v-flex",{attrs:{"d-flex":"","justify-start":"","align-start":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Project","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("timesheets-toolbar",{ref:"timesheetstoolbar",on:{refresh:e.fetchData}})],1)],1),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[r("add-time-record",{ref:"AddTimeRecord",on:{"close-timesheet":e.closeTimesheet}}),[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.timesheetsList,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.dateModified.toString().slice(0,10)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.user.contact.fullName))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.project.projectName))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.hoursAccured))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.editTimesheet(t.item.id)}}},n),[r("v-icon",[e._v("edit")])],1)]}}],null,!0)},[r("span",[e._v("Edit")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteTimesheet(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)]}}])})],r("v-divider")],2)],1)},ks=[],ws=(r("6762"),r("2fdb"),r("386d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("div",{staticStyle:{"border-left":"1px solid lightgrey"}},[r("v-data-table",{attrs:{headers:e.rfxHeaders,items:e.project.projectRfxData,expand:!0,"no-data-text":"No Project RFx available","hide-headers":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("tr",{staticClass:"row-background",on:{click:function(e){t.expanded=!t.expanded}}},[r("td",[e._v(e._s(e.getRfxTypeName(t.item)))])])]}},{key:"expand",fn:function(t){return[r("timesheet-expansion-row",{attrs:{selectedRfxData:t.item,project:e.project}})]}}])})],1)])}),Cs=[],Os=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",[r("v-flex",[r("div",{staticClass:"lane"},[r("div",{staticClass:"lane-label"},[r("span",{staticClass:"lane-label-text"},[e._v("Billable")])]),r("div",{staticClass:"lane-content"},[r("timesheet-entries-table",{attrs:{addBillableRecordLabel:"+ Add Billable",addNonBillableRecordLabel:"+ Add Non-Billable",projectRfx:e.selectedRfxData,project:e.project,filter:e.filterBillableRecords,onAddNonBillableRecord:e.showNonBillableRecords,displayAddBillableRecordButton:!0,displayAddNonBillableRecordButton:!1,selectedRfxData:e.selectedRfxData}})],1)]),r("div",{staticClass:"lane"},[r("div",{staticClass:"lane-label dark"},[r("span",{staticClass:"lane-label-text"},[e._v("Non-Billable")])]),r("div",{staticClass:"lane-content"},[r("timesheet-entries-table",{attrs:{addBillableRecordLabel:"+ Add Billable",addNonBillableRecordLabel:"+ Add Non-Billable",projectRfx:e.selectedRfxData,project:e.project,filter:e.filterNonBillableRecords,displayAddNonBillableRecordButton:!0,displayNonBillableRecords:!0,selectedRfxData:e.selectedRfxData}})],1)])])],1)],1)},_s=[],Ps=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"100%"}},[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),r("comments-drawer",{ref:"commentsDrawer"}),r("v-data-table",{key:e.tableRefreshKey,staticStyle:{width:"100%"},attrs:{headers:e.timesheetHeaders,items:e.timesheets,"item-key":"id","hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[r("tr",{staticClass:"row-background-lightgrey"},e._l(t.headers,(function(t){return r("th",{key:t.text,class:["column sortable",e.pagination.descending?"desc":"asc",t.value===e.pagination.sortBy?"active":""],style:"text-align: "+(t.align||"left")+"; width: "+t.width+"; font-weight: 900",on:{click:function(r){return e.changeSort(t.value)}}},[e._v("\n          "+e._s(t.text)+"\n          "),["hoursMonday","hoursTuesday","hoursWednesday","hoursThursday","hoursFriday","hoursSaturday","hoursSunday"].indexOf(t.value)>-1?r("small",{staticClass:"month-day"},[e._v(e._s(t.date))]):e._e(),t.sortable?r("v-icon",{attrs:{small:""}},[e._v("arrow_upward")]):e._e()],1)})),0)]}},{key:"items",fn:function(t){return[r("tr",{class:e.getSelectedRowClass(t),on:{click:function(r){return e.onSelectRow(t)}}},[r("td",[r("v-select",{attrs:{"hide-details":"",items:e.rfxPhases,readOnly:t.item.id===e.selectedRowId,outline:t.item.id===e.selectedRowId,"item-value":"id","item-text":"rfxPhaseName"},model:{value:e.getTimesheetRow(t.item.id).rfxPhaseId,callback:function(r){e.$set(e.getTimesheetRow(t.item.id),"rfxPhaseId",r)},expression:"getTimesheetRow(props.item.id).rfxPhaseId"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-select",{attrs:{"hide-details":"",items:e.users,height:"34",readOnly:t.item.id===e.selectedRowId,outline:t.item.id===e.selectedRowId,"item-value":"id","item-text":"fullName"},model:{value:e.getTimesheetRow(t.item.id).userId,callback:function(r){e.$set(e.getTimesheetRow(t.item.id),"userId",r)},expression:"getTimesheetRow(props.item.id).userId"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-total-hours",attrs:{"hide-details":"",type:"number","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId,disabled:"",value:e.calcTimesheetRowTotals(e.getTimesheetRowHours(t.item.id))}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(r){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursMonday,"hoursMonday",t.item.id)},change:function(r){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursMonday,"hoursMonday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursMonday,callback:function(r){e.$set(e.getTimesheetRowHours(t.item.id),"hoursMonday",r)},expression:"getTimesheetRowHours(props.item.id).hoursMonday"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(r){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursTuesday,"hoursTuesday",t.item.id)},change:function(r){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursTuesday,"hoursTuesday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursTuesday,callback:function(r){e.$set(e.getTimesheetRowHours(t.item.id),"hoursTuesday",r)},expression:"getTimesheetRowHours(props.item.id).hoursTuesday"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",outline:t.item.id===e.selectedRowId},on:{keyup:function(r){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursWednesday,"hoursWednesday",t.item.id)},change:function(r){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursWednesday,"hoursWednesday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursWednesday,callback:function(r){e.$set(e.getTimesheetRowHours(t.item.id),"hoursWednesday",r)},expression:"getTimesheetRowHours(props.item.id).hoursWednesday"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(r){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursThursday,"hoursThursday",t.item.id)},change:function(r){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursThursday,"hoursThursday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursThursday,callback:function(r){e.$set(e.getTimesheetRowHours(t.item.id),"hoursThursday",r)},expression:"getTimesheetRowHours(props.item.id).hoursThursday"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(r){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursFriday,"hoursFriday",t.item.id)},change:function(r){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursFriday,"hoursFriday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursFriday,callback:function(r){e.$set(e.getTimesheetRowHours(t.item.id),"hoursFriday",r)},expression:"getTimesheetRowHours(props.item.id).hoursFriday"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(r){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursSaturday,"hoursSaturday",t.item.id)},change:function(r){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursSaturday,"hoursSaturday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursSaturday,callback:function(r){e.$set(e.getTimesheetRowHours(t.item.id),"hoursSaturday",r)},expression:"getTimesheetRowHours(props.item.id).hoursSaturday"}})],1),r("td",{staticClass:"text-xs-left"},[r("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(r){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursSunday,"hoursSunday",t.item.id)},change:function(r){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursSunday,"hoursSunday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursSunday,callback:function(r){e.$set(e.getTimesheetRowHours(t.item.id),"hoursSunday",r)},expression:"getTimesheetRowHours(props.item.id).hoursSunday"}})],1),r("td",{staticClass:"text-xs-right action-buttons-col"},[e.getTimesheetRow(t.item.id).userId?[r("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.showComments(t.item)}}},[r("v-icon",[e._v("comment")])],1),t.item.id===e.selectedRowId?r("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(r){return e.saveTimesheet(t.item)}}},[r("v-icon",[e._v("save")])],1):e._e(),t.item.id!==e.selectedRowId?r("v-btn",{attrs:{flat:"",icon:"",color:"grey"}},[r("v-icon",[e._v("edit")])],1):e._e()]:e._e(),r("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteTimesheet(t.item)}}},[r("v-icon",[e._v("delete")])],1)],2)])]}},{key:"footer",fn:function(){return[r("timesheet-entries-total-row",{attrs:{addBillableRecordLabel:e.addBillableRecordLabel,addNonBillableRecordLabel:e.addNonBillableRecordLabel,displayAddBillableRecordButton:e.displayAddBillableRecordButton,displayAddNonBillableRecordButton:e.displayAddNonBillableRecordButton,onAddNonBillableRecord:e.onAddNonBillableRecord,onAddNonBillableRecordClicked:function(){return e.addNonBillableTimesheetClicked(e.project,e.projectRfx,e.timesheet)},onAddBillableRecordClicked:function(){return e.addBillableTimesheetClicked(e.project,e.projectRfx,e.timesheet)},totals:e.calcTimesheetTotals()}})]},proxy:!0}])},[r("v-progress-linear",{attrs:{color:"blue",indeterminate:""},scopedSlots:e._u([{key:"progress",fn:function(){},proxy:!0}])})],1)],1)},Rs=[],Is=(r("8615"),r("d456")),Ts=r.n(Is),Ss=r("2f62"),$s=r("dccd"),Ds=r("7618"),Ns=(r("ffc1"),r("3b2b"),function(){function e(){Object(ve["a"])(this,e)}return Object(he["a"])(e,null,[{key:"decodeHtmlEntities",value:function(e){var t=document.createElement("div"),r=function(e){return e&&"string"===typeof e&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,""),e=e.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),t.innerHTML=e,e=t.textContent,t.textContent=""),e};return r(e)}},{key:"stringIsInteger",value:function(e){if("undefined"===typeof e||null===e)return!1;var t=Math.floor(Number(e));return String(t)===e&&t>=0}}]),e}());Object(l["a"])(Ns,"capitalizeFirstLetter",(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),Object(l["a"])(Ns,"hyphenize",(function(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))})),Object(l["a"])(Ns,"underscore",(function(e){return e.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())}))})),Object(l["a"])(Ns,"camelize",(function(e){return e.replace(/[\s\-_]+(\w)/g,(function(e){return e.toUpperCase().replace(/[\s\-_]+/,"")}))})),Object(l["a"])(Ns,"swapSubstrings",(function(e,t,r){return e=e.replace(new RegExp("(".concat(t,"|").concat(r,")"),"g"),(function(e){return e===t?r:t})),e})),Object(l["a"])(Ns,"escapeRegExp",(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")})),Object(l["a"])(Ns,"shortenText",(function(e,t){t=t||e.length;var r=e.substr(0,t);return r.substr(0,Math.min(r.length,r.lastIndexOf(" ")))})),Object(l["a"])(Ns,"toSentenceCase",(function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))})),Object(l["a"])(Ns,"quoteIfNecessary",(function(e){return-1!==e.indexOf(" ")&&(e="'".concat(e,"'")),e})),Object(l["a"])(Ns,"unquoteIfNecessary",(function(e){return("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.slice(1,e.length-1)),e}));var Es=Ns,Vs=function(){function e(){Object(ve["a"])(this,e)}return Object(he["a"])(e,null,[{key:"cleanObject",value:function(e){return e=Object.entries(e).filter((function(e){var t=Object(fe["a"])(e,2),r=(t[0],t[1]);return void 0!==r})).reduce((function(e,t){var r=Object(fe["a"])(t,2),a=r[0],n=r[1];return e[a]=n,e}),{}),e}},{key:"prefixKeys",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(e).reduce((function(r,a){return r["".concat(t).concat(a)]=e[a],r}),r||{})}},{key:"generateUUIDv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,r="x"==e?t:3&t|8;return r.toString(16)}))}}]),e}();Object(l["a"])(Vs,"isEmpty",(function(e){if(e=e||null,null===e)return!0;for(var t in e)if(e.hasOwnProperty(t)&&null!==e.prop)return!1;return!0})),Object(l["a"])(Vs,"recursiveFormatKeys",(function(e,t,r){var a={},n=["underscore","camelcase","hyphenate"];if(!(n.indexOf(t)>-1||!n.indexOf(r)>-1))throw new Error("Cannot normalize data: incorrect mode and currentMode supplied. Valid modes are 'underscore', 'camelcase' and 'hyphenate'.");return Object.keys(e).reduce((function(a,n){var s=e[n],i="object"===Object(Ds["a"])(s)&&null!==s?Vs.recursiveFormatKeys(s,t,r):s;switch(r){case"underscore":a[Es.underscore(n)]=i;break;case"camelcase":a[Es.camelize(n)]=i;break;case"hyphenate":a[Es.hyphenize(n)]=i;break}return a}),a),a})),Object(l["a"])(Vs,"recursiveRenameKeys",(function(e,t){var r={};Object.keys(e).reduce((function(a,n){var s=e[n];"object"===Object(Ds["a"])(s)&&null!==s&&Vs.recursiveFormatKeys(s,t);return r}))})),Object(l["a"])(Vs,"jsonSameMembers",(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}));var Bs=Vs,As=function(e){function t(){var e,r;Object(ve["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(be["a"])(this,(e=Object(ye["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(xe["a"])(r),"id",""),Object(l["a"])(Object(xe["a"])(r),"projectRfxId",""),Object(l["a"])(Object(xe["a"])(r),"projectId",""),Object(l["a"])(Object(xe["a"])(r),"rfxPhaseId",""),Object(l["a"])(Object(xe["a"])(r),"userId",""),Object(l["a"])(Object(xe["a"])(r),"hoursBilled",""),Object(l["a"])(Object(xe["a"])(r),"startTime",""),Object(l["a"])(Object(xe["a"])(r),"endTime",""),Object(l["a"])(Object(xe["a"])(r),"entryDate",new Date),Object(l["a"])(Object(xe["a"])(r),"comments",""),r}return Object(je["a"])(t,e),Object(he["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,ge["a"].setProperties(e,r)),r}}]),t}(ge["a"]),Ls=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"row-background-lightgrey"},[r("td",[e.displayAddBillableRecordButton?r("v-btn",{staticClass:"mt-3 mb-3",attrs:{color:"btnPrimary",dark:""},on:{click:this.onAddBillableRecordClicked}},[e._v(e._s(e.addBillableRecordLabel))]):e._e(),e.displayAddNonBillableRecordButton?r("v-btn",{staticClass:"mt-3 mb-3",attrs:{dark:""},on:{click:this.onAddNonBillableRecordClicked}},[e._v(e._s(e.addNonBillableRecordLabel))]):e._e()],1),e._m(0),r("td",{staticClass:"text-xs-center"},[r("strong",[e._v(e._s(e.totals.totalHours)+" Hrs")])]),r("td",{staticClass:"text-xs-center"},[r("span",[e._v(e._s(e.totals.dailyHours.hoursMonday)+" Hrs")])]),r("td",{staticClass:"text-xs-center"},[r("span",[e._v(e._s(e.totals.dailyHours.hoursTuesday)+" Hrs")])]),r("td",{staticClass:"text-xs-center"},[r("span",[e._v(e._s(e.totals.dailyHours.hoursWednesday)+" Hrs")])]),r("td",{staticClass:"text-xs-center"},[r("span",[e._v(e._s(e.totals.dailyHours.hoursThursday)+" Hrs")])]),r("td",{staticClass:"text-xs-center"},[r("span",[e._v(e._s(e.totals.dailyHours.hoursFriday)+" Hrs")])]),r("td",{staticClass:"text-xs-center"},[r("span",[e._v(e._s(e.totals.dailyHours.hoursSaturday)+" Hrs")])]),r("td",{staticClass:"text-xs-center"},[r("span",[e._v(e._s(e.totals.dailyHours.hoursSunday)+" Hrs")])]),r("td")])},Ms=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{staticClass:"text-xs-right"},[r("strong",[r("small",[e._v("Total Hours:")])])])}],Fs={props:{onAddBillableRecordClicked:Function,onAddNonBillableRecordClicked:Function,displayAddBillableRecordButton:{type:Boolean,value:!0},displayAddNonBillableRecordButton:{type:Boolean,value:!1},addBillableRecordLabel:String,addNonBillableRecordLabel:String,totals:Object}},Us=Fs,qs=Object(y["a"])(Us,Ls,Ms,!1,null,null,null),Hs=qs.exports;j()(qs,{VBtn:k["a"]});var Ws=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{staticClass:"navigation-drawer-scroll",attrs:{fixed:"",right:"","ma-2":"",width:"500","disable-resize-watcher":""},model:{value:e.drawerComments,callback:function(t){e.drawerComments=t},expression:"drawerComments"}},[r("div",{staticClass:"drawer-main"},[r("label",{staticClass:"sub-header-large"},[e._v("Comments")]),r("v-icon",{staticClass:"drawer-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.drawerComments=!1}}},[e._v("close")]),r("v-data-iterator",{attrs:{items:e.commentsList,"hide-actions":"","hide-headers":""},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-textarea",{ref:"cmnt_"+t.index,attrs:{name:"props.item.day",label:t.item.label,"no-resize":"",rows:"2"},model:{value:t.item.comments,callback:function(r){e.$set(t.item,"comments",r)},expression:"props.item.comments"}})]}}])})],1),r("div",{staticClass:"drawer-buttons"},[r("v-btn",{on:{click:e.closeCommentModal}},[e._v("Discard")]),r("v-btn",{staticClass:"add-new-row",attrs:{color:"btnPrimary",dark:""},on:{click:e.saveComment}},[e._v("Save")])],1)])},Ys=[],zs=(r("a123"),{data:function(){return{drawerComments:!1,commentsList:[],updateTimesheetFunc:void 0,selectedTimesheetRow:void 0}},methods:{saveComment:function(){this.selectedTimesheetRow.entries=this.commentsList,this.updateTimesheetFunc(this.selectedTimesheetRow),this.closeCommentModal()},openComments:function(e,t){this.drawerComments=!0,this.prepareData(e.entries),this.updateTimesheetFunc=t,this.selectedTimesheetRow=e},prepareData:function(e){var t=this;e.forEach((function(e,r){var a=sessionStorage.getItem("selectedStartDate"),n=c()(a).add(r,"days"),s="0".concat(n.get("date")).slice(-2),i=n.get("month");e.hoursBilled=e.hoursBilled?e.hoursBilled:0,e.label="".concat(t.dayOftheWeek(r)," : ").concat(s,"/").concat(t.monthOfTheYear(i),"  |  Hours Logged ").concat(e.hoursBilled)})),this.commentsList=e},focusOnFirstField:function(){this.$refs.cmnt_0&&this.$refs.cmnt_0.focus()},dayOftheWeek:function(e){var t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return t[e]},monthOfTheYear:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e]},closeCommentModal:function(){this.drawerComments=!1}},updated:function(){this.focusOnFirstField()}}),Qs=zs,Js=r("c377"),Gs=Object(y["a"])(Qs,Ws,Ys,!1,null,null,null),Ks=Gs.exports;function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}j()(Gs,{VBtn:k["a"],VDataIterator:Js["a"],VIcon:_["a"],VNavigationDrawer:D["a"],VTextarea:Xe["a"]});var ei={components:{Snackbar:Ee,Confirm:X,TimesheetEntriesTotalRow:Hs,CommentsDrawer:Ks},props:{title:String,addBillableRecordLabel:String,addNonBillableRecordLabel:String,onAddNonBillableRecord:Function,onAddNonBillableRecordClicked:Function,displayAddBillableRecordButton:Boolean,displayAddNonBillableRecordButton:Boolean,project:Object,projectRfx:Object,timesheet:Object,selectedRfxData:Object,filter:{type:Function,default:function(e){return!1!==e.isBillable}},displayNonBillableRecords:{type:Boolean,default:!1}},data:function(){var e=this.initTimesheetRows();return{pagination:{sortBy:"name"},tableRefreshKey:Bs.generateUUIDv4(),selectedRowId:null,timesheetRows:e,dialog:!1,expand:!1,rfxExpand:!1,timesheetHeaders:this.getTimesheetHeaders()}},watch:{$data:{handler:function(){},deep:!0},timesheetsWeek:{handler:function(){this.fetchData(!0),this.timesheetHeaders=this.getTimesheetHeaders()}}},computed:Xs({},Object(Ss["b"])(["timesheetsWeek"]),{rfxPhases:function(){return this.$store.state.rfxPhases},timesheets:function(){return this.getTimesheets()},users:function(){var e=this.$store.state.users;return e.map((function(e){return{id:e.id,fullName:e.contact.fullName}}))}}),methods:{getTimesheetHeaders:function(){var e=sessionStorage.getItem("selectedStartDate"),t=c()(e).day(1),r=c()(e).day(2),a=c()(e).day(3),n=c()(e).day(4),s=c()(e).day(5),i=c()(e).day(6),o=c()(e).day(7);return[{text:"Phase Name",value:"phaseName",width:"280px"},{text:"User",value:"user",width:"280px"},{text:"Hours",value:"hours"},{text:"Mo",value:"hoursMonday",date:this.date2Digit(t),sortable:!1},{text:"Tu",value:"hoursTuesday",date:this.date2Digit(r),sortable:!1},{text:"We",value:"hoursWednesday",date:this.date2Digit(a),sortable:!1},{text:"Th",value:"hoursThursday",date:this.date2Digit(n),sortable:!1},{text:"Fr",value:"hoursFriday",date:this.date2Digit(s),sortable:!1},{text:"Sa",value:"hoursSaturday",date:this.date2Digit(i),sortable:!1},{text:"Su",value:"hoursSunday",date:this.date2Digit(o),sortable:!1},{text:"Actions",value:"action",align:"right",width:"180px",sortable:!1}]},onSelectRow:function(e){e.expanded=!e.expanded,this.selectedRowId=e.item.id},getSelectedRowClass:function(e){return e.item.id===this.selectedRowId?"table-row selected-row":"table-row"},addBillableTimesheetClicked:function(e,t,r){this.createTimesheet(e,t,r,!0)},addNonBillableTimesheetClicked:function(e,t,r){this.createTimesheet(e,t,r,!1)},onTimeKeyup:function(e,t,r){var a=0;""!==e&&(e=parseFloat(e),e>24&&(a=24,this.setDefaultTimeEntry(t,r,a)))},onTimeChange:function(e,t,r){var a=0;""===e&&this.setDefaultTimeEntry(t,r,a)},setDefaultTimeEntry:function(e,t,r){switch(e){case"hoursMonday":return void(this.getTimesheetRowHours(t).hoursMonday=r);case"hoursTuesday":return void(this.getTimesheetRowHours(t).hoursTuesday=r);case"hoursWednesday":return void(this.getTimesheetRowHours(t).hoursWednesday=r);case"hoursThursday":return void(this.getTimesheetRowHours(t).hoursThursday=r);case"hoursFriday":return void(this.getTimesheetRowHours(t).hoursFriday=r);case"hoursSaturday":return void(this.getTimesheetRowHours(t).hoursSaturday=r);case"hoursSunday":return void(this.getTimesheetRowHours(t).hoursSunday=r);default:this.getTimesheetRowHours(t).hoursSunday=r}},fetchData:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("fetchTimesheets",{replace:t||!1,projectId:this.project.id,startDate:sessionStorage.getItem("selectedStartDate"),endDate:sessionStorage.getItem("selectedEndDate")}).then((function(){var e=r.initTimesheetRows();r.timesheetRows=e}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getTimesheets:function(){var e=this,t=this.$store.state.timesheets||[],r=this.$props.selectedRfxData&&this.$props.selectedRfxData.id?this.$props.selectedRfxData.id:void 0;return t instanceof Array&&(t=t.filter((function(t){return(t.project&&t.project.id)===e.project.id&&(t.projectRfx&&t.projectRfx.id)===r})),t="function"===typeof this.filter?t.filter(this.filter):t),t},initTimesheetRows:function(){var e=this,t=this.getTimesheets(),r=new $s["a"];return t.forEach((function(t){var a=e.initTimesheetRowHours(t.timesheetEntries),n={hours:a.rowHours,rowData:a.rowData,userId:t.userId?t.userId:t.createdUserId,rfxPhaseId:t.rfxPhase?t.rfxPhase.id:null};r.set(t.id,n)})),r},initTimesheetRowHours:function(e){var t={hoursMonday:0,hoursTuesday:0,hoursWednesday:0,hoursThursday:0,hoursFriday:0,hoursSaturday:0,hoursSunday:0},r=Object.keys(t),a=Tr()({},t),n=Tr()({},t);return e instanceof Array&&e.forEach((function(e){var t=c()(e.entryDate),s=t.get("day");s=0===s?6:--s,a[r[s]]=e.hoursBilled,n[r[s]]={comments:e.comments,id:e.id,projectId:e.projectId,projectRfxId:e.projectRfxId,rfxPhaseId:e.rfxPhaseId}})),{rowHours:a,rowData:n}},getTimesheetRowHours:function(e){var t={hoursMonday:0,hoursTuesday:0,hoursWednesday:0,hoursThursday:0,hoursFriday:0,hoursSaturday:0,hoursSunday:0};if(this.timesheetRows instanceof $s["a"]){var r=this.timesheetRows.get(e)||void 0;if(r&&r.hours)return r.hours}return t},getTimesheetRow:function(e){var t={};return this.timesheetRows instanceof $s["a"]&&(t=this.timesheetRows.get(e)||t),t},calcTimesheetRowTotals:function(e){var t=0;return void 0!==e&&null!==e&&Object.values(e)instanceof Array&&(t=Object.values(e).reduce((function(e,t){var r;return r=t?e+parseFloat(t):e,r}),0)),t},calcTimesheetTotals:function(){var e={hoursMonday:0,hoursTuesday:0,hoursWednesday:0,hoursThursday:0,hoursFriday:0,hoursSaturday:0,hoursSunday:0},t=0,r=this.timesheetRows,a=Object.keys(e);return r.each((function(n){a.forEach((function(a){var s=r.get(n).hours;e[a]+=parseFloat(parseFloat(s[a]||0).toFixed(2)),t+=parseFloat(s[a]||0)}))})),t=parseFloat(t.toFixed(2)),{dailyHours:e,totalHours:t}},createTimesheet:function(e,t,r,a){var n=this,s=t.rfxType,i=t.rfxPhase,o=sessionStorage.getItem("selectedStartDate"),c=sessionStorage.getItem("selectedEndDate"),l={project:e,projectRfx:t,rfxPhase:i,rfxType:s,startDate:o,endDate:c,isBillable:a};this.$store.dispatch("addTimesheet",l).then((function(){var e=n.initTimesheetRows();n.timesheetRows=e}),(function(e){e&&e.data&&e.data.entityValidationErrors?e.data.entityValidationErrors.length>1?n.handleMultipleErrors(e.data.entityValidationErrors):n.$refs.snackbar.displaySnackbar("error",e.data.entityValidationErrors[0].message):n.$refs.snackbar.displaySnackbar("error","Timesheet adding failed")}))},handleMultipleErrors:function(e){this.$refs.snackbar.displayMultipleErrorSnackbar("error",e)},saveTimesheet:function(e){var t=this.timesheetUpdatePayload(e);this.updateTimesheet(t)},deleteTimesheet:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure you want to delete this entry?");case 2:if(!e.sent){e.next=4;break}this.$store.dispatch("deleteTimesheet",{id:t.id}).then((function(){r.selectedRowId=null;var e=r.initTimesheetRows();r.timesheetRows=e,r.$refs.snackbar.displaySnackbar("success","Time log entry deleted")}),(function(e){e&&e.data&&e.data.error&&e.data.error.message?r.$refs.snackbar.displaySnackbar("error",e.data.error.message):r.$refs.snackbar.displaySnackbar("error","Timesheet deletion failed")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),timesheetUpdatePayload:function(e){var t=Ts()({},e,{userId:null,isBillable:null});t.entries=[];var r=this.timesheetRows.get(e.id).hours,a=this.timesheetRows.get(e.id).userId,n=this.timesheetRows.get(e.id),s=n.rowData,i=Object.keys(r);return i.forEach((function(e,n){var i=c()(sessionStorage.getItem("selectedStartDate")),o=i.day(n+1),l=r[e]||0,u=As.constructFromObject({id:s[e].id,userId:a,hoursBilled:parseFloat(l),startTime:null,endTime:null,entryDate:o.format("YYYY-MM-DD"),comments:s?s[e].comments:""});t.entries.push(u)})),t.isBillable=e.isBillable,t.userId=a,t.rfxPhase.id=this.getTimesheetRow(e.id).rfxPhaseId,t},updateTimesheet:function(e){var t=this;e&&e.userId?(delete e.timesheetEntries,this.$store.dispatch("updateTimesheet",{id:e.id,payload:e}).then((function(){var e=t.initTimesheetRows();t.timesheetRows=e,t.$refs.snackbar.displaySnackbar("success","Time log entry saved successfully"),t.selectedRowId=null}),(function(e){e&&e.data&&e.data.entityValidationErrors?e.data.entityValidationErrors.length>1?t.handleMultipleErrors(e.data.entityValidationErrors):t.$refs.snackbar.displaySnackbar("error",e.data.entityValidationErrors[0].message):t.$refs.snackbar.displaySnackbar("error","Timesheet update failed")}))):this.$refs.snackbar.displaySnackbar("warning","Please select the user!")},showComments:function(e){var t=this.timesheetUpdatePayload(e);this.$refs.commentsDrawer.openComments(t,this.updateTimesheet)},closeTimesheetDetails:function(){this.dialog=!1},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},date2Digit:function(e){return"0".concat(e.get("date")).slice(-2)}},created:function(){this.fetchData()}},ti=ei,ri=(r("8d77"),r("8e36")),ai=Object(y["a"])(ti,Ps,Rs,!1,null,null,null),ni=ai.exports;j()(ai,{VBtn:k["a"],VDataTable:hr["a"],VIcon:_["a"],VProgressLinear:ri["a"],VSelect:Ke["a"],VTextField:Ze["a"]});var si={components:{TimesheetEntriesTable:ni},props:{title:String,selectedRfxData:Object,project:Object},data:function(){return{selected:[],dialog:!1,headers:[{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!0},{text:"Budget Remaining",value:"budgetRemaining",sortable:!0},{text:"Project Deadline",value:"projectDeadline",sortable:!0},{text:"Action",value:"action",align:"right",sortable:!1}],expand:!1,rfxExpand:!1,rfxHeaders:[{text:"RFx Type",value:"rfxType"}],phaseHeaders:[{text:"Phase Name",value:"phaseName"},{text:"User",value:"user"},{text:"Hours",value:"hours"},{text:"M",value:"hoursMonday"},{text:"T",value:"hoursTuesday"},{text:"W",value:"hoursWednesday"},{text:"Th",value:"hoursThursday"},{text:"F",value:"hoursFriday"},{text:"S",value:"hoursSaturday"},{text:"Su",value:"hoursSunday"},{text:"Actions",value:"action",align:"right",sortable:!1}]}},computed:{projects:function(){return this.$store.state.projects},projectsRfx:function(){return this.$store.state.projectsRfx},projectRfx:function(){return this.getProjectRfx(this.project.id)},displayNonBillableRecords:function(){return this.hasNonBillableTimesheets()}},methods:{showNonBillableRecords:function(){this.displayNonBillableRecords=!0},filterBillableRecords:function(e){return!1!==e.isBillable},filterNonBillableRecords:function(e){return!1===e.isBillable},fetchData:function(){this.$store.dispatch("fetchProjects")},fetchProjectRfx:function(e){this.$store.dispatch("fetchProjectRfx",{id:e.id})},getRfxType:function(e){var t=this.$store.state.rfxTypes.filter((function(t){return t.id===e}));return t[0]},getRfxTypeName:function(e){var t=this.getRfxType(e);return t.rfxTypeName},getProjectRfx:function(e){var t=this.projectsRfx||void 0;if(void 0!==t)return this.projectsRfx.get(e)},getTimesheets:function(){var e=this,t=this.$store.state.timesheets||[];return t instanceof Array&&(t=t.filter((function(t){return t.project.id===e.project.id})),t="function"===typeof this.filter?t.filter(this.filter):t),t},hasNonBillableTimesheets:function(){var e=this,t=this.$store.state.timesheets||[];return t instanceof Array&&(t=t.filter((function(t){return t.project.id===e.project.id&&!1===t.isBillable}))),t.length>0}},created:function(){this.fetchData()}},ii=si,oi=(r("ee13"),Object(y["a"])(ii,Os,_s,!1,null,null,null)),ci=oi.exports;j()(oi,{VFlex:re["a"],VLayout:P["a"]});var li={components:{TimesheetExpansionRow:ci},props:{title:String,project:Object},data:function(){return{selected:[],dialog:!1,expand:!1,rfxExpand:!1,rfxHeaders:[{text:"RFx Type",value:"rfxType"}]}},computed:{projectRfx:function(){return this.$store.state.projectsRfx?this.$store.state.projectsRfx.get(this.project.id):[]}},watch:{projectsRfx:function(){this.$forceUpdate()}},methods:{getProjectRfx:function(e){return this.projectsRfx.get(e)},getRfxType:function(e){var t=this.$store.state.rfxTypes.filter((function(t){return t.id===e}));return t[0]},getRfxTypeName:function(e){return e&&e.rfxType&&e.rfxType.rfxTypeName?e.rfxType.rfxTypeName:""}}},ui=li,di=(r("78bf"),Object(y["a"])(ui,ws,Cs,!1,null,null,null)),fi=di.exports;j()(di,{VCard:J["a"],VDataTable:hr["a"]});var mi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[r("v-flex",{attrs:{"d-flex":"","justify-center":"","align-start":""}},[r("v-flex",{attrs:{md12:""}},[r("v-radio-group",{attrs:{row:""},model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}},[r("v-radio",{attrs:{label:"My Timesheets",value:"Mine"}}),r("v-radio",{attrs:{label:"Everyone's Timesheets",value:"All"}})],1)],1)],1),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("add-time-record",{ref:"AddTimeRecord",on:{"close-timesheet":e.closeTimesheet}}),r("v-btn",{staticClass:"add-timesheet-button",attrs:{color:"btnPrimary",dark:""},on:{click:e.newTimeRecord}},[e._v("+ Add Time Record")])],1)],1)},pi=[],vi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-top":-15,"nudge-right":0,lazy:"",transition:"scale-transition","offset-y":"","full-width":"",left:"","min-width":"285px","max-width":"285px"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-layout",{staticStyle:{width:"100%"},attrs:{column:""}},[r("v-flex",{attrs:{my1:"","justify-center":""}},[r("div",{staticClass:"date-picker-container"},[r("v-btn-toggle",{staticClass:"v-btn-toggle--selected",staticStyle:{flex:"0 0 auto !important"}},[r("v-btn",{attrs:{flat:""},on:{click:e.setPreviousTimesheetsWeek}},[r("v-icon",[e._v("arrow_left")])],1),r("v-btn",{attrs:{flat:""},on:{click:e.toggleDatePicker}},[r("span",{staticStyle:{"padding-left":"1rem","padding-right":"1rem"}},[e._v(e._s(e.calendarText))])]),r("v-btn",{attrs:{flat:""},on:{click:e.setNextTimesheetsWeek}},[r("v-icon",[e._v("arrow_right")])],1)],1)],1),r("div",{class:"date-picker-container date-picker-wrapper "+e.getDatePickerClass()},[r("v-date-picker",{staticClass:"timesheets-date-picker",attrs:{"first-day-of-week":"1"},on:{input:e.setTimesheetsWeek},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)])],1)]}}])})},hi=[];function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xi={props:{title:String,addTimeRecord:Function},data:function(){return{calendarText:this.getCalendarText(),selectedDate:c()().format("YYYY-MM-DD"),showDatePicker:!1}},watch:{timesheetsWeek:{handler:function(){this.setCalendarText()}}},computed:yi({},Object(Ss["b"])(["timesheetsWeek"])),methods:{getCalendarText:function(){var e=[];e[0]="Jan",e[1]="Feb",e[2]="Mar",e[3]="Apr",e[4]="May",e[5]="Jun",e[6]="Jul",e[7]="Aug",e[8]="Sep",e[9]="Oct",e[10]="Nov",e[11]="Dec";var t=c()(sessionStorage.getItem("selectedStartDate")),r=c()(sessionStorage.getItem("selectedEndDate"));return t||r?"".concat(e[t.get("month")]," ").concat(t.get("date")," - ").concat(e[r.get("month")]," ").concat(r.get("date")):"Change Week"},setCalendarText:function(){this.calendarText=this.getCalendarText()},setPreviousTimesheetsWeek:function(){var e=c()(sessionStorage.getItem("selectedStartDate")).subtract(7,"days"),t=c()(sessionStorage.getItem("selectedEndDate")).subtract(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",e.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",t.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:e.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD")}),this.$emit("next",c()(sessionStorage.getItem("selectedStartDate")).subtract(14,"days"))},setNextTimesheetsWeek:function(){var e=c()(sessionStorage.getItem("selectedStartDate")).add(7,"days"),t=c()(sessionStorage.getItem("selectedEndDate")).add(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",e.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",t.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:e.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD")}),this.$emit("next",c()(sessionStorage.getItem("selectedStartDate")).add(14,"days"))},setTimesheetsWeek:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c()(e).day(1),a=c()(e).day(7);sessionStorage.setItem("selectedStartDate",r.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",a.format("YYYY-MM-DD")),t&&this.toggleDatePicker(),this.$store.dispatch("setTimesheetsWeek",{startDate:r.format("YYYY-MM-DD"),endDate:a.format("YYYY-MM-DD")})},toggleDatePicker:function(){this.showDatePicker=!this.showDatePicker},hideDatePicker:function(){this.showDatePicker=!1},getDatePickerClass:function(){return this.showDatePicker?"date-picker-active":""}},created:function(){this.setTimesheetsWeek(c()().format("YYYY-MM-DD"),!1)}},ji=xi,gi=(r("014b7"),r("a609")),ki=Object(y["a"])(ji,vi,hi,!1,null,null,null),wi=ki.exports;j()(ki,{VBtn:k["a"],VBtnToggle:gi["a"],VDatePicker:Qe["a"],VFlex:re["a"],VIcon:_["a"],VLayout:P["a"],VMenu:Ge["a"]});var Ci=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{attrs:{id:"AddTimeRecord","content-class":"add-time-record"},on:{input:function(t){return e.closeDialog(!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"AddimeRecords",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{md4:""}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Add Time Record")])])],1),r("v-flex",{attrs:{md8:""}},[r("v-flex",{staticClass:"d-flex cardheadlabel1"},[r("v-flex",{staticClass:"haederinfo",attrs:{md7:""}},[e._v("Information being entered by:")]),r("v-flex",{attrs:{md4:""}},[r("v-select",{staticClass:"currentuser",attrs:{rules:e.requiredRule,items:e.userList,"item-value":"id","item-text":"contact.fullName",disabled:e.editMode,label:"User","validate-on-blur":""},on:{input:function(t){return e.onChangeUser(e.form.userId)}},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1)],1),r("v-flex",{staticClass:"d-flex cardheadlabel2"},[r("v-flex",{attrs:{md4:""}},[e.form.project&&"weekly"===e.activeTab?r("v-flex",[r("b",[e._v("MOU amount:")]),e._v("\n                    $"+e._s(e.mouAmount)+"\n                  ")]):e._e()],1),r("v-flex",{attrs:{md4:""}},[r("b",[e._v("Currently Billed:")]),e._v(" $0 ")]),r("v-flex",{attrs:{md4:""}},[r("b",[e._v("Legal Billed Amount:")]),e._v(" $0 ")])],1)],1)],1),r("v-divider",{staticClass:"header-divider"}),r("v-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[r("v-tab",{attrs:{href:"#batch"},on:{click:function(t){return e.onBatchEntry()}}},[e._v("Batch Entry")]),r("v-tab",{attrs:{href:"#weekly"},on:{click:function(t){return e.onWeekEntry()}}},[e._v("Weekly Entry")]),r("v-tab-item",{attrs:{value:"batch"}},[r("v-flex",[r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],attrs:{md6:""}},[r("timesheets-calendar",{ref:"TimeCalenderBatch",on:{next:e.onChangeWeek}})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{attrs:{row:""},model:{value:e.recordType,callback:function(t){e.recordType=t},expression:"recordType"}},[r("v-radio",{attrs:{label:"Hours",value:1}}),r("v-radio",{attrs:{label:"Unbillable Hours",value:2}})],1)],1)],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:1===e.recordType,expression:"recordType === 1"}]},[r("batch-time-entry",{ref:"billableBatchEntry",attrs:{selectedItem:1,userId:e.form.userId,timesheet:e.timesheet,projectList:e.userMouProjects},on:{"add-row":e.addTimeSheetRow}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:2===e.recordType,expression:"recordType === 2"}]},[r("batch-time-entry",{ref:"nonBillableBatchEntry",attrs:{selectedItem:2,userId:e.form.userId,timesheet:e.timesheet,projectList:e.userMouProjects},on:{"add-row":e.addTimeSheetRow}})],1)],1)],1),r("v-tab-item",{attrs:{value:"weekly"}},["weekly"===e.activeTab?r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{rules:e.requiredRule,items:e.mouList,"item-text":"name","item-value":"id",label:"MOU",disabled:e.editMode,"validate-on-blur":""},on:{input:function(t){return e.onChangeMou()}},model:{value:e.form.mou,callback:function(t){e.$set(e.form,"mou",t)},expression:"form.mou"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:e.projectList,rules:e.requiredRule,"item-text":"projectName","item-value":"id",label:"Project Name",disabled:e.editMode,"validate-on-blur":""},on:{input:function(t){return e.onChangeProjectWeeklyEntry()}},model:{value:e.form.project,callback:function(t){e.$set(e.form,"project",t)},expression:"form.project"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:e.projectRfx,"item-text":"rfxName","item-value":"id",label:"Project Rfx"},on:{input:function(t){return e.onChangeProjectRfx()}},model:{value:e.form.rfx,callback:function(t){e.$set(e.form,"rfx",t)},expression:"form.rfx"}})],1)],1):e._e(),r("v-flex",[r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],attrs:{md6:""}},[r("timesheets-calendar",{ref:"TimeCalenderWeekly",on:{next:e.onChangeWeek}})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{attrs:{row:""},model:{value:e.recordTypeWeekly,callback:function(t){e.recordTypeWeekly=t},expression:"recordTypeWeekly"}},[r("v-radio",{attrs:{label:"Hours",value:1}}),r("v-radio",{attrs:{label:"Expenses",value:2}}),r("v-radio",{attrs:{label:"Revenue",value:3}}),r("v-radio",{attrs:{label:"Unbillable Hours",value:4}})],1)],1)],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:1===e.recordTypeWeekly,expression:"recordTypeWeekly === 1"}]},[r("timesheet-entry",{ref:"Billable",attrs:{timesheet:e.computeTimesheet,selectedItem:1,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:2===e.recordTypeWeekly,expression:"recordTypeWeekly === 2"}]},[r("expense-entry",{ref:"AddExpense",attrs:{timesheet:e.computeTimesheet,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:3===e.recordTypeWeekly,expression:"recordTypeWeekly === 3"}]},[r("revenue-entry",{ref:"AddRevenue",attrs:{timesheet:e.computeTimesheet,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:4===e.recordTypeWeekly,expression:"recordTypeWeekly === 4"}]},[r("timesheet-entry",{ref:"NonBillable",attrs:{timesheet:e.computeTimesheet,selectedItem:4,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1)],1)],1)],1)],1),r("v-divider",{staticClass:"header-divider"}),r("v-card-actions",[r("v-btn",{staticClass:"btn-discard",attrs:{ripple:!1},on:{click:function(t){return e.closeDialog(!1)}}},[e._v("DISCARD TIMESHEET")]),r("v-flex",{staticClass:"add-btns"},[r("v-btn",{staticClass:"btn-normal",on:{click:function(t){return e.expotTimesheet()}}},[e._v("EXPORT TIMESHEET")]),r("v-btn",{staticClass:"add-new-row",attrs:{color:"primary"},on:{click:function(t){return e.save()}}},[e._v("SUBMIT")])],1)],1)],1)],1)],1)],1)},Oi=[],_i=r("619d"),Pi=(r("e3dbf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"add-expense",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[e._v("Day")]),r("v-flex",{attrs:{md2:""}},[e._v("Amount")]),r("v-flex",{attrs:{md3:""}},[e._v("Category")]),r("v-flex",{attrs:{md4:""}},[e._v("Description")]),r("v-flex",{attrs:{md2:""}})],1),e._l(e.timesheet[e.projectIndex].entries,(function(t,a){return r("v-layout",{key:t.entryDate,staticClass:"expense-records"},[r("v-flex",{attrs:{md1:""}},[e._v(e._s(e.days[a]))]),r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{rules:e.amountRule,"prepend-inner-icon":"attach_money",oninput:"validity.valid||(value='');",value:e._f("withCommas")(t.expenseAmount)},on:{blur:function(e){return t.expenseAmount=parseFloat(e.target.value)}}})],1),r("v-flex",{attrs:{md3:""}},[r("v-select",{attrs:{items:e.categoryOptions,"item-text":"category","item-value":"category"},model:{value:t.expenseCategory,callback:function(r){e.$set(t,"expenseCategory",r)},expression:"item.expenseCategory"}})],1),r("v-flex",{attrs:{md4:""}},[r("v-text-field",{model:{value:t.expenseComment,callback:function(r){e.$set(t,"expenseComment",r)},expression:"item.expenseComment"}})],1),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:""},on:{click:function(r){return e.copyfunc(t.expenseAmount,t.expenseComment,t.expenseCategory)}}},n),[r("v-icon",[e._v("file_copy")])],1)]}}],null,!0)},[r("span",[e._v("Copy")])]),r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:""},on:{click:function(t){return e.pastefunc(a)}}},n),[r("v-icon",[e._v("post_add")])],1)]}}],null,!0)},[r("span",[e._v("Paste")])])],1)],1)}))],2)],1)],1)}),Ri=[],Ii=(r("4df0"),{computed:{},components:{},data:function(){return{categoryOptions:[{category:"Fees"},{category:"Transporation"},{category:"Other"}],valid:!0,dialog:!1,amountRule:[function(e){if(!e)return!0;var t=e.toString().match(/[^\d,]+/g,"");return!t||"Field must just be a number."}]}},watch:{project:function(e){this.$store.dispatch("fetchProjectRfx",{id:e})}},props:{singleRow:Boolean,timesheet:Array,days:Array,projectIndex:Number},methods:{validate:function(){return this.$refs.form.validate()},copyfunc:function(e,t,r){this.expenseAmount=e,this.expenseComment=t,this.expenseCategory=r},pastefunc:function(e){this.timesheet[this.projectIndex].entries[e].expenseAmount=this.expenseAmount,this.timesheet[this.projectIndex].entries[e].expenseComment=this.expenseComment,this.timesheet[this.projectIndex].entries[e].expenseCategory=this.expenseCategory}}}),Ti=Ii,Si=Object(y["a"])(Ti,Pi,Ri,!1,null,null,null),$i=Si.exports;j()(Si,{VBtn:k["a"],VContainer:w["a"],VFlex:re["a"],VForm:Je["a"],VIcon:_["a"],VLayout:P["a"],VSelect:Ke["a"],VTextField:Ze["a"],VTooltip:Un["a"]});var Di=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"add-revenue",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[e._v("Day")]),r("v-flex",{attrs:{md2:""}},[e._v("Amount")]),r("v-flex",{attrs:{md7:""}},[e._v("Description")]),r("v-flex",{attrs:{md2:""}})],1),e._l(e.timesheet[e.projectIndex].entries,(function(t,a){return r("v-layout",{key:t.entryDate,staticClass:"revenue-records"},[r("v-flex",{attrs:{md1:""}},[e._v(e._s(e.days[a]))]),r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{rules:e.amountRule,"prepend-inner-icon":"attach_money",oninput:"validity.valid||(value='');",value:e._f("withCommas")(t.revenueAmount)},on:{blur:function(e){return t.revenueAmount=parseFloat(e.target.value)}}})],1),r("v-flex",{attrs:{md7:""}},[r("v-text-field",{model:{value:t.revenueComment,callback:function(r){e.$set(t,"revenueComment",r)},expression:"item.revenueComment"}})],1),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:""},on:{click:function(r){return e.copyfunc(t.revenueAmount,t.revenueComment)}}},n),[r("v-icon",[e._v("file_copy")])],1)]}}],null,!0)},[r("span",[e._v("Copy")])]),r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:""},on:{click:function(t){return e.pastefunc(a)}}},n),[r("v-icon",[e._v("post_add")])],1)]}}],null,!0)},[r("span",[e._v("Paste")])])],1)],1)}))],2)],1)],1)},Ni=[],Ei=(r("2b62"),{computed:{},components:{},data:function(){return{valid:!0,amountRule:[function(e){if(!e)return!0;var t=e.toString().match(/[^\d,]+/g,"");return!t||"Field must just be a number."}]}},watch:{},props:{singleRow:Boolean,timesheet:Array,days:Array,projectIndex:Number},methods:{validate:function(){return this.$refs.form.validate()},copyfunc:function(e,t){this.revenueAmount=e,this.revenueComment=t},pastefunc:function(e){this.timesheet[this.projectIndex].entries[e].revenueAmount=this.revenueAmount,this.timesheet[this.projectIndex].entries[e].revenueComment=this.revenueComment}}}),Vi=Ei,Bi=Object(y["a"])(Vi,Di,Ni,!1,null,null,null),Ai=Bi.exports;j()(Bi,{VBtn:k["a"],VContainer:w["a"],VFlex:re["a"],VForm:Je["a"],VIcon:_["a"],VLayout:P["a"],VTextField:Ze["a"],VTooltip:Un["a"]});var Li=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"timesheet-entry",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[e._v("Day")]),r("v-flex",{attrs:{md2:""}},[e._v("Hours")]),r("v-flex",{attrs:{md8:""}},[e._v("Description")]),r("v-flex",{attrs:{md1:""}})],1),e._l(e.timesheet[e.projectIndex].entries,(function(t,a){return r("v-layout",{key:t.entryDate,staticClass:"time-records"},[r("v-flex",{attrs:{md1:""}},[e._v(e._s(e.days[a]))]),1==e.selectedItem?r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{type:"number",max:"24",step:"0.01",min:"0",rules:e.hoursRule,oninput:"validity.valid||(value=0);"},model:{value:t.hoursBillable,callback:function(r){e.$set(t,"hoursBillable",r)},expression:"item.hoursBillable"}})],1):r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{type:"number",max:"24",step:"0.01",min:"0",rules:e.hoursRule,oninput:"validity.valid||(value=0);"},model:{value:t.hoursUnBillable,callback:function(r){e.$set(t,"hoursUnBillable",r)},expression:"item.hoursUnBillable"}})],1),1==e.selectedItem?r("v-flex",{attrs:{md8:""}},[r("v-text-field",{model:{value:t.commentsBillable,callback:function(r){e.$set(t,"commentsBillable",r)},expression:"item.commentsBillable"}})],1):r("v-flex",{attrs:{md8:""}},[r("v-text-field",{model:{value:t.commentsUnBillable,callback:function(r){e.$set(t,"commentsUnBillable",r)},expression:"item.commentsUnBillable"}})],1),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:""},on:{click:function(r){return e.copyfunc(t)}}},n),[r("v-icon",[e._v("file_copy")])],1)]}}],null,!0)},[r("span",[e._v("Copy")])]),r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:""},on:{click:function(t){return e.pastefunc(a)}}},n),[r("v-icon",[e._v("post_add")])],1)]}}],null,!0)},[r("span",[e._v("Paste")])])],1)],1)}))],2)],1)],1)},Mi=[],Fi=(r("d74a"),{computed:{},components:{},data:function(){return{valid:!0,hoursRule:[function(e){return e%.25===0||"Please enter in quarter hours (0.25 = 15min)"}]}},watch:{},props:{timesheet:Array,selectedItem:Number,days:Array,projectIndex:Number},created:function(){},methods:{validate:function(){return this.$refs.form.validate()},stringToDate:function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])},copyfunc:function(e){this.itemHours=1===this.selectedItem?e.hoursBillable:e.hoursUnBillable,this.itemDescription=1===this.selectedItem?e.commentsBillable:e.commentsUnBillable},pastefunc:function(e){1===this.selectedItem?(this.timesheet[this.projectIndex].entries[e].hoursBillable=this.itemHours,this.timesheet[this.projectIndex].entries[e].commentsBillable=this.itemDescription):(this.timesheet[this.projectIndex].entries[e].hoursUnBillable=this.itemHours,this.timesheet[this.projectIndex].entries[e].commentsUnBillable=this.itemDescription)}}}),Ui=Fi,qi=Object(y["a"])(Ui,Li,Mi,!1,null,null,null),Hi=qi.exports;j()(qi,{VBtn:k["a"],VContainer:w["a"],VFlex:re["a"],VForm:Je["a"],VIcon:_["a"],VLayout:P["a"],VTextField:Ze["a"],VTooltip:Un["a"]});var Wi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),r("add-batch-comment",{ref:"addComment",attrs:{comment:e.itemComment},on:{savecomment:e.savecomment}}),r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable batch-entry",attrs:{headers:e.headers,items:e.timesheet,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[t.item.deleted?e._e():[r("td",[r("v-select",{attrs:{items:e.userProjects,"item-value":"id","item-text":"projectName",disabled:e.editMode,label:"Project Name"},on:{change:function(r){return e.onChangeProjectBatchEntry(t.index,t.item,t.item.project)}},nativeOn:{click:function(r){return e.getProject(t.item.project)}},model:{value:t.item.project,callback:function(r){e.$set(t.item,"project",r)},expression:"props.item.project"}})],1),e._l(5,(function(a){return r("td",{key:a},[1==e.selectedItem?r("v-flex",{staticStyle:{float:"left"}},[r("v-text-field",{staticStyle:{float:"left",width:"50px"},attrs:{type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:t.item.entries[a-1].hoursBillable,callback:function(r){e.$set(t.item.entries[a-1],"hoursBillable",r)},expression:"props.item.entries[index - 1].hoursBillable"}}),t.item.entries[a-1].commentsBillable?e._e():r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsBillable,a-1,t.index,"billable")}}},s),[r("v-icon",[e._v("note_add")])],1)]}}],null,!0)},[r("span",[e._v("add comment")])]),t.item.entries[a-1].commentsBillable?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsBillable,a-1,t.index,"billable")}}},s),[r("v-icon",[e._v("create")])],1)]}}],null,!0)},[r("span",[e._v("edit comment")])]):e._e()],1):r("v-flex",{staticStyle:{float:"left"}},[r("v-text-field",{staticStyle:{float:"left",width:"50px"},attrs:{type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:t.item.entries[a-1].hoursUnBillable,callback:function(r){e.$set(t.item.entries[a-1],"hoursUnBillable",r)},expression:"props.item.entries[index - 1].hoursUnBillable"}}),t.item.entries[a-1].commentsUnBillable?e._e():r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsUnBillable,a-1,t.index,"unbillable")}}},s),[r("v-icon",[e._v("note_add")])],1)]}}],null,!0)},[r("span",[e._v("add comment")])]),t.item.entries[a-1].commentsUnBillable?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsUnBillable,a-1,t.index,"unbillable")}}},s),[r("v-icon",[e._v("create")])],1)]}}],null,!0)},[r("span",[e._v("edit comment")])]):e._e()],1)],1)}))]]}}])})],1),e.editMode?e._e():r("v-flex",[r("v-btn",{staticClass:"btn-normal",on:{click:e.addRow}},[e._v("ADD ANOTHER ENTRY")])],1)],1)},Yi=[],zi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"newNote","max-width":"40%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"newBatchComment",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card",{staticStyle:{width:"100%"}},[r("br"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}}),r("v-flex",{staticClass:"headline",attrs:{md10:""}},[e._v(" Add a Description")]),r("v-flex",{attrs:{md1:""}})],1),r("br"),r("v-divider"),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}}),r("v-flex",{attrs:{md10:""}},[e._v(" "+e._s(e.description))]),r("v-flex",{attrs:{md1:""}})],1),r("br"),r("br"),r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{name:"project-description",label:"Please input your description"},model:{value:e.batchComment,callback:function(t){e.batchComment=t},expression:"batchComment"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:function(t){return e.saveComment()}}},[e._v("SUBMIT AND CLOSE")]),r("br"),r("br"),r("br"),r("br")],1)],1)],1)],1)],1)],1)],1)],1)},Qi=[],Ji={computed:{},components:{},data:function(){return this.initData()},watch:{},props:{comment:String},methods:{saveComment:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("savecomment",this.batchComment,this.index,this.sheetIndex,this.type),this.closeDialog();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),open:function(e,t,r,a,n){this.description=n,this.type=a,this.sheetIndex=r,this.index=t,this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0]&&(document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0)}),400),this.batchComment=e},closeDialog:function(){this.dialog=!1},initData:function(){return{description:"",flag:void 0,valid:!0,dialog:!1,batchComment:"",index:"",type:"",sheetIndex:""}}}},Gi=Ji,Ki=(r("56d1"),Object(y["a"])(Gi,zi,Qi,!1,null,"5e652485",null)),Zi=Ki.exports;j()(Ki,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VDialog:K["a"],VDivider:O["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VTextField:Ze["a"]});var Xi={components:{Snackbar:Ee,Confirm:X,AddBatchComment:Zi},computed:{userProjects:function(){return this.projectList}},data:function(){return{previousSelection:"",hoursRule:[function(e){return e%.25===0||"Please enter in quarter hours (0.25 = 15min)"}],valid:!0,editMode:!1,itemComment:"",headers:[{text:"Project"},{text:"Mon",sortable:!1,value:1===this.$props.selectedItem?"item.entries[0].hoursBillable":"item.entries[0].hoursUnBillable"},{text:"Tue",sortable:!1,value:1===this.$props.selectedItem?"item.entries[1].hoursBillable":"item.entries[1].hoursUnBillable"},{text:"Wed",sortable:!1,value:1===this.$props.selectedItem?"item.entries[2].hoursBillable":"item.entries[2].hoursUnBillable"},{text:"Thu",sortable:!1,value:1===this.$props.selectedItem?"item.entries[3].hoursBillable":"item.entries[3].hoursUnBillable"},{text:"Fri",sortable:!1,value:1===this.$props.selectedItem?"item.entries[4].hoursBillable":"item.entries[4].hoursUnBillable"}]}},props:{selectedItem:Number,timesheet:Array,projectList:Array},watch:{},methods:{addcomment:function(e,t,r,a){var n=this;this.itemComment=e;var s=this.projectList.find((function(e){return e.id===n.$props.timesheet[r].project})),i=this.$props.timesheet[r].entries[t].entryDate,o="";o=s?"Date: ".concat(i,"        Project: ").concat(s.projectName):"Date: ".concat(i),this.$refs.addComment.open(e,t,r,a,o)},savecomment:function(e,t,r,a){"billable"===a?this.$props.timesheet[r].entries[t].commentsBillable=e:this.$props.timesheet[r].entries[t].commentsUnBillable=e},getProject:function(e){this.previousSelection=void 0===e?"":e},onChangeProjectBatchEntry:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===this.previousSelection||void 0===r.id||""===r.id){e.next=7;break}return e.next=3,this.$refs.confirm.open("info","Are you sure to change project?");case 3:if(e.sent){e.next=7;break}return a=this.previousSelection,this.timesheet.length>1&&(r.deleted=!0),e.abrupt("return");case 7:n=this.timesheet.filter((function(e){return e.project&&e.project===a&&!r.deleted})),n.length>1&&(this.$refs.snackbar.displaySnackbar("info","This project is already added"),this.timesheet.length-1===t?(r.project=void 0,this.timesheet.length>1&&(r.deleted=!0)):(a=this.previousSelection,this.timesheet.length>1&&(r.deleted=!0))),s=this.projectList.find((function(e){return e.id===a})),s&&(r.mou=s.mou.id,r.projectRfx=void 0);case 11:case"end":return e.stop()}}),e,this)})));function t(t,r,a){return e.apply(this,arguments)}return t}(),addRow:function(){this.$emit("add-row")}}},eo=Xi,to=Object(y["a"])(eo,Wi,Yi,!1,null,null,null),ro=to.exports;function ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}j()(to,{VBtn:k["a"],VDataTable:hr["a"],VFlex:re["a"],VIcon:_["a"],VLayout:P["a"],VSelect:Ke["a"],VTextField:Ze["a"],VTooltip:Un["a"]});var so={computed:{computeTimesheet:{get:function(){return void 0===this.form.project||""===this.form.project?(0===this.blankTimesheet.length&&this.addTimeSheetRow(!0),this.blankTimesheet):this.timesheet}},mouList:function(){return this.$store.state.mouList},userList:function(){return this.$store.state.users},timesheetEntryData:function(){return this.$store.state.timesheetEntryData},projectRfx:function(){return this.$store.state.activeProjectRfxData},mouAmount:function(){var e=this;if(!this.form||!this.form.mou||!this.form.project)return"";var t=this.userMouProjects.filter((function(t){return t.id===e.form.project}));return t[0]?t[0].mouAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},components:{Snackbar:Ee,Spinner:Ue,TimesheetsCalendar:wi,TimesheetEntry:Hi,BatchTimeEntry:ro,ExpenseEntry:$i,RevenueEntry:Ai},data:function(){return this.initData()},watch:{},props:{},created:function(){this.clearTimesheet()},methods:{fetchUser:function(){var e=this.$store.state.activeUser.refId,t=this.$store.state.users.find((function(t){return t.referenceId===e}));return t&&t.id?(this.userMouProjects=this.$store.state.allProjects.filter((function(e){return e.mou&&(e.backupUserId===t.id||e.leadUserId===t.id)})),t.id):""},initData:function(){var e=Object.assign({});return{weeklyProjectIndex:0,timesheetEntryDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],timesheet:[],blankTimesheet:[],userMouProjects:[],projectList:[],editMode:!1,activeTab:"weekly",recordType:1,recordTypeWeekly:1,valid:!0,requiredRule:[function(e){return!!e||"This field required"}],dialog:!1,form:no({},e)}},onChangeUser:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.clearTimesheet(),this.form.userId=e,this.userMouProjects=this.$store.state.allProjects.filter((function(e){return e.mou&&(e.backupUserId===t.form.userId||e.leadUserId===t.form.userId)})),r||this.getTimeSheets()},onChangeMou:function(){var e=this;"undefined"!==typeof this.form.mou&&"undefined"!==typeof this.form.userId&&this.form.mou&&this.form.userId?this.projectList=this.userMouProjects.filter((function(t){return t.mou&&(t.backupUserId===e.form.userId||t.leadUserId===e.form.userId)&&t.mou.id===e.form.mou})):this.projectList=[],this.form.project=void 0,this.$store.state.activeProjectRfxData=[],this.form.rfx=void 0},onBatchEntry:function(){this.timesheet.length>1&&(this.timesheet=this.timesheet.filter((function(e){return""!==e.project&&void 0!==e.project})),0===this.timesheet.length&&this.AddimeRecords())},onWeekEntry:function(){0!==this.weeklyProjectIndex&&this.timesheet[this.weeklyProjectIndex].deleted&&(this.weeklyProjectIndex=0)},selectWeeklyProject:function(e,t){for(var r=-1,a=0;a<this.timesheet.length;a++)this.timesheet[a].project!==e||this.timesheet[a].deleted||(r=a);-1===r?(this.timesheet=this.timesheet.filter((function(e){return""!==e.project&&void 0!==e.project})),this.addTimeSheetRow(),this.weeklyProjectIndex=this.timesheet.length-1):this.weeklyProjectIndex=r,this.timesheet[this.weeklyProjectIndex].project=e,this.timesheet[this.weeklyProjectIndex].mou=t,""!==e&&void 0!==e&&(this.$store.dispatch("fetchProjectRFxData",{id:e}),this.form.rfx=this.timesheet[this.weeklyProjectIndex].projectRfx)},onChangeProjectWeeklyEntry:function(){this.$store.state.activeProjectRfxData=[],this.form.rfx=void 0,this.selectWeeklyProject(this.form.project,this.form.mou),this.blankTimesheet=[],this.addTimeSheetRow(!0)},onChangeProjectRfx:function(){this.timesheet[this.weeklyProjectIndex].projectRfx=this.form.rfx},onChangeWeek:function(){this.getTimeSheets(!0)},getTimeSheets:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],this.clearTimesheet(t),this.form.userId){e.next=4;break}return e.abrupt("return");case 4:r=this.getDatePart(this.$store.state.timesheetsWeek.startDate),a={startDate:r,userId:this.form.userId},n=this,n.$store.dispatch("fetchTimesheetEntries",a).then((function(){var e=n.$store.state.timesheetEntryData;if(e&&e[0]&&e[0].timesheetEntries){n.timesheet=[];for(var t=0;t<e.length;t++){var r={};r.project=e[t].project.id,r.mou=e[t].mou.id,r.projectRfx=e[t].projectRfx?e[t].projectRfx.id:void 0,r.userId=e[t].userId,r.startDate=e[t].startDate,r.endDate=e[t].endDate,r.deleted=!1,r.id=e[t].id,r.entries=e[t].timesheetEntries,n.timesheet.push(r)}n.$refs.TimeCalenderWeekly.setCalendarText(),n.$refs.TimeCalenderBatch.setCalendarText(),n.$refs.billableBatchEntry.editMode=!1,n.$refs.nonBillableBatchEntry.editMode=!1,n.editMode=!1}}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),editTimeEntries:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this,r.$store.dispatch("fetchTimesheetById",{id:t}).then((function(){var e=r.$store.state.timesheetById;a.onChangeUser(e.userId,!0),r.timesheet[r.weeklyProjectIndex].entries=e.timesheetEntries,r.timesheet[r.weeklyProjectIndex].startDate=e.startDate,r.timesheet[r.weeklyProjectIndex].endDate=e.endDate,r.timesheet[r.weeklyProjectIndex].userId=e.userId,r.timesheet[r.weeklyProjectIndex].mou=e.mou.id,r.timesheet[r.weeklyProjectIndex].project=e.project.id,r.timesheet[r.weeklyProjectIndex].projectRfx=e.projectRfx?e.projectRfx.id:void 0,r.timesheet[r.weeklyProjectIndex].deleted=!1,r.$store.state.timesheetsWeek.startDate=r.timesheet[r.weeklyProjectIndex].startDate,r.$store.state.timesheetsWeek.endDate=r.timesheet[r.weeklyProjectIndex].endDate,r.$refs.TimeCalenderWeekly.setCalendarText(),r.$refs.TimeCalenderBatch.setCalendarText(),r.form.mou=r.timesheet[r.weeklyProjectIndex].mou,a.onChangeMou(),r.form.project=r.timesheet[r.weeklyProjectIndex].project,r.$store.dispatch("fetchProjectRFxData",{id:r.form.project}),r.form.rfx=r.timesheet[r.weeklyProjectIndex].projectRfx?r.timesheet[r.weeklyProjectIndex].projectRfx:void 0,r.activeTab="weekly",r.editMode=!0,r.$refs.billableBatchEntry.editMode=!0,r.$refs.nonBillableBatchEntry.editMode=!0,a.blankTimesheet=[],a.addTimeSheetRow(!0)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),open:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.initData(),this.$refs.AddimeRecords.resetValidation(),this.form.userId=this.fetchUser(),this.form.userId?this.onChangeUser(this.form.userId,e):this.clearTimesheet(),this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0]&&(document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0)}),400)},closeDialog:function(e){this.dialog=!1,this.$emit("close-timesheet",e)},save:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.AddimeRecords.validate()){e.next=11;break}if(this.$refs.Billable.validate()&&this.$refs.NonBillable.validate()&&this.$refs.AddRevenue.validate()&&this.$refs.AddExpense.validate()){e.next=4;break}return this.$refs.snackbar.displaySnackbarTop("error","Please correct validation errors."),e.abrupt("return");case 4:if("batch"!==this.activeTab){e.next=8;break}if(t=this.timesheet.filter((function(e){return""!==e.project&&void 0!==e.project})),0!==t.length){e.next=8;break}return e.abrupt("return");case 8:this.saveTimesheets(),e.next=12;break;case 11:this.$refs.snackbar.displaySnackbarTop("error","Please correct validation errors.");case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveTimesheets:function(){var e=this,t=this.timesheet.filter((function(e){return""!==e.project&&void 0!==e.project}));this.$refs.spinner.open(),this.$store.dispatch("addBatchTimesheet",t).then((function(){e.$refs.snackbar.displaySnackbar("success","Successfully saved time entries."),e.$refs.spinner.close(),e.closeDialog(!0)}),(function(t){if(e.$refs.spinner.close(),t&&t.response&&t.response.data){var r=t.response.data.error.message;e.$refs.snackbar.displaySnackbarTop("error",r)}else e.$refs.snackbar.displaySnackbarTop("error","Timesheet entry Error")}))},stringToDate:function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])},getDatePart:function(e){return"string"!==typeof e&&(e=e.format("YYYY-MM-DD")),e=this.stringToDate(e),this.getDateInYYYYMMDD(e)},getDateInYYYYMMDD:function(e){var t="".concat(e.getFullYear()),r="0".concat(e.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(e.getDate());return a=a.substr(a.length-2),"".concat(t,"-").concat(r,"-").concat(a)},clearTimesheet:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(this.form.mou=void 0,this.form.project=void 0,this.form.rfx=void 0),this.clearTimeEntries()},clearTimeEntries:function(){this.timesheet=[],this.addTimeSheetRow(),this.recordTypeWeekly=1,this.recordType=1,this.weeklyProjectIndex=0},addTimeSheetRow:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Date;if(this.$store.state.timesheetsWeek&&this.$store.state.timesheetsWeek.startDate){var r=this.stringToDate(this.$store.state.timesheetsWeek.startDate);t=new Date(r)}for(var a=[],n={},s=0;s<7;s++){var i={entryDate:this.getDateInYYYYMMDD(t),hoursBillable:0,hoursUnBillable:0,commentsBillable:"",commentsUnBillable:"",expenseAmount:0,expenseComment:"",expenseCategory:"",revenueAmount:0,revenueComment:""};a.push(i),t.setDate(t.getDate()+1)}n.entries=a,n.id=void 0,n.deleted=!1,n.projectRfx=void 0,n.project=void 0,n.userId=this.form&&this.form.userId?this.form.userId:void 0,n.mou=void 0,n.startDate=n.entries[0].entryDate,n.endDate=n.entries[6].entryDate,e?this.blankTimesheet.push(n):this.timesheet.push(n)},ConvertToCSV:function(e){for(var t="object"!==Object(Ds["a"])(e)?JSON.parse(e):e,r="",a=0;a<t.length;a++){var n="";for(var s in t[a])""!=n&&(n+=","),n+=t[a][s];r+=(Object(_i["a"])("str"),"".concat(n,"\r\n"))}return r},csvExport:function(e){var t="data:text/csv;charset=utf-8,";t+=[Object.keys(e[0]).join(";")].concat(Object(Jt["a"])(e.map((function(e){return Object.values(e).join(";")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var r=encodeURI(t),a=document.createElement("a");if(window.navigator.msSaveOrOpenBlob){var n=new Blob([r]);window.navigator.msSaveOrOpenBlob(n,"export.csv")}else a.setAttribute("href",r),a.setAttribute("download","export.csv"),a.click()},expotTimesheet:function(){var e=this;if(this.form.userId){var t={userId:this.form.userId},r=this;r.$store.dispatch("fetchTimesheetEntriesByUser",t).then((function(){for(var t=[],a=0;a<r.$store.state.timesheetEntryDatabyUser.length;a++)for(var n=r.$store.state.timesheetEntryDatabyUser[a].timesheetEntries,s=r.$store.state.timesheetEntryDatabyUser[a].project.projectName,i=0;i<n.length;i++){var o=n[i];t.push({Project:s,"Entry Date":o.entryDate,"Billable Hours":o.hoursBillable,"Billable Comments":o.commentsBillable,"Unbillable Hours":o.hoursUnBillable,"Unbillable Comments":o.commentsUnBillable,"Expense Amount":o.expenseAmount,"Expense Category":o.expenseCategory,"Expense Description":o.expenseComment,"Revenue Amount":o.revenueAmount,"Revenue Description":o.revenueComment})}e.csvExport(t)}))}else this.$refs.snackbar.displaySnackbarTop("error","Please select user.")}}},io=so,oo=Object(y["a"])(io,Ci,Oi,!1,null,null,null),co=oo.exports;j()(oo,{VBtn:k["a"],VCard:J["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:ze["a"],VDialog:K["a"],VDivider:O["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"],VRadio:mt["a"],VRadioGroup:pt["a"],VSelect:Ke["a"],VTab:kr["a"],VTabItem:wr["a"],VTabs:Cr["a"]});var lo={data:function(){return{selectedFilter:"Mine",startDateMain:this.$store.state.timesheetsWeek.startDate,endDateMain:this.$store.state.timesheetsWeek.endDate}},components:{TimesheetsCalendar:wi,AddTimeRecord:co},props:{title:String,addTimeRecord:{type:Function,default:function(){}}},methods:{closeTimesheet:function(e){sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$store.state.timesheetsWeek.startDate=this.startDateMain,this.$store.state.timesheetsWeek.endDate=this.endDateMain,e&&this.$emit("refresh")},newTimeRecord:function(){this.startDateMain=this.$store.state.timesheetsWeek.startDate,this.endDateMain=this.$store.state.timesheetsWeek.endDate,sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$refs.AddTimeRecord.open()}}},uo=lo,fo=(r("740c"),Object(y["a"])(uo,mi,pi,!1,null,null,null)),mo=fo.exports;j()(fo,{VBtn:k["a"],VFlex:re["a"],VLayout:P["a"],VRadio:mt["a"],VRadioGroup:pt["a"]});var po={components:{ProjectExpansionRow:fi,TimesheetsToolbar:mo,Spinner:Ue,AddTimeRecord:co,Snackbar:Ee,Confirm:X},props:{title:String,addTimeRecord:{type:Function,default:function(){}}},data:function(){return{startDateMain:this.$store.state.timesheetsWeek.startDate,endDateMain:this.$store.state.timesheetsWeek.endDate,pagination:{sortBy:"name",rowsPerPage:25},selected:[],dialog:!1,search:"",headers:[{text:"Date of Entry",value:"dateModified",align:"left",sortable:!0},{text:"Person",value:"user.contact.fullName",align:"left",sortable:!0},{text:"Proj. Name",value:"project.projectName",sortable:!0},{text:"Hours Accrued",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],timesheets:[],projects:[],expand:!1,rfxExpand:!1}},computed:{projectsRfx:function(){return this.$store.state.projectsRfx},timesheetsList:function(){var e=this,t=this.$store.state.userTimesheets;return this.$refs.timesheetstoolbar&&"All"===this.$refs.timesheetstoolbar.selectedFilter&&(t=this.$store.state.allTimesheets),this.search&&(t=t.filter((function(t){return t.project.projectName.toLowerCase().includes(e.search.toLowerCase())}))),t}},methods:{closeTimesheet:function(e){sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$store.state.timesheetsWeek.startDate=this.startDateMain,this.$store.state.timesheetsWeek.endDate=this.endDateMain,e&&this.fetchData()},editTimesheet:function(e){this.startDateMain=this.$store.state.timesheetsWeek.startDate,this.endDateMain=this.$store.state.timesheetsWeek.endDate;var t=this.timesheetsList.find((function(t){return t.id===e}));sessionStorage.setItem("selectedStartDate",t.startDate),sessionStorage.setItem("selectedEndDate",t.endDate),this.$refs.AddTimeRecord.open(!0),this.$refs.AddTimeRecord.editTimeEntries(e)},getFullname:function(e){var t=null;if(null!=e){var r=this.$store.state.users.filter((function(t){return t.id===e}));r.length>0&&(t=r[0].contact.fullName)}return t},fetchData:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.spinner&&this.$refs.spinner.open(),"All"!==this.$refs.timesheetstoolbar.selectedFilter){e.next=7;break}return e.next=4,this.$store.dispatch("fetchAllTimesheets");case 4:this.$store.dispatch("fetchUserTimesheets"),e.next=10;break;case 7:return e.next=9,this.$store.dispatch("fetchUserTimesheets");case 9:this.$store.dispatch("fetchAllTimesheets");case 10:this.$refs.spinner&&this.$refs.spinner.close();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goToProject:function(e){this.$router.push({path:"project/".concat(e)})},deleteTimesheet:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure to delete this record?");case 2:if(!e.sent){e.next=8;break}return e.next=5,this.$store.dispatch("deleteTimesheet",{id:t});case 5:return this.$refs.snackbar.displaySnackbar("success","Successfully deleted the record."),e.next=8,this.fetchData();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),initalfetch:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchAllProjects");case 2:return e.next=4,this.$store.dispatch("fetchUserTimesheets");case 4:return e.next=6,this.$store.dispatch("fetchAllTimesheets");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.initalfetch()}},vo=po,ho=(r("575c"),Object(y["a"])(vo,gs,ks,!1,null,null,null)),bo=ho.exports;j()(ho,{VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VCardTitle:ze["a"],VDataTable:hr["a"],VDivider:O["a"],VFlex:re["a"],VIcon:_["a"],VLayout:P["a"],VTextField:Ze["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:Un["a"]});r("6d40");var yo={components:{TimesheetsTable:bo},data:function(){return{color:Oe.a,selectedTab:"tab-1"}},beforeMount:function(){},computed:{}},xo=yo,jo=Object(y["a"])(xo,xs,js,!1,null,null,null),go=jo.exports;j()(jo,{VContainer:w["a"],VFlex:re["a"],VLayout:P["a"]});var ko=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-subheader",[e._v("Admininistrator Controls")]),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/ministries"}},[e._v("Ministries")])],1),r("v-list-tile-sub-title",[e._v("Add or archive ministries")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("a",{attrs:{href:e.AUTH_URL}},[e._v("Keycloak - IAM")])]),r("v-list-tile-sub-title",[e._v("Login to Keycloak - to manage users.")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/hourly-rates"}},[e._v("Set hourly rates")])],1),r("v-list-tile-sub-title",[e._v("Set hourly rates for users.")])],1)],1)],1)],1)],1)],1)},wo=[],Co=r("68ad"),Oo=r.n(Co),_o=r("4360"),Po="statics/keycloak-local",Ro=new Oo.a("/".concat(Po,".json")),Io=function(e){var t="Unauthorized";switch(e){case"User":t="timemachineIntakeIntroduction";break;case"PSB_User":t="projects";break;case"PSB_Intake_User":t="projects";break;case"PSB_Admin":t="projects";break;default:break}return t},To=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ro.init({onLoad:"login-required",responseMode:"query",checkLoginIframe:!1}).success((function(){if(Ro.logoutUrl="".concat(Ro.authServerUrl,"/realms/").concat(Ro.realm)+"/protocol/openid-connect/logout?redirect_uri=".concat(document.baseURI),_o["a"].dispatch("authLogin",Ro),t){var a,n=!1;if(t.forEach((function(e){Ro.hasRealmRole(e)&&(n=!0,a=e)})),n)if(r){var s=Io(a);e({name:s})}else e();else e({name:"Unauthorized"})}else e();setInterval((function(){Ro.updateToken(70).success((function(e){e&&_o["a"].dispatch("authLogin",Ro)})).error((function(){console.error("Failed to refresh token")}))}),6e4)})).error((function(){console.log("failed to login")}))};function So(){return Ro.authServerUrl}var $o={data:function(){return{color:Oe.a,selectedTab:"tab-1",AUTH_URL:So()+"/admin"}},beforeMount:function(){}},Do=$o,No=Object(y["a"])(Do,ko,wo,!1,null,null,null),Eo=No.exports;j()(No,{VContainer:w["a"],VFlex:re["a"],VLayout:P["a"],VList:R["a"],VListTile:T["a"],VListTileContent:$["a"],VListTileSubTitle:$["b"],VListTileTitle:$["c"],VSubheader:E["a"]});var Vo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("confirm",{ref:"confirm"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin  Ministries")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",[r("v-flex",{attrs:{"sm-6":""}},[r("v-btn",{on:{click:function(t){return e.createMinistryPrompt()}}},[e._v("Create New Ministry")])],1),r("v-flex",{attrs:{"sm-6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Ministry","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.allMinistries},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{class:{archived:t.item.is_archived}},[e._v(e._s(t.item.ministryName))]),t.item.is_archived?r("td",{on:{click:function(r){return e.archivePrompt(t.item,!1)}}},[r("v-btn",{attrs:{flat:""}},[e._v("Restore")])],1):r("td",{on:{click:function(r){return e.archivePrompt(t.item,!0)}}},[r("v-btn",{attrs:{flat:"",color:"grey"}},[r("v-icon",[e._v("archive")]),e._v("Archive\n            ")],1)],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Create Ministry")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Ministry Name",required:""},model:{value:e.newMinistryName,callback:function(t){e.newMinistryName=t},expression:"newMinistryName"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){return e.createMinistry(e.newMinistryName)}}},[e._v("Save")])],1)],1)],1)],1)},Bo=[],Ao={components:{Confirm:X},data:function(){return{headers:[{text:"Ministry",align:"left",value:"ministryName"},Object(l["a"])({text:"Actions",value:"actions"},"value","is_archived")],dialog:!1,newMinistryName:"",search:""}},computed:{allMinistries:function(){var e=this;return this.search?this.$store.state.allMinistries.filter((function(t){return t.ministryName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.allMinistries}},methods:{archivePrompt:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info",r?"Are you sure to archive ".concat(t.ministryName,"?"):"Are you sure you wish to UN-ARCHIVE (i.e. restore) ".concat(t.ministryName,"?"));case 2:if(!e.sent){e.next=7;break}return t.is_archived=r,e.next=6,this.$store.dispatch("updateMinistries",t);case 6:this.$store.dispatch("fetchAllMinistries");case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),createMinistryPrompt:function(){console.log("create ministry!"),this.dialog=!0},createMinistry:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("createMinistry",{name:t}),e.next=3,this.$store.dispatch("addMinistry",{ministryName:t});case 3:this.dialog=!1,this.$store.dispatch("fetchAllMinistries");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.$store.dispatch("fetchAllMinistries")}},Lo=Ao,Mo=(r("a46b"),Object(y["a"])(Lo,Vo,Bo,!1,null,null,null)),Fo=Mo.exports;j()(Mo,{VBtn:k["a"],VCard:J["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:ze["a"],VContainer:w["a"],VDataTable:hr["a"],VDialog:K["a"],VFlex:re["a"],VIcon:_["a"],VLayout:P["a"],VSpacer:N["a"],VTextField:Ze["a"]});var Uo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin  Hourly Rates")])])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{sm6:"","offset-sm6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Project","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.users,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[e._v(e._s(t.item.contact.fullName))]),r("td",[r("v-edit-dialog",{attrs:{"return-value":t.item.contact.hourlyRate,lazy:""},on:{"update:returnValue":function(r){return e.$set(t.item.contact,"hourlyRate",r)},"update:return-value":function(r){return e.$set(t.item.contact,"hourlyRate",r)},save:function(r){return e.save(t.item.contact)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{label:"Rate","single-line":"",type:"number"},model:{value:t.item.contact.hourlyRate,callback:function(r){e.$set(t.item.contact,"hourlyRate",r)},expression:"props.item.contact.hourlyRate"}})]},proxy:!0}],null,!0)},[e._v("\n              "+e._s(t.item.contact.hourlyRate?"$"+t.item.contact.hourlyRate+"/hr":"n/a - click to set")+"\n              ")])],1)]}}])})],1)],1)],1)},qo=[],Ho={name:"admin-hourly-rates",components:{Snackbar:Ee},data:function(){return{headers:[{text:"Name",value:"contact.fullName"},{text:"Rate",value:"contact.hourlyRate"}],search:""}},computed:{users:function(){var e=this;return this.search?this.$store.state.users.filter((function(t){return t.contact.fullName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchUsers")},save:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=parseInt(t.hourlyRate,10),r=isNaN(r)?null:r,e.next=4,this.$store.dispatch("updateContactPartial",{id:t.id,hourlyRate:r});case 4:this.$refs.snackbar.displaySnackbar("success","Data saved");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.$refs.snackbar.displaySnackbar("info","Cancelled")},open:function(){},close:function(){}},created:function(){this.fetchData()}},Wo=Ho,Yo=r("7679"),zo=Object(y["a"])(Wo,Uo,qo,!1,null,null,null),Qo=zo.exports;j()(zo,{VContainer:w["a"],VDataTable:hr["a"],VEditDialog:Yo["a"],VFlex:re["a"],VLayout:P["a"],VTextField:Ze["a"]});var Jo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("div",{staticClass:"unauthorized"},[r("v-form",[r("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("v-layout",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"unauthorized-title"},[e._v("Unauthorized")]),[r("v-expansion-panel",{staticClass:"my-5",attrs:{value:0}},[r("v-expansion-panel-content",[r("v-card",{staticClass:"py-5"},[r("v-card-text",[r("p",[e._v("Sorry, you do not have permission to access this part of the app. You will automatically be logout in "+e._s(e.timeUntilRedirect)+" seconds.")]),r("p",[e._v("Please contact your system or domain administrator if your require access to this part of the application.")])])],1)],1)],1)]],2)],1)],1)],1)],1)])},Go=[];r("c8de");a["default"].use(me["a"]);var Ko={$_veeValidate:{validator:"new"},data:function(){return{timeUntilRedirect:5}},mounted:function(){var e=this,t=setInterval((function(){e.timeUntilRedirect--}),1e3);setTimeout((function(){clearInterval(t),console.log("LOGOUT TODO")}),5e3)}},Zo=Ko,Xo=(r("54bb"),Object(y["a"])(Zo,Jo,Go,!1,null,null,null)),ec=Xo.exports;j()(Xo,{VCard:J["a"],VCardText:G["b"],VContainer:w["a"],VExpansionPanel:er["a"],VExpansionPanelContent:tr["a"],VFlex:re["a"],VForm:Je["a"],VLayout:P["a"]});var tc=function(e){var t=_o["a"].getters.SECURITY_AUTH;if(t.authenticated){var r=!1;return e.forEach((function(e){t.hasRealmRole(e)&&(r=!0)})),r}return!1},rc=function(){var e=_o["a"].getters.SECURITY_AUTH;e.logout(),_o["a"].dispatch("authLogout")},ac=function(){var e=_o["a"].getters.SECURITY_AUTH;return{Authorization:"Bearer ".concat(e.token)}},nc={init:To,roles:tc,logout:rc,header:ac};a["default"].use(F["a"]);var sc=[{exact:!0,path:"/",name:"main",redirect:"/authorize",meta:{requiresAuth:!0}},{exact:!0,path:"/authorize",name:"authorize",component:le,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","User","PSB_Intake_User"]}},{exact:!0,path:"/intake-intro",name:"timemachineIntakeIntroduction",component:Na,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{exact:!0,path:"/intake",name:"timeMachineIntakeForm",component:Ra,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{path:"/intake/:id",name:"timeMachineIntakeFormDetails",component:Ra,meta:{requiresAuth:!0,roles:["PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/intake-success",name:"TimeMachineIntakeSuccess",component:es,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{exact:!0,path:"/intake-requests",name:"timeMachineIntakeRequests",component:Qn,meta:{requiresAuth:!0,roles:["PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/projects",name:"timeMachineProjects",component:ys,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/archived",name:"timeMachineProjects",component:ys,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/project",name:"project",component:_r,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/project/:id",name:"projectDetails",component:_r,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/timesheets",name:"timeMachineTimesheets",component:go,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/timesheets/:id",name:"timeMachineTimesheetsDetails",component:go,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/export",name:"export",component:null,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/admin",name:"admin",component:Eo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/ministries",name:"admin-ministries",component:Fo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/hourly-rates",name:"admin-hourly-rates",component:Qo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{path:"/unauthorized",name:"Unauthorized",props:!0,component:ec}],ic=new F["a"]({mode:"history",base:"/",routes:sc});ic.beforeEach((function(e,t,r){if("/logout"===e.path&&(ic.push({path:"/"}),nc.logout()),e.meta.requiresAuth){var a=_o["a"].state.security.auth;if(a.authenticated)e.meta.roles?nc.roles(e.meta.roles)?r():r({name:"Unauthorized"}):r();else{var n="authorize"===e.name;nc.init(r,e.meta.roles,n)}}else r()}));var oc=ic,cc=r("db49"),lc=r("a925"),uc=r("8096"),dc=r.n(uc),fc=arguments,mc=window.sessionStorage,pc={};pc.i=dc()(),pc.ls={set:function(e,t){t=JSON.stringify(t),mc.setItem(e,t)},get:function(e,t){var r=mc.getItem(e,r);return r=null===r||"undefined"===r||""===r?t:JSON.parse(r),r}},pc.store=function(e,t){return fc.length<2?pc.ls.get(e):pc.ls.set(e,t)},a["default"].directive("back",(function(e,t){e.onclick=function(){return window.history.go(-1)}}));var vc=pc,hc=["en-US"];a["default"].use(lc["a"]);var bc={};hc.forEach((function(e){bc[e]=r("a610")("./".concat(e,"/index")).default}));var yc=new lc["a"]({locale:vc.ls.get("locale",cc["a"].locale),silentTranslationWarn:!0,messages:bc}),xc=yc,jc=function(){var e,t=this,r=t.$createElement,a=t._self._c||r;return a("div",[a("form",{attrs:{action:t.action},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.groupBy?a("v-tabs",{attrs:{grow:"","scroll-bars":"",dark:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("v-tabs-bar",{attrs:{slot:"activators"},slot:"activators"},[t._l(t.group.parents,(function(e,t){return a("v-tabs-item",{key:t,attrs:{href:"tab-"+t,ripple:""}})})),a("v-tabs-slider")],2),t._l(t.group.children,(function(e,r){return a("v-tabs-content",{key:r,attrs:{id:"tab-"+r}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",t._l(e,(function(e,r){return a("v-field",{key:r,attrs:{name:r,field:e},model:{value:t.model[r],callback:function(e){t.$set(t.model,r,e)},expression:"model[name]"}})})),1)],1)],1)}))],2):t._e(),t.groupBy?t._e():a("v-layout",t._b({},"v-layout",(e={},e[t.inline?"row":"column"]=!0,e),!1),[t._l(t.fields,(function(e,r){return a("v-field",{key:r,attrs:{name:r,field:e},model:{value:t.model[r],callback:function(e){t.$set(t.model,r,e)},expression:"model[name]"}})})),a("v-alert",{staticClass:"py-2",attrs:{error:""},model:{value:t.hasError,callback:function(e){t.hasError=e},expression:"hasError"}},t._l(t.errors,(function(e){return a("div",[t._v(" "+t._s(e.message))])})),0),t._t("default"),a("v-flex",{staticClass:"pt-2 actions",attrs:{xs12:""}},[t._t("buttons",[a("v-btn",{staticClass:"ma-0",attrs:{primary:"",dark:"",type:"submit"}},[t._v(t._s(t.$t(t.submitButtonText))),a("v-icon",{attrs:{right:"",dark:""}},[t._v(t._s(t.submitButtonIcon))])],1)])],2)],2)],1)])},gc=[],kc=r("c598"),wc=kc["a"],Cc=r("0798"),Oc=r("9a96"),_c=Object(y["a"])(wc,jc,gc,!1,null,null,null),Pc=_c.exports;j()(_c,{VAlert:Cc["a"],VBtn:k["a"],VCard:J["a"],VCardText:G["b"],VFlex:re["a"],VIcon:_["a"],VLayout:P["a"],VTabs:Cr["a"],VTabsSlider:Oc["a"]});var Rc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",{attrs:{xs12:""}},[["select","select2"].includes(e.field.type)?r("v-select",e._b({attrs:{items:e.field.choices},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"v-select",e.field,!1)):["radios","checkboxes"].indexOf(e.field.type)>-1?[r("p",[e._v(e._s(e.$t(e.field.label)))]),r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.field.choices,(function(t){var a;return r("v-flex",e._b({key:e.field.value,attrs:{xs12:""}},"v-flex",(a={},a[e.field.width]=!0,a),!1),[r("radios"==e.field.type?"v-radio":"v-checkbox",{key:t.value,tag:"component",attrs:{"hide-details":"",value:t.value,label:t.text},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)})),1)]:["date","datetime","time"].indexOf(e.field.type)>-1?[r("v-menu",[r("v-text-field",{attrs:{slot:"activator",label:e.$t(e.field.label)},slot:"activator",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),r("v-date-picker",{attrs:{"no-title":"",scrollable:"",actions:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]:"html"==e.field.type?r("div",{class:e.inputGroupClass},[r("label",[e._v(e._s(e.$t(e.field.label)))]),r("div",{staticClass:"pt-2"},[r("quill-editor",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]):["file","image","video"].includes(e.field.type)?r("div",{class:e.inputGroupClass},[r("label",[e._v(e._s(e.$t(e.field.label)))]),r("div",{staticClass:"pt-2"},[r("dropzone",{attrs:{id:"dropzone_"+e.name,url:e.$store.state.config.ajaxUploadUrl}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"hidden"},domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])],1)]):r("v-text-field",e._b({attrs:{label:e.$t(e.field.label),placeholder:e.$t(e.field.placeholder),type:"text",multiLine:"textarea"==e.field.type},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"v-text-field",e.field,!1))],2)},Ic=[],Tc={props:{field:{type:Object,required:!0},name:{type:String,required:!1},value:{required:!1}},data:function(){return{inputGroupClass:"input-group input-group--dirty input-group--text-field"}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},Sc=Tc,$c=Object(y["a"])(Sc,Rc,Ic,!1,null,null,null),Dc=$c.exports;j()($c,{VDatePicker:Qe["a"],VFlex:re["a"],VLayout:P["a"],VMenu:Ge["a"],VSelect:Ke["a"],VTextField:Ze["a"]});var Nc=r("5887"),Ec=r.n(Nc);a["default"].use(Ec.a,{componentPrefix:"vc"}),a["default"].use(s.a),a["default"].filter("formatDate",(function(e){if(e)return c()(String(e)).format("MM/DD/YYYY")})),a["default"].filter("withCommas",(function(e){if(e){var t=e.toString().match(/[^\d,]+/g,"");if(t)return e;var r=e.toString().replace(/,/g,""),a=(new Intl.NumberFormat).format(r);return a}})),a["default"].component("v-form",Pc),a["default"].component("v-field",Dc),a["default"].directive("open-on-focus",{bind:function(e){e.addEventListener("focus",(function(e){e.target.click()}),!0)}}),a["default"].config.productionTip=!1;new a["default"]({el:"#app",i18n:xc,store:_o["a"],router:oc,render:function(e){return e(M)},mounted:function(){},methods:{back:function(){this.$router.go(-1)}}})},"575c":function(e,t,r){"use strict";var a=r("d69a"),n=r.n(a);n.a},"5a97":function(e,t,r){"use strict";var a=r("28c1"),n=r.n(a);n.a},"5b12":function(e,t,r){"use strict";var a=r("e6ae"),n=r.n(a);n.a},"62aa":function(e,t,r){},6956:function(e,t,r){},"6d40":function(e,t,r){},"6f51":function(e,t,r){},"6f86":function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxPhaseName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"]),f=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxTypeName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"]),m=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxType",new f),Object(l["a"])(Object(o["a"])(r),"rfxPhase",new d),Object(l["a"])(Object(o["a"])(r),"rfxName",""),Object(l["a"])(Object(o["a"])(r),"rfxOverview",""),Object(l["a"])(Object(o["a"])(r),"clientResponsibilities",""),Object(l["a"])(Object(o["a"])(r),"psdResponsibilities",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},"6fa9":function(e,t,r){},"71dc":function(e,t,r){},"725a":function(e,t,r){},7293:function(e,t,r){"use strict";var a=r("da4f"),n=r.n(a);n.a},7369:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=r("99e3"),f=r("4603"),m=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",null),Object(l["a"])(Object(o["a"])(r),"projectName",""),Object(l["a"])(Object(o["a"])(r),"client",new d["a"]),Object(l["a"])(Object(o["a"])(r),"projectSector",new f["a"]),Object(l["a"])(Object(o["a"])(r),"commodityCode",""),Object(l["a"])(Object(o["a"])(r),"estimatedCompletionDate",""),Object(l["a"])(Object(o["a"])(r),"estimatedContractValue",null),Object(l["a"])(Object(o["a"])(r),"mouAmount",null),Object(l["a"])(Object(o["a"])(r),"description",""),Object(l["a"])(Object(o["a"])(r),"status",""),Object(l["a"])(Object(o["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(r),"dateModified",new Date),Object(l["a"])(Object(o["a"])(r),"contacts",[]),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},"740c":function(e,t,r){"use strict";var a=r("aa12"),n=r.n(a);n.a},"771f":function(e,t,r){},"78bf":function(e,t,r){"use strict";var a=r("6f51"),n=r.n(a);n.a},8174:function(e,t,r){"use strict";r.r(t),t["default"]={Search:"Search","Create ":"Create ",Submit:"Submit",Edit:"Edit",Close:"Close","Field should be unique.":"Field should be unique."}},"826d":function(e,t,r){},8699:function(e,t,r){e.exports=r.p+"img/dashboard.97138a0a.svg"},"87af":function(e,t,r){},"8d77":function(e,t,r){"use strict";var a=r("62aa"),n=r.n(a);n.a},"8fd5":function(e,t,r){},9801:function(e,t,r){},"99e3":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=r("aae1"),f=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"clientNo",null),Object(l["a"])(Object(o["a"])(r),"responsibilityCenter",null),Object(l["a"])(Object(o["a"])(r),"serviceCenter",null),Object(l["a"])(Object(o["a"])(r),"stob",null),Object(l["a"])(Object(o["a"])(r),"projectCode",null),Object(l["a"])(Object(o["a"])(r),"ministry",new d["a"]),Object(l["a"])(Object(o["a"])(r),"orgDivision",""),Object(l["a"])(Object(o["a"])(r),"email",""),Object(l["a"])(Object(o["a"])(r),"addressLine1",""),Object(l["a"])(Object(o["a"])(r),"addressLine2",""),Object(l["a"])(Object(o["a"])(r),"city",""),Object(l["a"])(Object(o["a"])(r),"province",""),Object(l["a"])(Object(o["a"])(r),"country",""),Object(l["a"])(Object(o["a"])(r),"postalCode",""),Object(l["a"])(Object(o["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(r),"dateModified",new Date),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},"9a1c":function(e,t,r){"use strict";var a=r("9da9"),n=r.n(a);n.a},"9da9":function(e,t,r){},a0e9:function(e,t,r){},a123:function(e,t,r){},a144:function(e,t,r){},a2c6:function(e,t,r){},a305:function(e,t,r){},a352:function(e,t,r){},a46b:function(e,t,r){"use strict";var a=r("c723"),n=r.n(a);n.a},a599:function(e,t,r){},a610:function(e,t,r){var a={"./en-US/index":"8174"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="a610"},a616:function(e,t,r){e.exports=r.p+"img/ministryinfo.b197131b.svg"},aa12:function(e,t,r){},aae1:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"ministryName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},ab08:function(e,t,r){"use strict";r.d(t,"b",(function(){return a}));var a=function(e,t,r){if(!Object.prototype.hasOwnProperty.call(e,"href"))return!0;var a=t.options.routes;if(a instanceof Array){var n=a.filter((function(e){return!!Object.prototype.hasOwnProperty.call(e,"meta")&&!0===e.meta.requiresAuth})),s=n.filter((function(t){return t.meta.roles instanceof Array&&(!!t.exact&&t.path===e.href)})),i=s instanceof Array&&s.length>0?s[0]:void 0;if(void 0===i)return!0;for(var o=!1,c=0;c<i.meta.roles.length;c++)if(r.hasRealmRole&&r.hasRealmRole(i.meta.roles[c])){o=!0;break}return o}return!1},n=[{header:""},{href:"/intake-intro",title:"New Intake Request",icon:"post_add "},{href:"/intake-requests",title:"Intake Requests",icon:"inbox"},{href:"/projects",title:"Projects",icon:"folder"},{href:"/timesheets",title:"Timesheets",icon:"timelapse"},{divider:!0},{href:"/admin",title:"Admin",icon:"lock_open"},{header:"System"},{href:"/logout",title:"Logout",icon:"exit_to_app"}];t["a"]=n},b0fb:function(e,t,r){},ba94:function(e,t,r){},c0df:function(e,t,r){"use strict";var a=r("cd26"),n=r.n(a);n.a},c598:function(e,t,r){"use strict";(function(e){t["a"]={props:{inline:{type:Boolean,default:!1},groupBy:{required:!1,type:String,default:null},action:{required:!1,type:String,default:null},submitButtonText:{required:!1,type:String,default:"Submit"},submitButtonIcon:{required:!1,type:String,default:"send"},method:{required:!1,type:String,default:"post"},value:{required:!1,type:Object,default:function(){}},fields:{required:!0,type:Object},rules:{required:!1,type:Object,default:function(){}},messages:{required:!1,type:Object,default:function(){}}},data:function(){return{model:this.value,hasError:!1,errors:[],message:""}},computed:{group:function(){if(!this.groupBy)return null;var e={},t={};for(var r in this.fields){var a=this.fields[r],n=a[this.groupBy],s=a.id;null===n?e[s]=a:(t[n]||(t[n]={}),t[n][r]=a)}return{parents:e,children:t}},autoSubmit:function(){return!!this.action}},watch:{value:function(e){this.model=e},model:"updateFields"},methods:{getGroupedFields:function(){},getFieldError:function(e){for(var t in this.errors){var r=this.errors[t];if(r.field===e)return r.message}},updateFields:function(){},onSubmit:function(){var t=this,r=e.validator.make(this.model,this.rules,this.messages);if(r.passes()){if(this.$emit("input",this.model),!this.autoSubmit)return this.$emit("submit"),!1;this.$http[this.method](this.action,this.model).then((function(e){var r=e.data;t.$emit("success",r),t.hasError=!1})).catch((function(e){var r=e.response,a=r.status,n=r.data;switch(t.hasError=!0,n.message&&(t.errors=[n]),a){case 422:t.errors=n;break;default:}t.$emit("error",a,n)}))}else{var a=r.getErrors();this.hasError=!0,this.errors=a,this.$emit("error",a)}}},mounted:function(){},created:function(){}}}).call(this,r("c8ba"))},c723:function(e,t,r){},c8de:function(e,t,r){},c911:function(e,t,r){},c9f9:function(e,t,r){"use strict";var a=r("a2c6"),n=r.n(a);n.a},cb06:function(e,t,r){"use strict";var a=r("8fd5"),n=r.n(a);n.a},cb87:function(e,t,r){"use strict";var a=r("ce29"),n=r.n(a);n.a},cd26:function(e,t,r){},ce29:function(e,t,r){},d69a:function(e,t,r){},d74a:function(e,t,r){},da4f:function(e,t,r){},db49:function(e,t,r){"use strict";(function(e){var r="http://localhost:3333",a={locale:"en-US",url:r,ajaxUploadUrl:"".concat(r,"/admin/api/upload"),debug:{mock:!0,http:!1},api:"".concat(r,"/admin/api")};e.config=a,t["a"]=a}).call(this,r("c8ba"))},dc8c:function(e,t,r){"use strict";var a=r("87af"),n=r.n(a);n.a},dccd:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("ac6a"),r("456d");var a=r("d225"),n=r("b0b4"),s=function(){function e(t){var r;if(Object(a["a"])(this,e),t=t||null,this.length=0,this.items={},null!==t)for(r in t)t.hasOwnProperty(r)&&(this.items[r]=t[r],this.length++);return this}return Object(n["a"])(e,[{key:"setItem",value:function(e,t){var r;return this.hasItem(e)?r=this.items[e]:this.length++,this.items[e]=t,r}},{key:"getItem",value:function(e){return this.hasItem(e)?this.items[e]:void 0}},{key:"hasItem",value:function(e){return this.items.hasOwnProperty(e)}},{key:"removeItem",value:function(e){var t;if(this.hasItem(e))return t=this.items[e],this.length--,delete this.items[e],t}},{key:"keys",value:function(){var e,t=[];for(e in this.items)this.hasItem(e)&&t.push(e);return t}},{key:"values",value:function(){var e,t=[];for(e in this.items)this.hasItem(e)&&t.push(this.items[e]);return t}},{key:"each",value:function(e){var t;for(t in this.items)this.hasItem(t)&&e(t,this.items[t])}},{key:"clear",value:function(){this.items={},this.length=0}},{key:"has",value:function(e){return this.hasItem(e)}},{key:"get",value:function(e){return this.getItem(e)}},{key:"set",value:function(e,t){return this.setItem(e,t),this}},{key:"remove",value:function(e){return void 0!==this.removeItem(e)&&this}},{key:"count",value:function(){return Object.keys(this.items).length}}]),e}()},e3dbf:function(e,t,r){},e63d:function(e,t,r){},e641:function(e,t,r){"use strict";var a="SECURITY_AUTH",n={authLogin:function(e,t){var r=e.commit;r(a,t)},authLogout:function(e){var t=e.commit;t(a)}},s=r("bd86"),i=Object(s["a"])({},a,(function(e){return e.auth})),o=Object(s["a"])({},a,(function(e,t){t?(e.auth=t,sessionStorage.setItem("keycloak_token",t.token),localStorage.setItem("keycloak_user",JSON.stringify(t.idTokenParsed))):sessionStorage.removeItem("keycloak_token")})),c={auth:{authenticated:!1}};t["a"]={state:c,actions:n,getters:i,mutations:o}},e6ae:function(e,t,r){},e8d8:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("ac6a"),r("456d");var a=r("d225"),n=r("b0b4"),s=function(){function e(){Object(a["a"])(this,e)}return Object(n["a"])(e,null,[{key:"setProperties",value:function(e,t){var r=Object.keys(e);r.forEach((function(r){Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}))}}]),e}()},ea3a:function(e,t,r){},ee13:function(e,t,r){"use strict";var a=r("a0e9"),n=r.n(a);n.a},ef3c:function(e,t,r){"use strict";(function(e){r("8e6e"),r("ac6a"),r("456d");var a=r("bd86"),n=(r("673e"),r("7f7f"),r("2f62")),s=r("ab08");r("a144");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t["a"]={name:"App",methods:{changeLocale:function(t){e.helper.ls.set("locale",t),this.$i18n.locale=t},toggleMenuStyle:function(){this.mini=!this.mini,this.$store.state.collapseNavigationBar=!1},loadDefaultMenuStyle:function(){this.$store.state.collapseNavigationBar&&(this.mini=this.$store.state.collapseNavigationBar)},shouldDisplayMenuItem:function(e){return Object(s["b"])(e,this.$router,this.$store.getters.SECURITY_AUTH)},fetchInitialData:function(){this.$store.dispatch("fetchintakeRiskQuestions"),this.$store.dispatch("fetchMinistries"),this.$store.dispatch("fetchRFxPhases"),this.$store.dispatch("fetchRFxTypes"),this.$store.dispatch("fetchProjectSectors"),this.$store.dispatch("fetchProjectIntakeCategory"),this.$store.dispatch("fetchProjectIntakeServices"),this.$store.dispatch("fetchUsers"),this.$store.dispatch("fetchMOUs"),this.initialLoadDone=!0,this.userName=JSON.parse(localStorage.getItem("keycloak_user")).name,this.$store.state.activeUser.refId=JSON.parse(localStorage.getItem("keycloak_user")).sub}},created:function(){this.$store.state.collapseNavigationBar=!1},data:function(){return{dark:!1,theme:"primary",mini:!1,drawer:!0,locales:["en-US"],colors:["blue","green","purple","red"],isLoggedIn:this.$store.state.isLoggedIn,isToolbarHide:"login"===this.$router.currentRoute.name||"register"===this.$router.currentRoute.name,initialLoadDone:!1,userName:""}},computed:o({},Object(n["b"])(["message","menu","pageTitle"]),{fetchToken:function(){return this.$store.getters.SECURITY_AUTH.token}}),watch:{$route:function(e){this.isToolbarHide="login"===e.name||"register"===e.name,this.$store.state.collapseNavigationBar=!1},fetchToken:function(e,t){var r=this;console.log("fetchToken",{newValue:e,oldValue:t}),e!==t&&this.$store.dispatch("verifyTokenServer").then((function(){r.initialLoadDone||r.fetchInitialData()}))}}}}).call(this,r("c8ba"))},f464:function(e,t,r){"use strict";var a=r("826d"),n=r.n(a);n.a},f4aa:function(e,t,r){},fb94:function(e,t,r){},fce1:function(e,t,r){}});
//# sourceMappingURL=app.e9d53ad1.js.map