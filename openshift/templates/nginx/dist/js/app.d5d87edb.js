(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"014b7":function(t,e,r){"use strict";var a=r("ba94"),n=r.n(a);n.a},"085a":function(t,e,r){},"08e0":function(t,e,r){},"0b70":function(t,e,r){},1190:function(t,e,r){},2060:function(t,e,r){},"26ab":function(t,e,r){},"2a68":function(t,e,r){t.exports=r.p+"img/projectinfo.08b25936.svg"},"2a685":function(t,e,r){},"2b62":function(t,e,r){},"2ca7":function(t,e,r){"use strict";var a=r("26ab"),n=r.n(a);n.a},"32e8":function(t,e,r){"use strict";var a=r("b65b"),n=r.n(a);n.a},"3d84":function(t,e,r){},4360:function(t,e,r){"use strict";(function(t){r("7514");var a=r("7618"),n=(r("96cf"),r("3b8d")),s=(r("a481"),r("ac6a"),r("75fc")),i=r("2b0e"),o=r("2f62"),c=r("d456"),l=r.n(c),u=r("ab08"),d=r("db49"),f=r("e641"),m=r("4712"),p=r("c1df"),v=r.n(p),h=r("7369"),b=r("dccd"),x=r("6f86"),y="https://timemachine-api-aifsul-prod.pathfinder.gov.bc.ca";if(console.log("API URL:",{API_URI:y}),i["default"].use(o["a"]),"undefined"===typeof f["a"])throw new Error("Security cannot be undefined");var j=new o["a"].Store({modules:{security:f["a"]},state:{menuIsOpen:!1,menu:u["a"],config:d["a"],activeUser:{},activeRoles:[],users:[],clients:[],services:[],projectSectors:[],projectIntakeCategory:[],projectIntakeServices:[],ministries:[],allMinistries:[],rfxPhases:[],rfxTypes:[],timesheetEntryData:[],timesheetEntryDatabyUser:[],financeExport:[],downloadFinancePdf:[],timesheetById:[],projectRiskAnswers:[],intakeRiskQuestions:[],mouList:[],activeIntakeRequestId:null,activeIntakeRequest:{},intakeRequests:[],timesheetProjects:[],downloadedPdfs:[],activeProjectId:null,activeProject:{},activeProjectRfxData:[],activeProjectContacts:[],projects:[],archivedProjects:[],allProjects:[],projectsRfx:new b["a"],activeTimesheetEntryRowId:null,activeTimesheetEntryRow:{},timesheets:[],unbilledTimesheets:[],timesheetEntries:[],userTimesheets:[],allTimesheets:[],allProcurementLog:[],allProjectNotes:[],collapseNavigationBar:!1,projectInformation:!1,ministryInformation:!1,contactInformation:!1,intakeRisk:!1,timesheetsWeek:{startDate:null,endDate:null},drawerComments:!1,drawerCommentsEntries:[],verifyTokenServer:null,timeLogOfSelectedDate:null},mutations:{setAuth:function(e,r){var a=r.user,n=r.token;e.user=a,e.token=n,t.helper.ls.set("user",a),t.helper.ls.set("token",n)},setMenu:function(t,e){t.menu=e},setPageTitle:function(t,e){t.pageTitle=e},setFeedbackMessages:function(t,e,r){t.message={type:e,body:r}},setTimesheetsWeek:function(t,e){t.timesheetsWeek={startDate:e.startDate,endDate:e.endDate}},verifyTokenServer:function(t,e){t.verifyTokenServer=e},fetchMinistries:function(t,e){t.ministries=e},fetchAllMinistries:function(t,e){t.allMinistries=e},fetchintakeRiskQuestions:function(t,e){t.intakeRiskQuestions=e},fetchprojectRiskAnswers:function(t,e){t.projectRiskAnswers=e},fetchTimesheetEntries:function(t,e){t.timesheetEntryData=e},fetchTimesheetById:function(t,e){t.timesheetById=e},fetchTimesheetEntriesByUser:function(t,e){t.timesheetEntryDatabyUser=e},fetchFinanceExport:function(t,e){t.financeExport=e},downloadExportedPdf:function(t,e){t.downloadFinancePdf=e},fetchRFxPhases:function(t,e){t.rfxPhases=e},fetchTimesheetProjects:function(t,e){t.timesheetprojects=e},fetchExportedPdfs:function(t,e){t.downloadedPdfs=e},fetchRFxTypes:function(t,e){t.rfxTypes=e},fetchProjectSectors:function(t,e){t.projectSectors=e,t.services=e},fetchProjectIntakeCategory:function(t,e){t.projectIntakeCategory=e,t.services=e},fetchProjectIntakeServices:function(t,e){t.projectIntakeServices=e,t.services=e},fetchProjectRfx:function(t,e){t.projectsRfx.set(e.projectId,e.content)},fetchClients:function(t,e){t.clients=e},fetchClient:function(){},fetchMOUs:function(t,e){t.mouList=e},addClient:function(){throw new Error("Not implemented!")},updateClient:function(){throw new Error("Not implemented!")},deleteClient:function(){throw new Error("Not implemented!")},fetchContacts:function(t,e){t.contacts=e},addContact:function(){throw new Error("Not implemented!")},updateContact:function(){throw new Error("Not implemented!")},deleteContact:function(){throw new Error("Not implemented!")},fetchUsers:function(t,e){t.users=e},addUser:function(){throw new Error("Not implemented!")},addMinistry:function(t,e){console.log("TODO - NOT SURE IF COMPLETE - addMinistry MUTATION called",{state:t,data:e})},updateUser:function(t,e){console.log("TODO",{users:t.users,data:e})},deleteUser:function(){throw new Error("Not implemented!")},fetchIntakeRequests:function(t,e){i["default"].set(t,"intakeRequests",Object(s["a"])(e))},fetchIntakeRequest:function(t,e){t.activeIntakeRequest=h["a"].constructFromObject(e)},clearActiveIntakeRequest:function(t,e){t.activeIntakeRequest=e},addIntakeRequest:function(t,e){t.activeIntakeRequest=h["a"].constructFromObject(e)},updateIntakeRequest:function(t,e){},deleteIntakeRequest:function(){},deleteMOUs:function(){},updateProctLog:function(){},approveIntakeRequest:function(){throw new Error("Not implemented!")},assignContactToIntakeRequest:function(){throw new Error("Not implemented!")},createMOU:function(t,e){console.log("createMOU mutation",e),t.mouList.push(e)},fetchProjects:function(t,e){t.projects=[],e instanceof Array&&e.forEach((function(e){e.projectLeadUserId=e.leadUserId,e.projectBackupUserId=e.backupUserId,e.ministryInformation=e.ministryInformation;var r=t.projects.filter((function(t){return t.id===e.id}))||[];if(r.length>0){var a=t.projects.indexOf(r[0]);t.projects[a]=l()(t.projects[a],e)}else t.projects.push(e)}))},fetchProject:function(t,e){t.activeProject=e},fetchArchivedProjects:function(t,e){t.archivedProjects=e},fetchAllProjects:function(t,e){t.allProjects=[],e instanceof Array&&e.forEach((function(e){e.projectLeadUserId=e.leadUserId,e.projectBackupUserId=e.backupUserId,e.ministryInformation=e.ministryInformation;var r=t.allProjects.filter((function(t){return t.id===e.id}))||[];if(r.length>0){var a=t.allProjects.indexOf(r[0]);t.allProjects[a]=l()(t.allProjects[a],e)}else t.allProjects.push(e)}))},addProject:function(){throw new Error("Not implemented!")},updateProject:function(){},deleteProject:function(){throw new Error("Not implemented!")},assignResourceToProject:function(){throw new Error("Not implemented!")},assignContactToProject:function(){throw new Error("Not implemented!")},assignProjectLead:function(){},assignProjectBackup:function(){},fetchProjectContacts:function(t,e){t.activeProjectContacts=e},updateProjectContacts:function(){},updateProjectFinanceCodes:function(){},updateProcurementLog:function(){},addProjectNotes:function(){},fetchProjectRFxData:function(t,e){console.log("fetchProjectRFxData",{data:e}),e&&0===e.length&&e.push(new x["a"]),t.activeProjectRfxData=e},addProjectRFxData:function(){},updateProjectRFxData:function(){},fetchTimesheets:function(t,e){var r=e.data,a=e.replace;r instanceof Array&&(!0===a?t.timesheets=r:r.forEach((function(e){var r=t.timesheets.filter((function(t){return t.id===e.id}))||[];if(r.length>0){var a=t.timesheets.indexOf(r[0]);t.timesheets[a]=l()(t.timesheets[a],e)}else t.timesheets.push(e)})))},fetchAllTimesheets:function(t,e){t.allTimesheets=e},fetchUserTimesheets:function(t,e){t.userTimesheets=e},fetchAllProcurementLog:function(t,e){t.allProcurementLog=e},fetchAllProjectNotes:function(t,e){t.allProjectNotes=e},getTimeLogOfSelectedDate:function(t,e){t.timeLogOfSelectedDate=e},addTimesheet:function(t,e){var r=e,a=t.timesheets.filter((function(t){return t.id===r.id}))||[];if(a.length>0){var n=t.timesheets.indexOf(a[0]);t.timesheets[n]=l()(t.timesheets[n],r)}else t.timesheets.push(r)},updateTimesheet:function(t,e){var r=e,a=t.timesheets.filter((function(t){return t.id===r.id}))||[];if(a.length>0){var n=t.timesheets.indexOf(a[0]);t.timesheets[n]=l()(t.timesheets[n],r)}else t.timesheets.push(r)},deleteTimesheet:function(t,e){var r=t.timesheets.filter((function(t){return t.id!==e.timesheetId}))||[];t.timesheets=r},addTimesheetEntry:function(){throw new Error("Not implemented!")},addWeekTimesheetEntries:function(){throw new Error("Not implemented!")},updateTimesheetEntry:function(){throw new Error("Not implemented!")},updateWeekTimesheetEntries:function(){throw new Error("Not implemented!")},deleteTimesheetEntry:function(){throw new Error("Not implemented!")},deleteWeekTimesheetEntries:function(){throw new Error("Not implemented!")},approveTimesheetEntry:function(){throw new Error("Not implemented!")},approveWeekTimesheetEntries:function(){throw new Error("Not implemented!")},addTimesheetEntryComment:function(){throw new Error("Not implemented!")},updateTimesheetEntryComment:function(){throw new Error("Not implemented!")},deleteTimesheetEntryComment:function(){throw new Error("Not implemented!")},archiveProject:function(t,e){console.log("archiveProject response",e)}},actions:{checkAuth:function(e){var r={user:t.helper.ls.get("user"),token:t.helper.ls.get("token")};e.commit("setAuth",r)},setTimesheetsWeek:function(t,e){t.commit("setTimesheetsWeek",{startDate:e.startDate,endDate:e.endDate})},verifyTokenServer:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/auth/verify")).then((function(t){var r=t.data;return e.commit("verifyTokenServer",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 2:return r=t.sent,t.abrupt("return",Promise.resolve(r));case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),fetchMinistries:function(t){m["a"].get("".concat(y,"/ministry")).then((function(e){var r=e.data;t.commit("fetchMinistries",r)}))},fetchAllMinistries:function(t){m["a"].get("".concat(y,"/ministry/all")).then((function(e){var r=e.data;t.commit("fetchAllMinistries",r)}))},addMinistry:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,n=m["a"].post("".concat(y,"/ministry"),a).then((function(t){var r=t.data;return e.commit("addMinistry",r),Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)})),t.abrupt("return",Promise.resolve(n));case 3:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),updateMinistries:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].patch("".concat(y,"/ministry/").concat(r.id,"/update"),r).then((function(t){return console.log("updateMinistires RESPONSE",{res:t}),Promise.resolve(t.data)})).catch((function(t){return Promise.reject(t)}));case 2:return a=t.sent,t.abrupt("return",Promise.resolve(a));case 4:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchintakeRiskQuestions:function(t){m["a"].get("".concat(y,"/project-risk")).then((function(e){var r=e.data;t.commit("fetchintakeRiskQuestions",r)}))},fetchprojectRiskAnswers:function(t,e){m["a"].get("".concat(y,"/project-risk/").concat(e.id)).then((function(e){var r=e.data;t.commit("fetchprojectRiskAnswers",r)}))},fetchTimesheetById:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].get("".concat(y,"/timesheet/").concat(r.id),a).then((function(t){var r=t.data;return e.commit("fetchTimesheetById",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),financeExport:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/project/finance"),a).then((function(t){var r=t.data;return e.commit("fetchFinanceExport",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),downloadFinancePdf:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/project/downloadFinancePdf"),a).then((function(t){var r=t.data;return e.commit("downloadExportedPdf",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchMouProjects:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r,t.next=3,m["a"].get("".concat(y,"/project/").concat(r.id,"/by-user-id")).then((function(t){var e=t.data;return Promise.resolve(e)})).catch((function(t){return Promise.reject(t)}));case 3:return a=t.sent,t.abrupt("return",Promise.resolve(a));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchTimesheetEntriesByUser:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/timesheet/timesheetentriesByUser"),a).then((function(t){var r=t.data;return e.commit("fetchTimesheetEntriesByUser",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchTimesheetEntries:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/timesheet/timesheetentries"),a).then((function(t){var r=t.data;return e.commit("fetchTimesheetEntries",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchRFxPhases:function(t){m["a"].get("".concat(y,"/rfx-phase")).then((function(e){var r=e.data;t.commit("fetchRFxPhases",r)}))},fetchRfxTypes:function(t){m["a"].get("".concat(y,"/rfx-type")).then((function(e){var r=e.data;t.commit("fetchRfxTypes",r)}))},fetchProjectRfx:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/project-rfx/").concat(r.id,"/by-project-id")).then((function(t){var a=t.data;return e.commit("fetchProjectRfx",{projectId:r.id,content:a}),Promise.resolve(a)})).catch((function(t){return Promise.reject(t)}));case 2:return a=t.sent,t.abrupt("return",Promise.resolve(a));case 4:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchRFxTypes:function(t){m["a"].get("".concat(y,"/rfx-type")).then((function(e){var r=e.data;t.commit("fetchRFxTypes",r)}))},fetchProjectSectors:function(t){m["a"].get("".concat(y,"/project-sector")).then((function(e){var r=e.data;t.commit("fetchProjectSectors",r)}))},fetchProjectIntakeCategory:function(t){m["a"].get("".concat(y,"/project-intake-category")).then((function(e){var r=e.data;t.commit("fetchProjectIntakeCategory",r)}))},fetchProjectIntakeServices:function(t){m["a"].get("".concat(y,"/project-intake-service")).then((function(e){var r=e.data;t.commit("fetchProjectIntakeServices",r)}))},fetchClients:function(t){m["a"].get("".concat(y,"/client")).then((function(e){var r=e.data;t.commit("fetchClients",r)}))},fetchClient:function(t,e){m["a"].get("".concat(y,"/client/").concat(e.id)).then((function(e){var r=e.data;t.commit("fetchClient",r)}))},addClient:function(t,e){var r=e;m["a"].post("".concat(y,"/client"),r).then((function(e){var r=e.data;t.commit("addClient",r)}))},updateClient:function(t,e){var r=e;m["a"].patch("".concat(y,"/client/").concat(e.id),r).then((function(e){var r=e.data;t.commit("updateClient",r)}))},deleteClient:function(t,e){m["a"].delete("".concat(y,"/client/").concat(e.id)).then((function(e){var r=e.data;t.commit("updateClient",r)}))},addContact:function(t,e){var r=e;m["a"].post("".concat(y,"/contact"),r).then((function(e){var r=e.data;t.commit("addContact",r)}))},updateContact:function(t,e){var r=e;m["a"].patch("".concat(y,"/contact/").concat(e.id),r).then((function(e){var r=e.data;t.commit("updateContact",r)}))},updateContactPartial:function(t,e){var r=e;return m["a"].patch("".concat(y,"/contact/").concat(e.id,"/partial"),r)},deleteContact:function(t,e){m["a"].delete("".concat(y,"/contact/").concat(e.id)).then((function(e){var r=e.data;t.commit("deleteContact",r)}))},fetchUsers:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/user")).then((function(t){var r=t.data;e.commit("fetchUsers",r)}));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),addUser:function(t,e){var r=e;m["a"].post("".concat(y,"/user"),r).then((function(e){var r=e.data;t.commit("addUser",r)}))},updateUser:function(t,e){var r=e;m["a"].patch("".concat(y,"/user/").concat(e.id),r).then((function(e){var r=e.data;t.commit("updateUser",r)}))},deleteUser:function(t,e){m["a"].delete("".concat(y,"/user/").concat(e.id)).then((function(e){var r=e.data;t.commit("deleteUser",r)}))},fetchMOUs:function(t,e){m["a"].get("".concat(y,"/MOU")).then((function(e){var r=e.data;t.commit("fetchMOUs",r)}))},createMOU:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/MOU"),a).then((function(t){var r=t.data;return console.log("createMOU called with body",a),e.commit("createMOU",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchIntakeRequests:function(t){m["a"].get("".concat(y,"/intake")).then((function(e){var r=e.data;r.forEach((function(t){t.projectLeadId=t.leadUserId,t.projectBackupId=t.backupUserId,t.estimatedCompletionDate=v()(String(t.estimatedCompletionDate)).format("YYYY-MM-DD")})),t.commit("fetchIntakeRequests",r)}))},fetchIntakeRequest:function(t,e){m["a"].get("".concat(y,"/intake/").concat(e.id)).then((function(e){var r=e.data;t.commit("fetchIntakeRequest",r)}))},clearActiveIntakeRequest:function(t){t.commit("clearActiveIntakeRequest",new h["a"])},addIntakeRequest:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/intake"),a).then((function(t){var r=t.data;return e.commit("addIntakeRequest",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),updateIntakeRequest:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=m["a"].patch("".concat(y,"/intake/").concat(r.id),r).then((function(t){var r=t.data;return e.commit("updateIntakeRequest",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)})),t.abrupt("return",Promise.resolve(a));case 2:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),updateProctLog:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(r),a=m["a"].patch("".concat(y,"/procurement/").concat(r.id),r).then((function(t){var r=t.data;return e.commit("updateProctLog",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)})),t.abrupt("return",Promise.resolve(a));case 3:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),deleteIntakeRequest:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m["a"].delete("".concat(y,"/intake/").concat(r.id));case 3:a=t.sent,n=a.data,e.commit("deleteIntakeRequest",n),t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e,r){return t.apply(this,arguments)}return e}(),deleteMOUs:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m["a"].delete("".concat(y,"/MOU/").concat(r.id));case 3:a=t.sent,n=a.data,e.commit("deleteMOUs",n),t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e,r){return t.apply(this,arguments)}return e}(),approveIntakeRequest:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].post("".concat(y,"/intake/").concat(r.id,"/approve")).then((function(t){var e=t.data;return Promise.resolve(e)})).catch((function(t){return Promise.reject(t)}));case 2:return a=t.sent,t.abrupt("return",Promise.resolve(a));case 4:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),assignContactToIntakeRequest:function(t,e){m["a"].post("".concat(y,"/intake/").concat(e.id,"/assign-contact")).then((function(e){var r=e.data;t.commit("assignContactToIntakeRequest",r)}))},fetchProjects:function(t){m["a"].get("".concat(y,"/project")).then((function(e){var r=e.data;r=e.data.map((function(t){return t})),t.commit("fetchProjects",r)}))},fetchArchivedProjects:function(t){m["a"].get("".concat(y,"/project/archived")).then((function(e){var r=e.data;r=e.data.map((function(t){return t})),t.commit("fetchArchivedProjects",r)}))},fetchAllProjects:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/project/all")).then((function(t){var r=t.data;r=t.data.map((function(t){return t})),e.commit("fetchAllProjects",r)}));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),archiveProject:function(t,e){var r=e.id,n=e.is_archived;if(!0!==n&&!1!==n)throw new Error("is_archived must be boolean, instead you provided: ".concat(Object(a["a"])(n)));return m["a"].patch("".concat(y,"/project/").concat(r,"/archive"),{is_archived:n}).then((function(e){var r=e.data;t.commit("archiveProject",r)}))},fetchProject:function(t,e){m["a"].get("".concat(y,"/project/").concat(e.id)).then((function(e){var r=e.data;t.commit("fetchProject",r)}))},addProject:function(t,e){var r=e;m["a"].post("".concat(y,"/project"),r).then((function(e){var r=e.data;t.commit("addProject",r)}))},updateProject:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].patch("".concat(y,"/project/").concat(r.id),a).then((function(t){var r=t.data;return e.commit("updateProject",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),deleteProject:function(t,e){m["a"].delete("".concat(y,"/project/").concat(e.id)).then((function(e){var r=e.data;t.commit("deleteProject",r)}))},assignResourceToProject:function(t,e){m["a"].post("".concat(y,"/project/").concat(e.id,"/assign-resource")).then((function(e){var r=e.data;t.commit("deleteProject",r)}))},assignContactToProject:function(t,e){m["a"].post("".concat(y,"/project/").concat(e.id,"/assign-contact")).then((function(e){var r=e.data;t.commit("assignContactToProject",r)}))},assignProjectLead:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={userId:r.userId},t.next=3,m["a"].post("".concat(y,"/project/").concat(r.projectId,"/assign-lead"),a).then((function(t){var r=t.data;return e.commit("assignProjectLead",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),assignProjectBackup:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={userId:r.userId},t.next=3,m["a"].post("".concat(y,"/project/").concat(r.projectId,"/assign-backup"),a).then((function(t){var r=t.data;return e.commit("assignProjectBackup",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchProjectContacts:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/contact/").concat(r.id,"/by-project-id")).then((function(t){var r=t.data;return e.commit("fetchProjectContacts",r),Promise.resolve(r)}));case 2:return a=t.sent,t.abrupt("return",Promise.resolve(a));case 4:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),updateProjectContacts:function(t,e){var r=e.contacts;m["a"].patch("".concat(y,"/contact/").concat(e.id),r).then((function(e){var r=e.data;t.commit("updateProjectContacts",r)}))},updateProjectFinanceCodes:function(t,e){var r=e.financeCodes;m["a"].patch("".concat(y,"/client/").concat(e.id,"/finance-code"),r).then((function(e){var r=e.data;t.commit("updateProjectFinanceCodes",r)}))},updateProcurementLog:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.procurementlog,t.next=3,m["a"].post("".concat(y,"/procurement"),a).then((function(t){var r=t.data;return e.commit("updateProcurementLog",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),addProjectNotes:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.projectNotes,t.next=3,m["a"].post("".concat(y,"/projectnotes"),a).then((function(t){var r=t.data;return e.commit("addProjectNotes",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchProjectRFxData:function(t,e){m["a"].get("".concat(y,"/project-rfx/").concat(e.id,"/by-project-id")).then((function(e){var r=e.data;t.commit("fetchProjectRFxData",r)}))},addProjectRFxData:function(t,e){var r=e,a=m["a"].post("".concat(y,"/project-rfx"),r).then((function(e){var r=e.data;return t.commit("addProjectRFxData",r),Promise.resolve(e.data)}));return Promise.resolve(a)},updateProjectRFxData:function(t,e){var r=e;m["a"].patch("".concat(y,"/project-rfx/").concat(e.id),r).then((function(e){var r=e.data;t.commit("updateProjectRFxData",r)}))},fetchTimesheets:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=sessionStorage.getItem("selectedStartDate"),n=sessionStorage.getItem("selectedEndDate"),s="projectId=".concat(r.projectId,"&startDate=").concat(a,"&endDate=").concat(n),r.replace=r.replace||!1,t.next=6,m["a"].get("".concat(y,"/timesheet?").concat(s));case 6:return i=t.sent,e.commit("fetchTimesheets",{data:i.data,replace:r.replace}),t.abrupt("return",Promise.resolve());case 9:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchAllTimesheets:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/timesheet/all"));case 2:return r=t.sent,e.commit("fetchAllTimesheets",r.data),t.abrupt("return",Promise.resolve(r.data));case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),fetchUserTimesheets:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/timesheet/user"));case 2:return r=t.sent,e.commit("fetchUserTimesheets",r.data),t.abrupt("return",Promise.resolve(r.data));case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),fetchAllProcurementLog:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/procurement/").concat(r.id));case 2:return a=t.sent,e.commit("fetchAllProcurementLog",a.data),t.abrupt("return",Promise.resolve(a.data));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchAllProjectNotes:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get("".concat(y,"/projectnotes/").concat(r.id));case 2:return a=t.sent,e.commit("fetchAllProjectNotes",a.data),t.abrupt("return",Promise.resolve(a.data));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),updateRiskAnalysis:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].patch("".concat(y,"/project-risk/").concat(r.projectId,"/update"),a).then((function(t){var e=t.data;return Promise.resolve(e)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchTimesheetProjects:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/project/timesheetprojects"),a).then((function(t){var r=t.data;return e.commit("fetchTimesheetProjects",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchExportedPdfs:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/project/exportedPdfs"),a).then((function(t){var r=t.data;return e.commit("fetchExportedPdfs",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),addBatchTimesheet:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/timesheet/batch"),a).then((function(t){var r=t.data;return e.commit("addTimesheet",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),addLightTimesheet:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/timesheet/light"),a).then((function(t){var r=t.data;return e.commit("addTimesheet",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),getLightTimesheet:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/timesheet/getLight"),a).then((function(t){var r=t.data;return e.commit("getTimeLogOfSelectedDate",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),addTimesheet:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.next=3,m["a"].post("".concat(y,"/timesheet"),a).then((function(t){var r=t.data;return e.commit("addTimesheet",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),updateTimesheet:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.payload,t.next=3,m["a"].patch("".concat(y,"/timesheet/").concat(r.id),a).then((function(t){var r=t.data;return e.commit("updateTimesheet",r),Promise.resolve(r)})).catch((function(t){return Promise.reject(t.response)}));case 3:return n=t.sent,t.abrupt("return",Promise.resolve(n));case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),deleteTimesheet:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].delete("".concat(y,"/timesheet/").concat(r.id)).then((function(t){var a=t.data;return e.commit("deleteTimesheet",{timesheetId:r.id,content:t.data}),Promise.resolve(a)})).catch((function(t){return Promise.reject(t.response)}));case 2:return a=t.sent,t.abrupt("return",Promise.resolve(a));case 4:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),addTimesheetEntry:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r,t.prev=1,t.next=4,m["a"].post("".concat(y,"/timesheet-entry"),a);case 4:n=t.sent,e.commit("addTimesheetEntry",n.data),t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](1),t.abrupt("return",t.t0);case 11:return t.abrupt("return",Promise.resolve());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,r){return t.apply(this,arguments)}return e}(),addWeekTimesheetEntries:function(t,e){var r=e;m["a"].post("".concat(y,"/timesheet"),r).then((function(e){var r=e.data;t.commit("addWeekTimesheetEntries",r)}))},updateTimesheetEntry:function(t,e){var r=e;m["a"].patch("".concat(y,"/timesheet-entry/").concat(e.id),r).then((function(e){var r=e.data;t.commit("updateTimesheetEntry",r)}))},updateWeekTimesheetEntries:function(t,e){var r=e;m["a"].patch("".concat(y,"/timesheet/").concat(e.id),r).then((function(e){var r=e.data;t.commit("updateWeekTimesheetEntries",r)}))},deleteTimesheetEntry:function(t,e){m["a"].delete("".concat(y,"/timesheet-entry/").concat(e.id)).then((function(e){var r=e.data;t.commit("deleteTimesheetEntry",r)}))},deleteWeekTimesheetEntries:function(t,e){m["a"].delete("".concat(y,"/timesheet/").concat(e.id)).then((function(e){var r=e.data;t.commit("deleteWeekTimesheetEntries",r)}))},approveTimesheetEntry:function(t,e){m["a"].post("".concat(y,"/timesheet-entry/").concat(e.id,"/approve")).then((function(e){var r=e.data;t.commit("approveTimesheetEntry",r)}))},approveWeekTimesheetEntries:function(t,e){m["a"].post("".concat(y,"/timesheet/").concat(e.id)).then((function(e){var r=e.data;t.commit("approveWeekTimesheetEntries",r)}))},addTimesheetEntryComment:function(t,e){var r=e;m["a"].post("".concat(y,"/timesheet-entry/").concat(e.id,"/comment"),r).then((function(e){var r=e.data;t.commit("addTimesheetEntryComment",r)}))},updateTimesheetEntryComment:function(t,e){var r=e;m["a"].patch("".concat(y,"/timesheet-entry/").concat(e.id,"/comment"),r).then((function(e){var r=e.data;t.commit("updateTimesheetEntryComment",r)}))},deleteTimesheetEntryComment:function(t,e){m["a"].delete("".concat(y,"/timesheet-entry/").concat(e.id,"/comment")).then((function(e){var r=e.data;t.commit("deleteTimesheetEntryComment",r)}))}},getters:{getProjectContactByType:function(t){return function(e){return t.activeProjectContacts.find((function(t){return t.contactType===e}))}}}});e["a"]=j}).call(this,r("c8ba"))},4603:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(t){function e(){var t,r;Object(a["a"])(this,e);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(t=Object(i["a"])(e)).call.apply(t,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"projectSectorName",""),r}return Object(c["a"])(e,t),Object(n["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,u["a"].setProperties(t,r)),r}}]),e}(u["a"])},4678:function(t,e,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="4678"},4712:function(t,e,r){"use strict";var a=r("bc3a"),n=r.n(a),s=n.a.create();s.interceptors.request.use((function(t){return t.headers.get["Content-Type"]="application/json",t.headers.post["Content-Type"]="application/json",t.headers.put["Content-Type"]="application/json",t.headers.patch["Content-Type"]="application/json",t.headers.delete["Content-Type"]="application/json",t.headers.common.Authorization="Bearer ".concat(sessionStorage.getItem("keycloak_token")),t})),e["a"]=s},"4d87":function(t,e,r){t.exports=r.p+"img/logo.6ce21ad0.svg"},"4df0":function(t,e,r){},"4dfd":function(t,e,r){"use strict";var a=r("71c2"),n=r.n(a);n.a},"54bb":function(t,e,r){"use strict";var a=r("0b70"),n=r.n(a);n.a},5629:function(t,e,r){t.exports=r.p+"img/contactinfo.8b99e9f9.svg"},"56d7":function(t,e,r){"use strict";r.r(e);r("a481"),r("6b54"),r("4917"),r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=r("953d"),s=r.n(n),i=r("9483");Object(i["a"])("".concat("https://timemachine-api-aifsul-prod.pathfinder.gov.bc.ca","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});r("d5e8"),r("15f5"),r("d1e7");var o=r("c1df"),c=r.n(o),l=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),u=r("bb716");r("da64");function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m={primary:"#003366",background:"#003366",secondary:"#424242",tertiary:"#F0D299",quaternary:"#65799D",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#648C47",warning:"#e6a100",btnPrimary:"#003366",btnSecondary:"#424242",btnTertiary:"#F0D299",btnQuaternary:"#65799D",menuSelected:"#d7eaff",approved:"#1c9900"};a["default"].use(u["a"],{theme:f({},m),options:{customProperties:!0},iconfont:"md"});var p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",t._b({attrs:{fixed:"",app:"","mini-variant":t.mini},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},"v-navigation-drawer",t.loadDefaultMenuStyle(),!1),[a("v-btn",{staticClass:"navdraw-mini-expander",attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.toggleMenuStyle()}}},[a("v-icon",[t._v(t._s(t.mini?"chevron_right":"chevron_left"))])],1),a("v-list",[t._l(t.menu,(function(e){return[t.shouldDisplayMenuItem(e)?a("div",{key:JSON.stringify(e)},[e.header?a("v-subheader",[t._v("\n            "+t._s(e.header)+"\n          ")]):e.divider?a("v-divider",{key:JSON.stringify(e)}):e.items instanceof Array?a("v-list-group",{key:JSON.stringify(e),attrs:{group:e.group,value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-tile",{key:JSON.stringify(e),attrs:{to:e.href,title:e.title,disabled:e.disabled,router:"",ripple:""}},[e.icon?a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" "+t._s(t.$t(e.title)))])],1),a("v-list-tile-action",[a("v-icon")],1)],1)]},proxy:!0}],null,!0)}):a("v-list-tile",{key:JSON.stringify(e),attrs:{to:e.href,title:e.title,disabled:e.disabled,router:"",ripple:""}},[e.icon?a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" "+t._s(t.$t(e.title)))])],1)],1)],1):t._e()]}))],2)],1),t.isToolbarHide?t._e():a("v-toolbar",{staticClass:"app-toolbar",attrs:{app:"",fixed:"",color:"background"}},[a("v-toolbar-side-icon",{attrs:{dark:""},nativeOn:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"App-toolbar-title"},[a("img",{staticClass:"app-logo",attrs:{src:r("4d87"),alt:"avatar"}})]),a("div",{staticClass:"app-title"},[t._v("Time Machine")]),a("v-spacer"),t.userName?a("div",{staticClass:"user-name"},[t._v("Hi, "+t._s(t.userName))]):t._e()],1),a("v-content",[a("v-container",{attrs:{"pa-0":"",fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-top":""}},[a("router-view")],1)],1)],1)],1)},v=[],h=r("ef3c"),b=h["a"],x=r("2877"),y=r("6544"),j=r.n(y),k=r("7496"),g=r("8336"),C=r("a523"),_=r("549c"),w=r("ce7e"),O=r("132d"),P=r("a722"),S=r("8860"),I=r("56b0"),R=r("ba95"),$=r("40fe"),D=r("5d23"),T=r("f774"),N=r("9910"),V=r("e0c7"),E=r("71d9"),L=r("706c"),B=r("2a7f"),A=Object(x["a"])(b,p,v,!1,null,null,null),F=A.exports;j()(A,{VApp:k["a"],VBtn:g["a"],VContainer:C["a"],VContent:_["a"],VDivider:w["a"],VIcon:O["a"],VLayout:P["a"],VList:S["a"],VListGroup:I["a"],VListTile:R["a"],VListTileAction:$["a"],VListTileContent:D["a"],VListTileTitle:D["c"],VNavigationDrawer:T["a"],VSpacer:N["a"],VSubheader:V["a"],VToolbar:E["a"],VToolbarSideIcon:L["a"],VToolbarTitle:B["a"]});r("7f7f");var M=r("8c4f"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"page-container custom-dashboard-container",attrs:{"grid-list-xl":"",fluid:""}},[a("confirm",{ref:"confirm"}),a("v-flex",{attrs:{md12:""}},[a("h1",{staticClass:"mx-0"},[t._v("My Dashboard")])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"dummy-dashboard",attrs:{md12:"","px-2":""}},[a("img",{attrs:{src:r("8699")},on:{click:t.goToMockup}})])],1)],1)},q=[],W=(r("96cf"),r("3b8d")),Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{style:{zIndex:200},attrs:{id:"Confirm","content-class":"intake-dialog","max-width":"390",persistent:t.persistantValue},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:t.color,dense:"",flat:""}},[r("v-icon",[t._v(t._s(t.icon))]),r("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))])],1),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}]},[t._v(t._s(t.message))]),r("v-card-actions",{staticClass:"pt-0 clear-margin"},[r("v-spacer"),r("v-btn",{attrs:{color:"primary darken-1",flat:"flat"},nativeOn:{click:function(e){return t.agree(e)}}},[t._v("Yes")]),r("v-btn",{attrs:{color:"grey",flat:"flat"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("Cancel")])],1)],1)],1)},z=[],H=(r("725a"),{data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,type:null,color:"primary",icon:null,persistantValue:!1}},methods:{revertback:function(){this.$emit("close")},open:function(t,e){var r=this;return this.dialog=!0,"info"===t||"infoAssign"===t?("infoAssign"===t&&(this.persistantValue=!0),this.title="Confirmation",""===e?this.message="Are you sure to confirm this?":(this.message=e,this.color="primary",this.icon="info")):"danger"===t?(this.title="Delete",this.message=e||"Are you sure you want to delete this record?",this.color="red",this.icon="delete"):"warning"===t&&(this.title="Warning",this.message="Are you sure to delete this?",this.color="primary",this.icon="warning"),new Promise((function(t,e){r.resolve=t,r.reject=e}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}}),Q=H,G=r("b0af"),J=r("99d9"),X=r("169a"),Z=Object(x["a"])(Q,Y,z,!1,null,null,null),K=Z.exports;j()(Z,{VBtn:g["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VDialog:X["a"],VIcon:O["a"],VSpacer:N["a"],VToolbar:E["a"],VToolbarTitle:B["a"]});r("b0fb");var tt={components:{Confirm:K},methods:{goToMockup:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("info","This is an upcoming feature, Would you like to see an interactive mockup for the upcoming dashboard page?");case 2:if(!t.sent){t.next=4;break}window.open("https://xd.adobe.com/view/cf0b2fe2-65dd-4ecd-4085-bd256d678250-b93a/?fullscreen","_blank");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},et=tt,rt=r("0e8f"),at=Object(x["a"])(et,U,q,!1,null,null,null);at.exports;j()(at,{VContainer:C["a"],VFlex:rt["a"],VLayout:P["a"]});var nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{"d-flex":"","align-center":"","justify-center":"",row:"",wrap:""}},[t._v("\n    Authorizing...\n  ")])],1)},st=[],it={data:function(){return{valid:!0}},methods:{}},ot=it,ct=Object(x["a"])(ot,nt,st,!1,null,null,null),lt=ct.exports;j()(ct,{VContainer:C["a"],VLayout:P["a"]});var ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"project-form"},[r("snackbar",{ref:"snackbar"}),r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:""}},[[r("v-expansion-panel",{staticClass:"mt-3",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("label",{staticClass:"sub-header-large"},[t._v("Project Overview")])])]},proxy:!0}])},[r("v-card",{staticClass:"baseinfostyle"},[r("v-card-text",[r("project-base-info",{ref:"projectBaseInfo",attrs:{project:t.project}})],1)],1),r("v-spacer"),r("v-spacer")],1)],1),r("v-expansion-panel",{staticClass:"mt-3",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("label",{staticClass:"sub-header-large"},[t._v("Notes")])])]},proxy:!0}])},[r("v-card",[r("div",{staticClass:"note-div"},[r("v-card-text",[t._l(t.$store.state.allProjectNotes,(function(e){return r("v-layout",{key:e.id},[e.parentId?t._e():r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"row"},[r("div",{staticClass:"column"},[r("div",{staticClass:"card"},[r("div",{staticClass:"headerdivstyle"},[r("span",{staticClass:"headerspan",domProps:{innerHTML:t._s(e.user.contact.fullName)}}),r("span",{staticClass:"headerdate",domProps:{innerHTML:t._s(new Date(e.noteTime).toString().slice(0,15))}})]),r("br"),r("span",{staticClass:"main-note",domProps:{innerHTML:t._s(e.note)}}),r("br"),t._l(t.$store.state.allProjectNotes,(function(a){return r("v-layout",{key:a.id},[a.parentId&&a.parentId==e.id?r("div",{staticStyle:{width:"100%"}},[r("br"),r("span",{staticClass:"reply-person",domProps:{innerHTML:t._s(a.user.contact.fullName)}}),r("span",{staticClass:"reply-note-time",domProps:{innerHTML:t._s(new Date(a.noteTime).toString().slice(0,15))}}),r("br"),r("span",{staticClass:"reply-note",domProps:{innerHTML:t._s(a.note)}})]):t._e()])})),r("v-layout",{staticClass:"replylayout"},[r("v-btn",{staticClass:"replybutton",attrs:{flat:"",large:"",color:"primary"},on:{click:function(r){return t.replynotes(e.id,e.user.contact.fullName)}}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}})]),t._v("\n                                      REPLY\n                                    ")])],1)],2)])]),r("br"),r("project-notes",{ref:e.id,refInFor:!0})],1)],1)],1)})),r("v-flex",{attrs:{md12:""}},[r("project-notes",{ref:"projectNoteNew",on:{closeNotes:t.closeNotes}}),r("v-flex",{staticClass:"create-note",attrs:{xs3:"","offset-xs9":"","align-end":""}},[r("v-btn",{attrs:{color:"btnPrimary",dark:""},on:{click:function(e){return t.newnotes(1)}}},[t._v("Create Note")])],1)],1)],2)],1)])],1)],1),r("div",[r("v-tabs",{staticClass:"mt-4",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[r("v-tab",{attrs:{ripple:"",href:"#rfx"}},[t._v("RFx Type and Phase")]),r("v-tab",{attrs:{ripple:"",href:"#contacts"}},[t._v("Contacts")]),t.project.client&&!t.project.client.isNonMinistry?r("v-tab",{attrs:{ripple:"",href:"#finance"}},[t._v("Finance Codes")]):t._e(),r("v-tab",{attrs:{ripple:"",href:"#risk"},on:{click:function(e){return t.initializeRisk()}}},[t._v("Risk")]),r("v-tab",{attrs:{ripple:"",id:"procId",href:"#procurement"}},[t._v("Procurement Log")]),"procurement"===t.activeTab?r("v-flex",{attrs:{"justify-end":"","align-end":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"prepend-inner-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1):t._e(),r("v-tab-item",{attrs:{value:"rfx"}},[t._l(t.projectRfxData,(function(e,a){return r("v-expansion-panel",{key:e.id,staticClass:"rfx-summary-panel",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[t._v("RFx Type and Phase #"+t._s(a+1))])])],1)]},proxy:!0}],null,!0)},[r("v-card",[r("v-card-text",[r("project-rfx",{ref:"rfxForm",refInFor:!0,attrs:{rfxData:e,project:t.project}})],1)],1)],1)],1)})),r("v-card",[r("v-flex",{attrs:{xs12:""}},[r("div",[r("v-flex",{attrs:{md12:"","py-3":"","px-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:t.addNewRFx}},[r("v-icon",{attrs:{left:"",dark:""}},[t._v("add")]),t._v("Add Another RFx Type\n                          ")],1)],1)],1)])],1)],2),r("v-tab-item",{staticClass:"contacts",attrs:{value:"contacts"}},[r("v-card",[r("v-card-text",[r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[t._v("Client Lead")]),r("project-contact-info",{ref:"projectLead",attrs:{contact:t.projectContactData("clientlead"),contactNameLabel:"Client Lead Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[t._v("Executive Sponsor")]),r("project-contact-info",{ref:"projectSponsor",attrs:{contact:t.projectContactData("clientsponsor"),contactNameLabel:"Executive Sponsor Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[t._v("Financial Contact")]),r("project-contact-info",{ref:"projectFinancier",attrs:{contact:t.projectContactData("clientfinance"),contactNameLabel:"Financial Contact Name"}})],1),t._l(t.AllContactData,(function(e,a){return r("v-flex",{key:a,attrs:{xs12:"",md6:"","my-3":"",value:0}},[r("h3",{staticClass:"v-form-container"},[t._v("Additional Contact")]),r("project-additional-contact-info",{ref:"additionalcontactinfo",refInFor:!0,attrs:{additionalContact:e,contact:e,contactNameLabel:"Contact Name",isRequired:!1}})],1)}))],2),r("v-card",[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"contact-button-div"},[r("v-btn",{attrs:{color:"primary"},on:{click:t.addNewContact}},[r("v-icon",{attrs:{left:"",dark:""}},[t._v("add")]),t._v("Add Contacts\n                              ")],1)],1)])],1),r("v-layout",[r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:t.saveProjectContacts}},[t._v("Save")])],1)],1)])])],1)],1)])],1)],1),r("v-tab-item",{attrs:{value:"finance"}},[r("v-card",[r("v-card-text",[t.project&&t.project.client?r("project-finance-info",{ref:"projectFinanceInfo",attrs:{financeInfo:t.project.client}}):t._e(),r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:t.saveFinanceCodes}},[t._v("Save")])],1)],1)])])],1)],1)],1),r("v-tab-item",{attrs:{value:"risk"}},[r("v-card",[r("v-card-text",[t.project?r("project-risk-assessment",{ref:"projectRiskAssessment",attrs:{projectId:t.projectId}}):t._e()],1)],1)],1),r("v-tab-item",{attrs:{value:"procurement"}},[r("v-expansion-panel",{staticClass:"mt-4",attrs:{value:0}},[r("v-expansion-panel-content",[r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h4",{staticClass:"projects-header"},[t._v("\n                              Procurement Log\n                            ")])]),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("procurement-log",{ref:"ProcurementLog",on:{close:t.close}}),r("v-btn",{staticClass:"add-timesheet-button",attrs:{color:"btnPrimary",dark:""},on:{click:t.newProcurementLog}},[t._v("Add Log")])],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("procurement-log-table",{ref:"procurementtable",attrs:{search:t.search}})],1)],1)],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1)],1)},dt=[],ft=(r("f576"),r("28a5"),r("768b")),mt=r("7bb1"),pt=r("6f86"),vt=r("d225"),ht=r("b0b4"),bt=r("308d"),xt=r("6bb5"),yt=r("013f"),jt=r("4e2b"),kt=r("e8d8"),gt=function(t){function e(){var t,r;Object(vt["a"])(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(bt["a"])(this,(t=Object(xt["a"])(e)).call.apply(t,[this].concat(n))),Object(l["a"])(Object(yt["a"])(r),"id",""),Object(l["a"])(Object(yt["a"])(r),"contactType",""),Object(l["a"])(Object(yt["a"])(r),"userId",""),Object(l["a"])(Object(yt["a"])(r),"fullName",""),Object(l["a"])(Object(yt["a"])(r),"orgName",""),Object(l["a"])(Object(yt["a"])(r),"orgPosition",""),Object(l["a"])(Object(yt["a"])(r),"email",""),Object(l["a"])(Object(yt["a"])(r),"phoneNumber",""),Object(l["a"])(Object(yt["a"])(r),"addressLine1",""),Object(l["a"])(Object(yt["a"])(r),"addressLine2",""),Object(l["a"])(Object(yt["a"])(r),"city",""),Object(l["a"])(Object(yt["a"])(r),"province",""),Object(l["a"])(Object(yt["a"])(r),"country",""),Object(l["a"])(Object(yt["a"])(r),"postalCode",""),Object(l["a"])(Object(yt["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(yt["a"])(r),"dateModified",new Date),r}return Object(jt["a"])(e,t),Object(ht["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,kt["a"].setProperties(t,r)),r}}]),e}(kt["a"]),Ct=function(t){function e(){var t,r;Object(vt["a"])(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(bt["a"])(this,(t=Object(xt["a"])(e)).call.apply(t,[this].concat(n))),Object(l["a"])(Object(yt["a"])(r),"id",""),Object(l["a"])(Object(yt["a"])(r),"roleName",""),Object(l["a"])(Object(yt["a"])(r),"contactType",""),Object(l["a"])(Object(yt["a"])(r),"userId",""),Object(l["a"])(Object(yt["a"])(r),"fullName",""),Object(l["a"])(Object(yt["a"])(r),"orgName",""),Object(l["a"])(Object(yt["a"])(r),"orgPosition",""),Object(l["a"])(Object(yt["a"])(r),"email",""),Object(l["a"])(Object(yt["a"])(r),"phoneNumber",""),Object(l["a"])(Object(yt["a"])(r),"addressLine1",""),Object(l["a"])(Object(yt["a"])(r),"addressLine2",""),Object(l["a"])(Object(yt["a"])(r),"city",""),Object(l["a"])(Object(yt["a"])(r),"province",""),Object(l["a"])(Object(yt["a"])(r),"country",""),Object(l["a"])(Object(yt["a"])(r),"postalCode",""),Object(l["a"])(Object(yt["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(yt["a"])(r),"dateModified",new Date),r}return Object(jt["a"])(e,t),Object(ht["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,kt["a"].setProperties(t,r)),r}}]),e}(kt["a"]),_t=r("c0a4"),wt=r.n(_t),Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"ProcurementLog","max-width":"50%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-form",{ref:"ProcurementLogs",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",[r("v-card-text",{staticClass:"card-contents"},[r("v-flex",{attrs:{md12:"",row:"",wrap:""}},[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Add New Log")]),r("v-spacer"),r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},on:{click:function(e){return t.closelog()}}},[r("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])],1),r("v-divider",{staticClass:"header-divider"})],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{items:t.itemList,"item-value":"id","item-text":"logType",label:"Select a Log Type"},model:{value:t.logType,callback:function(e){t.logType=e},expression:"logType"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Risk Owner"},model:{value:t.riskOwnerName,callback:function(e){t.riskOwnerName=e},expression:"riskOwnerName"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{attrs:{name:"description-of-the-issue",label:"Description of the Issue","no-resize":""},model:{value:t.issueDescription,callback:function(e){t.issueDescription=e},expression:"issueDescription"}})],1)]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({attrs:{readonly:"",rules:t.requiredRule,label:"Date to Client","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dateToClient,callback:function(e){t.dateToClient=e},expression:"dateToClient"}},a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(e){t.menu1=!1}},model:{value:t.dateToClient,callback:function(e){t.dateToClient=e},expression:"dateToClient"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{items:t.notificationMethodList,"item-value":"id","item-text":"notificationMethod",label:"Method of Notification"},model:{value:t.notificationMethod,callback:function(e){t.notificationMethod=e},expression:"notificationMethod"}})],1)])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:t.rfxPhases,label:"Current Phase","item-value":"rfxPhaseName","item-text":"rfxPhaseName"},model:{value:t.phaseImpactName,callback:function(e){t.phaseImpactName=e},expression:"phaseImpactName"}})],1)])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Client Decision"},model:{value:t.clientDecision,callback:function(e){t.clientDecision=e},expression:"clientDecision"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({attrs:{readonly:"",rules:t.requiredRule,label:"Follow Up Date","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.followUpDate,callback:function(e){t.followUpDate=e},expression:"followUpDate"}},a))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(e){t.menu2=!1}},model:{value:t.followUpDate,callback:function(e){t.followUpDate=e},expression:"followUpDate"}})],1)],1)])],1),r("v-flex",{attrs:{md12:""}},[r("v-flex",{staticClass:"buttondiv",attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:t.saveProcurementLog}},[t._v("ADD LOG")])],1)],1)],1)],1)],1)],1)],1)],1)},Pt=[],St=(r("7514"),r("085a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-snackbar",{class:[t.top?"snackbar-top":""],attrs:{top:"",fixed:"","auto-height":"",value:t.open,color:t.color}},[t.haveMultipleErrors?r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.messages,(function(e){return r("v-flex",{key:e.message,attrs:{xs12:"","text-xs-center":"","py-0":""}},[r("v-icon",{attrs:{color:"white"}},[t._v(t._s(t.icon))]),r("span",{staticStyle:{"vertical-align":"text-bottom"}},[t._v(t._s(e.message))])],1)})),1):r("div",[r("v-icon",{staticClass:"snackbar-v-icon",attrs:{color:"white"}},[t._v(t._s(t.icon))]),r("span",{staticStyle:{"vertical-align":"text-bottom"}},[t._v(t._s(t.message))])],1)],1)}),It=[],Rt=r("5118"),$t={data:function(){return{top:!1,message:null,open:!1,color:null,icon:null,haveMultipleErrors:!1,messages:[]}},methods:{displaySnackbar:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.haveMultipleErrors=!1,this.top=!1,"success"===e?(this.color="success",this.icon="check_circle"):"error"===e?(this.color="error",this.icon="error"):"info"===e?(this.color="info",this.icon="info"):"warning"===e&&(this.color="warning",this.icon="warning"),this.open=!0,this.message=r,Object(Rt["setTimeout"])((function(){a.open=!1}),3e3);case 6:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),displaySnackbarTop:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.top=!0,this.haveMultipleErrors=!1,"success"===e?(this.color="success",this.icon="check_circle"):"error"===e?(this.color="error",this.icon="error"):"info"===e?(this.color="info",this.icon="info"):"warning"===e&&(this.color="warning",this.icon="warning"),this.open=!0,this.message=r,Object(Rt["setTimeout"])((function(){a.open=!1}),3e3);case 6:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),displayMultipleErrorSnackbar:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"error"===e&&(this.haveMultipleErrors=!0,this.color="error",this.icon="error",this.messages=r,this.open=!0),Object(Rt["setTimeout"])((function(){a.open=!1}),3e3);case 2:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()}},Dt=$t,Tt=(r("9a1c"),r("2db4")),Nt=Object(x["a"])(Dt,St,It,!1,null,null,null),Vt=Nt.exports;j()(Nt,{VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VSnackbar:Tt["a"]});var Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showSpinner?r("div",{staticClass:"text-xs-center overlay"},[r("v-progress-circular",{attrs:{size:50,indeterminate:"",color:"primary"}})],1):t._e()},Lt=[],Bt=(r("fb94"),{data:function(){return{showSpinner:!1}},methods:{open:function(){this.showSpinner=!0},close:function(){this.showSpinner=!1}}}),At=Bt,Ft=r("490a"),Mt=Object(x["a"])(At,Et,Lt,!1,null,null,null),Ut=Mt.exports;function qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}j()(Mt,{VProgressCircular:Ft["a"]});var Yt={computed:{projectRfx:function(){return this.$store.state.activeProjectRfxData},rfxPhases:function(){return this.$store.state.rfxPhases}},components:{Snackbar:Vt,Spinner:Ut},data:function(){return this.initData()},watch:{},props:{timeEntry:Object},methods:{closelog:function(){this.initData(),this.$emit("close"),this.dialog=!1},saveProcurementLog:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$store.state.activeUser.refId,r=this.$store.state.users.find((function(t){return t.referenceId===e})),a={logType:this.logType,riskOwner:this.riskOwnerName,descriptionOfIssue:this.issueDescription,dateToClient:""===this.dateToClient?void 0:this.dateToClient,notificationMethod:this.notificationMethod,phaseImpactName:this.phaseImpactName,clientDecision:this.clientDecision,followUpDate:""===this.followUpDate?void 0:this.followUpDate,projectId:this.$store.state.activeProject.id,isResolved:this.isResolved,userId:r.id},!this.id){t.next=9;break}return a.id=this.id,t.next=7,this.$store.dispatch("updateProctLog",{procurementlog:a}).then((function(){n.$refs.snackbar.displaySnackbar("success","Updated");var t=n.$router.currentRoute.params,e=t.id||void 0;n.$store.dispatch("fetchAllProcurementLog",{id:e}),n.closeDialog()}),(function(t){try{var e=t.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",e)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 7:t.next=11;break;case 9:return t.next=11,this.$store.dispatch("updateProcurementLog",{procurementlog:a}).then((function(){n.$refs.snackbar.displaySnackbar("success","Updated"),n.closeDialog()}),(function(t){try{var e=t.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",e)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),parseDate:function(t){if(!t)return null;var e=t.split("/"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},open:function(){this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},openWithValues:function(t){this.id=t.id,this.logType=t.logType,this.riskOwnerName=t.riskOwner,this.issueDescription=t.descriptionOfIssue,this.dateToClient=t.dateToClient.substring(0,10),this.notificationMethod=t.notificationMethod,this.phaseImpactName=t.phaseImpactName,this.clientDecision=t.clientDecision,this.followUpDate=t.followUpDate.substring(0,10),this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},closeDialog:function(){this.issueDescription="",this.$emit("close"),this.dialog=!1},reset:function(){this.dateToClient="",this.followUpDate="",this.riskOwnerName="",this.issueDescription="",this.clientDecision="",this.notificationMethod="",this.phaseImpactName="",this.logType=""},initData:function(){var t=Object.assign({},this.$props.timeEntry);t.userId=this.$store.state.activeUser.id;return{id:void 0,activeTab:"weekly",recordType:1,valid:!0,requiredRule:[function(t){return!!t||"This field required"}],requireRadioButtondRule:[function(t){return(t||!t)&&null!=t||"This field required"}],dialog:!1,menu1:!1,menu2:!1,form:Wt({},t),dateFormatted:void 0,dateToClient:"",followUpDate:"",phaseImpactName:"",riskOwnerName:"",issueDescription:"",isResolved:!1,logType:"",itemList:[{id:"Contact Update",logType:"Contact Update"},{id:"RFX Update",logType:"RFX Update"},{id:"Project Lead",logType:"Project Lead"},{id:"Risk Assessment",logType:"Risk Assessment"}],notificationMethod:"",notificationMethodList:[{id:"Phone",notificationMethod:"Phone"},{id:"Email",notificationMethod:"Email"},{id:"In person",notificationMethod:"In person"}],clientDecision:""}}}},zt=Yt,Ht=(r("e007"),r("12b2")),Qt=r("2e4b"),Gt=r("4bd4"),Jt=r("e449"),Xt=r("b56d"),Zt=r("2677"),Kt=r("a844"),te=Object(x["a"])(zt,Ot,Pt,!1,null,"854dd630",null),ee=te.exports;j()(te,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VCardTitle:Ht["a"],VDatePicker:Qt["a"],VDialog:X["a"],VDivider:w["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VMenu:Jt["a"],VSelect:Xt["a"],VSpacer:N["a"],VTextField:Zt["a"],VTextarea:Kt["a"]});var re,ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("v-form",{ref:"projectBaseInfo",attrs:{id:"projectBaseInfo","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":""}},[r("v-btn",{attrs:{disabled:!t.valid||t.saveProjectLoading,loading:t.saveProjectLoading,color:"primary"},on:{click:t.onSave}},[t._v("Save")])],1)],1)])]),r("v-flex",{attrs:{xs12:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-checkbox",{staticClass:"team-wide-check",attrs:{label:"This is a Teamwide Project"},on:{change:function(e){return t.onTeamWideProject()}},model:{value:t.form.teamWideProject,callback:function(e){t.$set(t.form,"teamWideProject",e)},expression:"form.teamWideProject"}}),r("v-combobox",{attrs:{items:t.mouList,label:"Assign or Create MOU","persistent-hint":"","item-text":"name","search-input":t.mouSearch},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createMOU(e)},"update:searchInput":function(e){t.mouSearch=e},"update:search-input":function(e){t.mouSearch=e}},scopedSlots:t._u([t.mouSearch&&t.mouSearch.length?{key:"no-data",fn:function(){return[r("v-list-tile",[r("v-list-tile-content",[r("v-list-tile-title",[t._v('\n                      No results matching "'),r("strong",[t._v(t._s(t.mouSearch))]),t._v('".\n                      Press '),r("kbd",[t._v("enter")]),t._v(" to create a new one\n                    ")])],1)],1)]},proxy:!0}:null],null,!0),model:{value:t.project.mou,callback:function(e){t.$set(t.project,"mou",e)},expression:"project.mou"}})],1)])],1),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Project Name"},model:{value:t.form.projectName,callback:function(e){t.$set(t.form,"projectName",e)},expression:"form.projectName"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container pl-0"},[r("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({staticClass:"required",attrs:{rules:t.requiredRule,label:"Project Deadline","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.form.completionDate,callback:function(e){t.$set(t.form,"completionDate",e)},expression:"form.completionDate"}},a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.form.completionDate,callback:function(e){t.$set(t.form,"completionDate",e)},expression:"form.completionDate"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-container",{staticStyle:{padding:"0px !important"},attrs:{fluid:"",row:"",wrap:"","align-start":"","justify-end":"","fill-height":""}},[r("v-flex",{attrs:{md3:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"2%"}},[t._v("Non-Ministry")])]),r("v-flex",{attrs:{md1:""}},[r("v-checkbox",{model:{value:t.form.client.isNonMinistry,callback:function(e){t.$set(t.form.client,"isNonMinistry",e)},expression:"form.client.isNonMinistry"}})],1),r("v-flex",{attrs:{md8:""}},[t.form.client.isNonMinistry?r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Non Ministry Name"},model:{value:t.form.client.nonMinistryName,callback:function(e){t.$set(t.form.client,"nonMinistryName",e)},expression:"form.client.nonMinistryName"}}):t._e(),t.form.client.isNonMinistry?t._e():r("v-select",{staticClass:"required",attrs:{items:t.ministries,label:"Ministry",rules:t.requiredRule,"item-value":"id","item-text":"ministryName"},model:{value:t.form.client.ministry.id,callback:function(e){t.$set(t.form.client.ministry,"id",e)},expression:"form.client.ministry.id"}})],1)],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Branch",readonly:""},model:{value:t.form.client.orgDivision,callback:function(e){t.$set(t.form.client,"orgDivision",e)},expression:"form.client.orgDivision"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.amountRule,"prepend-inner-icon":"attach_money",label:"Contract Amount",oninput:"validity.valid||(value='');",value:t._f("withCommas")(t.form.contractValue)},on:{blur:function(e){return t.form.contractValue=parseFloat(e.target.value.toString().replace(/,/g,""))}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{rules:t.mouRule,"prepend-inner-icon":"attach_money",label:"MOU Amount",oninput:"validity.valid||(value='');",value:t._f("withCommas")(t.form.mouAmount)},on:{blur:function(e){return t.form.mouAmount=parseFloat(e.target.value.toString().replace(/,/g,""))}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{class:t.form.teamWideProject?"":"required",attrs:{disabled:t.form.teamWideProject,items:t.userList,rules:t.requiredTeamRule,label:"Project Lead","item-value":"id","item-text":"contact.fullName"},nativeOn:{click:function(e){return t.getProjectLead(t.form.leadUserId)}},model:{value:t.form.leadUserId,callback:function(e){t.$set(t.form,"leadUserId",e)},expression:"form.leadUserId"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{disabled:t.form.teamWideProject,items:t.userList,label:"Project Backup","item-value":"id","item-text":"contact.fullName"},model:{value:t.form.backupUserId,callback:function(e){t.$set(t.form,"backupUserId",e)},expression:"form.backupUserId"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",[r("v-container",{attrs:{fluid:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"4%"}},[t._v("Reprocurement?")]),r("v-radio-group",{attrs:{row:""},model:{value:t.form.isReprocurement,callback:function(e){t.$set(t.form,"isReprocurement",e)},expression:"form.isReprocurement"}},[r("v-radio",{attrs:{label:" Yes",value:!0,"form.isReprocurement":""}}),r("v-radio",{attrs:{label:" No",value:!1,"form.isReprocurement":""}})],1)],1)],1)]),t.form.isReprocurement?r("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({staticClass:"required",attrs:{rules:t.requiredRule,label:"Date of Procurement","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.form.dateOfReprocurement,callback:function(e){t.$set(t.form,"dateOfReprocurement",e)},expression:"form.dateOfReprocurement"}},a))]}}],null,!1,1003440785),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu2=!1}},model:{value:t.form.dateOfReprocurement,callback:function(e){t.$set(t.form,"dateOfReprocurement",e)},expression:"form.dateOfReprocurement"}})],1):t._e(),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[t.form.isReprocurement?r("v-textarea",{staticClass:"required",attrs:{name:"background",label:"Background of project","no-resize":"",rows:"4",rules:t.requiredRule},model:{value:t.form.previousContractBackground,callback:function(e){t.$set(t.form,"previousContractBackground",e)},expression:"form.previousContractBackground"}}):t._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"impact",label:"Impact if Project fails","no-resize":"",rows:"4",rules:t.requiredRule},model:{value:t.form.projectFailImpact,callback:function(e){t.$set(t.form,"projectFailImpact",e)},expression:"form.projectFailImpact"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"success",label:"Overview of success","no-resize":"",rows:"4",rules:t.requiredRule},model:{value:t.form.projectSuccess,callback:function(e){t.$set(t.form,"projectSuccess",e)},expression:"form.projectSuccess"}})],1)])],1)],1)},ne=[],se=(r("3d84"),r("aae1")),ie=r("4603"),oe=r("99e3");function ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ue={components:{Snackbar:Vt},props:{nextPanel:Function,panelName:String,project:Object,ministry:Object},computed:{dateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors},userList:function(){return this.$store.state.users},ministries:function(){return this.$store.state.ministries},mouList:function(){return this.$store.state.mouList}},data:function(){var t=this,e=Object.assign({},this.$props.project),r=e.projectSector||null;r||(e.projectSector=new ie["a"]);var a=e.client||null;return a||(e.client=new oe["a"]),{valid:!0,requiredTeamRule:[function(e){return!!(void 0!==e&&""!==e&&e||!t.form||t.form.teamWideProject)||"This field is required"}],requiredRule:[function(t){return!!t||"This field is required"}],form:le({},e),selectedLeadUser:"",oldLeadUserID:void 0,oldBackupUserID:void 0,menu1:!1,menu2:!1,ministryname:e.client.ministry?e.client.ministry.id:e.client.nonMinistryName,saveProjectLoading:!1,ministryInformation:this.$store.state.ministryInformation,mouSearch:null,amountRule:[function(t){if(!t)return"This field is required";if(0===t||"0"===t)return"Field cannot be zero";var e=t.toString().match(/^[0-9,_.-]*$/g,"");return!!e||"Field must just be a number."}],mouRule:[function(t){if(!t)return!0;var e=t.toString().match(/^[0-9,_.-]*$/g,"");return!!e||"Field must just be a number."}]}},watch:{valid:function(t){this.$store.state.ministryInformation=t},date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(t){this.form=t;var e=this.form.projectSector||null;e||(this.form.projectSector=new ie["a"])},ministry:function(t){this.form=t;var e=this.form.client.ministry||null;e||(this.form.client.ministry=new se["a"])}},methods:(re={thousandSeprator:function(t){return""!==t||void 0!==t||0!==t||"0"!==t||null!==t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t},onTeamWideProject:function(){this.form.teamWideProject?(this.oldLeadUserID=this.form.leadUserId,this.oldBackupUserID=this.form.backupUserId,this.form.leadUserId=void 0,this.form.backupUserId=void 0):(this.form.leadUserId=this.oldLeadUserID,this.form.backupUserId=this.oldBackupUserID),this.$refs.projectBaseInfo.resetValidation()},formatDate:function(t){if(!t)return null;var e=t.split("-"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},onBlurNumber:function(t){this.visible=!1,this.temp=this.amount,this.amount=this.thousandSeprator(this.amount)},onFocusText:function(){this.visible=!0,this.amount=this.temp}},Object(l["a"])(re,"thousandSeprator",(function(t){return""!==t||void 0!==t||0!==t||"0"!==t||null!==t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t})),Object(l["a"])(re,"parseDate",(function(t){if(!t)return null;var e=t.split("/"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))})),Object(l["a"])(re,"getProjectLead",(function(t){this.selectedLeadUser=t})),Object(l["a"])(re,"onSave",(function(){var t=this,e=this;if(this.$refs.projectBaseInfo.validate()){for(var r=0;r<this.$store.state.ministries.length;r++)this.form.client&&this.form.client.ministry&&this.$store.state.ministries[r].id==this.form.client.ministry.id&&(this.form.client.ministry.ministryName=this.$store.state.ministries[r].ministryName);this.form.client.isNonMinistry||(this.form.client.NonMinistryName=void 0),this.$store.state.ministryInformation=!0;var a=Object.assign({},this.form);this.saveProjectLoading=!0,this.$store.dispatch("updateProject",a).then((function(){t.saveProjectLoading=!1,e.$refs.snackbar.displaySnackbar("success","Updated"),e.$store.dispatch("fetchProjects"),e.$store.dispatch("fetchAllProjects")}),(function(r){if(t.saveProjectLoading=!1,r&&r.response&&r.response.data&&r.response.data.error){e.form.leadUserId=e.selectedLeadUser;var a=r.response.data.error.message;e.$refs.snackbar.displaySnackbar("error",a)}else e.form.leadUserId=e.selectedLeadUser,e.$refs.snackbar.displaySnackbar("error","Failed to update project.")}))}})),Object(l["a"])(re,"createMOU",function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.project.mou&&" "!==this.project.mou){t.next=2;break}return t.abrupt("return");case 2:if(!this.project.mou){t.next=9;break}if(e=this.$store.state.mouList.find((function(t){return t.name===r.project.mou})),"undefined"!==typeof e){t.next=9;break}if(e=this.$store.state.mouList.find((function(t){return t.name===r.project.mou.name})),"undefined"!==typeof e){t.next=9;break}return t.next=9,this.$store.dispatch("createMOU",{name:this.project.mou});case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()),Object(l["a"])(re,"fetchData",(function(){this.$store.dispatch("fetchUsers")})),re),created:function(){this.fetchData()}},de=ue,fe=r("ac7c"),me=r("2b5d"),pe=r("67b6"),ve=r("43a6"),he=Object(x["a"])(de,ae,ne,!1,null,null,null),be=he.exports;j()(he,{VBtn:g["a"],VCheckbox:fe["a"],VCombobox:me["a"],VContainer:C["a"],VDatePicker:Qt["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VListTile:R["a"],VListTileContent:D["a"],VListTileTitle:D["c"],VMenu:Jt["a"],VRadio:pe["a"],VRadioGroup:ve["a"],VSelect:Xt["a"],VTextField:Zt["a"],VTextarea:Kt["a"]});var xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"newNote","max-width":"40%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-form",{ref:"newNotes",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",{staticStyle:{width:"100%"}},[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{row:"",wrap:""}},[t.replyNoteName?r("v-flex",{staticClass:"replyheaderdiv",attrs:{md12:""}},[r("div",{staticClass:"replytoheader"},[t._v("Reply to: "+t._s(t.replyNoteName))])]):t._e(),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{attrs:{name:"project-description",label:"Please input your note below","no-resize":""},model:{value:t.userNote,callback:function(e){t.userNote=e},expression:"userNote"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:function(e){return t.savenote()}}},[t._v("Save Note")])],1)],1)],1)],1)],1)],1)],1)],1)},ye=[],je={computed:{projectRfx:function(){return this.$store.state.activeProjectRfxData}},components:{Snackbar:Vt,Spinner:Ut},data:function(){return this.initData()},watch:{},props:{timeEntry:Object},methods:{savenote:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.activeUser.refId,r=this.$store.state.users.find((function(t){return t.referenceId===e})),1!=this.flag&&(this.parentNoteId=this.flag),a={note:this.userNote,projectId:this.$store.state.activeProject.id,userId:r.id,parentId:this.parentNoteId},t.next=6,this.$store.dispatch("addProjectNotes",{projectNotes:a}).then((function(){var t=n.$router.currentRoute.params,e=t.id||void 0;n.$store.dispatch("fetchAllProjectNotes",{id:e}),n.$refs.snackbar.displaySnackbar("success","Updated"),n.closeDialog()}),(function(t){try{var e=t.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",e)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),parseDate:function(t){if(!t)return null;var e=t.split("/"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},open:function(t,e){this.replyNoteName=e,this.flag=t,this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},closeDialog:function(){this.$emit("closeNotes"),this.dialog=!1},reset:function(){},initData:function(){var t=Object.assign({},this.$props.timeEntry);t.userId=this.$store.state.activeUser.id;return{flag:void 0,valid:!0,requiredRule:[function(t){return!!t||"This field required"}],requireRadioButtondRule:[function(t){return(t||!t)&&null!=t||"This field required"}],dialog:!1,userNote:"",replyNoteName:void 0,parentNoteId:void 0}}}},ke=je,ge=(r("7c7a"),Object(x["a"])(ke,xe,ye,!1,null,"779e98e0",null)),Ce=ge.exports;j()(ge,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VDialog:X["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VTextarea:Kt["a"]});var _e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-form",{ref:"projectContact",attrs:{id:"projectSponsor projectLead","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:t.inputClass,attrs:{rules:t.requiredRule,label:t.contactNameLabel},model:{value:t.form.fullName,callback:function(e){t.$set(t.form,"fullName",e)},expression:"form.fullName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:t.inputClass,attrs:{rules:t.emailRules,label:"Email Address"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:t.inputClass,attrs:{rules:t.requiredRule,label:"Organization"},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:t.inputClass,attrs:{rules:t.requiredRule,label:"Position"},model:{value:t.form.orgPosition,callback:function(e){t.$set(t.form,"orgPosition",e)},expression:"form.orgPosition"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:t.inputClass,attrs:{rules:t.phoneRule,label:"Phone Number",mask:"phone"},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1)])],1)],1)},we=[];r("c911");function Oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Se={components:{},props:{contact:Object,contactNameLabel:String,isRequired:Boolean},data:function(){var t=this,e=Object.assign({},new gt,this.$props.contact);return{valid:!0,requiredRule:this.$props.isRequired?[function(t){return!!t||"This field is required"}]:[],emailPattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,emailRules:this.$props.isRequired?[function(t){return!!t||"This field is required"},function(e){return t.emailPattern.test(e)||"Email must be valid"}]:[function(e){return!e||t.emailPattern.test(e)||"Email must be valid"}],phoneRule:this.$props.isRequired?[function(t){return!!t||"This field is required"},function(t){return t.length>=10||"Invalid Phone"}]:[function(t){return!t||t.length>=10||"Invalid Phone"}],contactInformation:this.$store.state.contactInformation,form:Pe({},e),inputClass:this.$props.isRequired?"required":""}},watch:{valid:function(t){this.$store.state.contactInformation=t},date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(t){this.form=t||new gt}},methods:{onNextClicked:function(){return this.$refs.projectContact.validate()?this.$store.state.contactInformation=!0:this.$store.state.contactInformation=!1,this.$store.state.contactInformation},reset:function(){this.$refs.projectContact.reset()},Validate:function(){this.$refs.projectContact.validate()}}},Ie=Se,Re=Object(x["a"])(Ie,_e,we,!1,null,null,null),$e=Re.exports;j()(Re,{VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VTextField:Zt["a"]});var De=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("v-form",{ref:"form",attrs:{id:"project-rfx","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{xs12:"","px-4":""}},[r("div",{staticClass:"v-form-actions"},[r("v-btn",{staticClass:"ma-0 save-rfx-btn",attrs:{color:"primary",disabled:t.saveRFxBtnLoading,loading:t.saveRFxBtnLoading},on:{click:t.saveRFxForm}},[t._v("Save")])],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:t.rfxTypes,rules:t.required,label:"RFx Type","item-value":"id","item-text":"rfxTypeName"},model:{value:t.rfxForm.rfxType.id,callback:function(e){t.$set(t.rfxForm.rfxType,"id",e)},expression:"rfxForm.rfxType.id"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:t.rfxPhases,rules:t.required,label:"Current Phase","item-value":"id","item-text":"rfxPhaseName"},model:{value:t.rfxForm.rfxPhase.id,callback:function(e){t.$set(t.rfxForm.rfxPhase,"id",e)},expression:"rfxForm.rfxPhase.id"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"inputClass required",attrs:{rules:t.required,label:"RFx Name"},model:{value:t.rfxForm.rfxName,callback:function(e){t.$set(t.rfxForm,"rfxName",e)},expression:"rfxForm.rfxName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"rfx-overview",label:"Summary of RFx","no-resize":"",rows:"4",rules:t.required},model:{value:t.rfxForm.rfxOverview,callback:function(e){t.$set(t.rfxForm,"rfxOverview",e)},expression:"rfxForm.rfxOverview"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"client-responsibilities",label:"Client Responsibilities","no-resize":"",rows:"4",rules:t.required},model:{value:t.rfxForm.clientResponsibilities,callback:function(e){t.$set(t.rfxForm,"clientResponsibilities",e)},expression:"rfxForm.clientResponsibilities"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"psd-responsibilities",label:"PSD Responsibilities","no-resize":"",rows:"4",rules:t.required},model:{value:t.rfxForm.psdResponsibilities,callback:function(e){t.$set(t.rfxForm,"psdResponsibilities",e)},expression:"rfxForm.psdResponsibilities"}})],1)])],1)],1)},Te=[];function Ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ve(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ee={props:{rfxData:Object,project:Object},components:{Snackbar:Vt},data:function(){var t=Object.assign({},this.$props.rfxData);return{required:[function(t){return!!t||"This field is required"}],rfxForm:Ve({},t),valid:!0,saveRFxBtnLoading:!1}},computed:{rfxTypes:function(){return this.$store.state.rfxTypes},rfxPhases:function(){return this.$store.state.rfxPhases}},methods:{saveRFxForm:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.form.validate()&&(e=Object.assign({},this.rfxForm),e.project=this.project,e&&e.project&&e.project.id&&(this.saveRFxBtnLoading=!0,e.id?(this.$store.dispatch("updateProjectRFxData",e),this.$refs.snackbar.displaySnackbar("success","Updated"),this.saveRFxBtnLoading=!1):this.$store.dispatch("addProjectRFxData",e).then((function(t){r.saveRFxBtnLoading=!1,r.$refs.snackbar.displaySnackbar("success","Saved"),t.id&&(r.rfxForm.id=t.id)}))));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Le=Ee,Be=Object(x["a"])(Le,De,Te,!1,null,null,null),Ae=Be.exports;j()(Be,{VBtn:g["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VSelect:Xt["a"],VTextField:Zt["a"],VTextarea:Kt["a"]});var Fe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("v-form",{ref:"projectFinance",attrs:{id:"projectFinanceInfo"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"finance-code-block"},[r("h3",{staticClass:"finance-header"},[t._v("\n            Finance Codes\n          ")]),r("span",{staticClass:"mb-4 d-block"},[t._v("\n             Please note: To complete the intake form these fields are optional. However, a project cannot be assigned without finance codes.\n           ")])])])]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Client No. (3 characters)",rules:[t.rules.clientNoRules],maxlength:"3"},model:{value:t.financeInfo.clientNo,callback:function(e){t.$set(t.financeInfo,"clientNo",e)},expression:"financeInfo.clientNo"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Responsibility Center (5 characters)",rules:[t.rules.responsibilityCenterRules],maxlength:"5"},model:{value:t.financeInfo.responsibilityCenter,callback:function(e){t.$set(t.financeInfo,"responsibilityCenter",e)},expression:"financeInfo.responsibilityCenter"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Service Center (5 characters)",rules:[t.rules.serviceCenterRules],maxlength:"5"},model:{value:t.financeInfo.serviceCenter,callback:function(e){t.$set(t.financeInfo,"serviceCenter",e)},expression:"financeInfo.serviceCenter"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"STOB (4 characters)",rules:[t.rules.stobRules],maxlength:"4"},model:{value:t.financeInfo.stob,callback:function(e){t.$set(t.financeInfo,"stob",e)},expression:"financeInfo.stob"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Project Code (7 characters)",rules:[t.rules.projectCodeRules],maxlength:"7"},model:{value:t.financeInfo.projectCode,callback:function(e){t.$set(t.financeInfo,"projectCode",e)},expression:"financeInfo.projectCode"}})],1)])],1)],1)},Me=[];r("fce1");function Ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var We={props:{financeInfo:Object},data:function(){var t=this,e=Object.assign({},this.$props.financeInfo);return{valid:!0,rules:{clientNoRules:function(e){return t.showValidationMessage(e,3)},responsibilityCenterRules:function(e){return t.showValidationMessage(e,5)},serviceCenterRules:function(e){return t.showValidationMessage(e,5)},stobRules:function(e){return t.showValidationMessage(e,4)},projectCodeRules:function(e){return t.showValidationMessage(e,7)}},form:qe({},e)}},watch:{financeInfo:function(t){this.form=t}},methods:{showValidationMessage:function(t,e){return!t||!t.length||t.length===e||"Exactly ".concat(e," characters required")},validate:function(){return this.$refs.projectFinance.validate()}}},Ye=We,ze=Object(x["a"])(Ye,Fe,Me,!1,null,null,null),He=ze.exports;j()(ze,{VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VTextField:Zt["a"]});var Qe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"project-risk-edit",attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),r("v-flex",{staticClass:"mb-4"},[r("label",{staticClass:"primary-heading sub-header-large"},[t._v("Risk Assessment")]),r("div",{staticClass:"all-risk-scores"},[t.intakeScore&&t.intakeScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[t._v("Intake Risk Score: ")]),r("span",{class:"level-"+t.intakeScore.level},[t._v(t._s(t.intakeScore.level)+" ( "+t._s(t.intakeScore.percentage)+"% )")])]):t._e(),t.psbScore&&t.psbScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[t._v("PSB Risk Score: ")]),r("span",{class:"level-"+t.psbScore.level},[t._v(t._s(t.psbScore.level)+" ( "+t._s(t.psbScore.percentage)+"% )")])]):t._e(),t.totalScore&&t.totalScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[t._v("Total Risk Score: ")]),r("span",{class:"level-"+t.totalScore.level},[t._v(t._s(t.totalScore.level)+" ( "+t._s(t.totalScore.percentage)+"% )")])]):t._e(),t.needSpo?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[t._v("SPO Engagement Need? ")]),r("span",[t._v(t._s(t.needSpo))])]):t._e()])]),r("v-form",{ref:"projectRiskAssessment",staticClass:"project-risk",attrs:{id:"project-risk-assessment","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t.editScreen?r("div",[t._l(t.intakeRiskQuestions,(function(e){return r("v-flex",{key:e.id,attrs:{sm12:""}},[r("v-flex",{attrs:{sm12:""}},[1==e.questionNo?r("div",[r("h3",[t._v(t._s(t.categoryList[e.category-1].text))]),r("br")]):t._e(),t.categoryList[e.category-1].showStatus||1==e.questionNo?r("div",[r("div",{staticClass:"question",domProps:{innerHTML:t._s(e.question)}}),e.answer&&e.answer[0]&&e.answer[0].answer.length<16?r("v-radio-group",{attrs:{row:"",rules:t.requireRadioButtondRule},on:{change:function(e){return t.calculateData()}},model:{value:e.selectedAnswerId,callback:function(r){t.$set(e,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},t._l(e.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return t.upateCategoryStatus(e,n)}}})})),1):t._e(),e.answer&&e.answer[0]&&e.answer[0].answer.length>15?r("v-radio-group",{attrs:{rules:t.requireRadioButtondRule,column:""},on:{change:function(e){return t.calculateData()}},model:{value:e.selectedAnswerId,callback:function(r){t.$set(e,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},t._l(e.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return t.upateCategoryStatus(e,n)}}})})),1):t._e()],1):t._e()])],1)})),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:t.onSave}},[t._v("Save")]),r("v-btn",{attrs:{color:"secondary"},on:{click:t.onCancel}},[t._v("cancel")])],1)],1)])])],2):r("div",{staticClass:"project-risk-anaysis"},[r("v-flex",{attrs:{md12:""}},[r("v-btn",{staticClass:"edit-btn",attrs:{color:"primary"},on:{click:t.editProjectRisk}},[t._v("edit")])],1),r("v-expansion-panel",{attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[t._v("SIZE & SCOPE")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",t._l(t.projectRiskAnswers,(function(e){return r("v-flex",{key:e.id,staticClass:"risk-analysis",attrs:{sm12:""}},[1==e.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:t._s(e.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:t.editProjectRisk}},[t._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.answer))])],1)],1)],1):t._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[t._v("PROCESS COMPLEXITY")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",t._l(t.projectRiskAnswers,(function(e){return r("v-flex",{key:e.id,staticClass:"risk-analysis",attrs:{sm12:""}},[2==e.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:t._s(e.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:t.editProjectRisk}},[t._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.answer))])],1)],1)],1):t._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[t._v("CAPACITY")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",t._l(t.projectRiskAnswers,(function(e){return r("v-flex",{key:e.id,staticClass:"risk-analysis",attrs:{sm12:""}},[3==e.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:t._s(e.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:t.editProjectRisk}},[t._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.answer))])],1)],1)],1):t._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[t._v("UNIQUE ATTRIBUTES")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",t._l(t.projectRiskAnswers,(function(e){return r("v-flex",{key:e.id,staticClass:"risk-analysis",attrs:{sm12:""}},[4==e.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:t._s(e.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:t.editProjectRisk}},[t._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.answer))])],1)],1)],1):t._e()])})),1)],1)],1)],1)],1)])],1)},Ge=[],Je=(r("55dd"),r("75fc"));r("ea3a");function Xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ze(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ke={components:{Snackbar:Vt,Spinner:Ut},props:{intakeRisk:Array,projectId:String},computed:{intakeRiskQuestions:function(){return this.$store.state.intakeRiskQuestions},projectRiskAnswers:function(){return this.$store.state.projectRiskAnswers}},data:function(){var t=Object.assign({},this.$props.intakeRisk);return{editScreen:!1,valid:!0,categoryList:[{id:1,text:"SIZE & SCOPE",showStatus:!0},{id:2,text:"PROCESS COMPLEXITY",showStatus:!0},{id:3,text:"CAPACITY",showStatus:!0},{id:4,text:"UNIQUE ATTRIBUTES",showStatus:!0}],requireRadioButtondRule:[function(t){return(t||!t)&&null!=t||"This field required"}],form:Ze({},t),intakeRiskAssessment:this.$store.state.intakeRiskAssessment,intakeScore:void 0,psbScore:void 0,totalScore:void 0,spoScore:void 0,needSpo:"No"}},watch:{},methods:{updateInitalData:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=function(t){var e=a.projectRiskAnswers.filter((function(e){return e.questionId===a.intakeRiskQuestions[t].id}));e&&e[0]&&(a.intakeRiskQuestions[t].selectedAnswerId=e[0].answerid,a.intakeRiskQuestions[t].score=e[0].score,a.intakeRiskQuestions[t].analysisId=e[0].id);for(var r=0;r<a.intakeRiskQuestions[t].answer.length;r++)a.intakeRiskQuestions[t].answer[r].id===a.intakeRiskQuestions[t].selectedAnswerId&&a.upateCategoryStatus(a.intakeRiskQuestions[t],r)},r=0;r<this.intakeRiskQuestions.length;r++)e(r);this.calculateData();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),prepareRiskAnalysis:function(){for(var t=this,e=[],r=0,a=function(a){var n=t.intakeRiskQuestions[a],s=0,i=n.answer.filter((function(t){return t.id===n.selectedAnswerId}));i&&i[0]&&(s=i[0].score);var o=n.analysisId?n.analysisId:null;e[r]={questionId:n.id,answerId:n.selectedAnswerId,score:s,id:o},r++},n=0;n<this.intakeRiskQuestions.length;n++)a(n);return e},onSave:function(){var t=this,e=this.prepareRiskAnalysis();this.$refs.spinner.open();var r=this.$store.state.activeProject.id,a=!1;"YES"===this.needSpo&&(a=!0);var n=0;"High"===this.intakeScore.level?n=1:"Medium"===this.intakeScore.level?n=2:"Low"===this.intakeScore.level&&(n=3);var s={projectId:r,risk:e,scores:{IntakeriskScore:this.intakeScore?this.intakeScore.percentage:void 0,psbRiskScore:this.psbScore?this.psbScore.percentage:void 0,riskScore:this.totalScore?this.totalScore.percentage:void 0,intakeRiskLevel:n,isSPOEngagement:a}};this.$store.dispatch("updateRiskAnalysis",s).then((function(e){t.$store.state.projectRiskAnswers=e,t.updateInitalData(),t.$refs.snackbar.displaySnackbar("success","Successfully saved risk analysis."),t.$refs.spinner.close()}),(function(e){if(t.$refs.spinner.close(),e&&e.response&&e.response.data){var r=e.response.data.error.message;t.$refs.snackbar.displaySnackbar("error",r)}else t.$refs.snackbar.displaySnackbar("error","Risk analysis Error")})),this.editScreen=!1,this.updateInitalData()},onCancel:function(){this.updateInitalData(),this.editScreen=!1},editProjectRisk:function(){this.updateInitalData(),this.editScreen=!0},upateCategoryStatus:function(t,e){var r=this;if(1===t.questionNo&&0===e?this.categoryList[t.category-1].showStatus=!1:1===t.questionNo&&(this.categoryList[t.category-1].showStatus=!0),!this.categoryList[t.category-1].showStatus&&1===t.questionNo)for(var a=this.intakeRiskQuestions.filter((function(e){return e.category===r.categoryList[t.category-1].id})),n=0;n<a.length;n++)1!==a[n].questionNo&&(a[n].selectedAnswerId=null,a[n].score=0)},getRiskLevel:function(t){var e="Low";return t>50?e="High":t>25&&(e="Medium"),e},calculateItemScore:function(t){var e=0,r=Object(Je["a"])(t).map((function(t){var r=t.answer.map((function(t){return t.score}));r.sort((function(t,e){return e-t})),e+=r[0];var a=t.answer.filter((function(e){return e.id===t.selectedAnswerId}));return a&&a[0]&&"undefined"!==typeof a[0].score?a[0].score:0})).reduce((function(t,e){return t+e}),0),a=(r/e*100).toFixed(2);return{score:r,totalPossibleScore:e,percentage:a,level:this.getRiskLevel(a)}},calculateRiskScore:function(){this.intakeRiskQuestions&&(this.intakeScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(t){return!t.is_PSB}))),this.psbScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(t){return t.is_PSB}))),this.totalScore=this.calculateItemScore(this.intakeRiskQuestions),this.spoScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(t){return t.isStrategicContact}))),this.needSpo=this.spoScore.score>15?"YES":"NO")},calculateData:function(){this.calculateRiskScore()}}},tr=Ke,er=(r("cb06"),r("cd55")),rr=r("49e2"),ar=Object(x["a"])(tr,Qe,Ge,!1,null,"706382bd",null),nr=ar.exports;j()(ar,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VExpansionPanel:er["a"],VExpansionPanelContent:rr["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VRadio:pe["a"],VRadioGroup:ve["a"]});var sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-form",{ref:"projectContact"},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Role"},model:{value:t.form.roleName,callback:function(e){t.$set(t.form,"roleName",e)},expression:"form.roleName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:t.contactNameLabel},model:{value:t.form.fullName,callback:function(e){t.$set(t.form,"fullName",e)},expression:"form.fullName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Email Address","error-messages":t.emailError()},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Organization"},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Position"},model:{value:t.form.orgPosition,callback:function(e){t.$set(t.form,"orgPosition",e)},expression:"form.orgPosition"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Phone Number","error-messages":t.phoneError(),mask:"phone"},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1)])],1)],1)},ir=[];function or(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?or(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var lr={components:{},props:{contact:Object,contactNameLabel:String},data:function(){var t=Object.assign({},new gt,this.$props.contact);return{form:cr({},t)}},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(t){this.form=t||new gt}},methods:{emailError:function(){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return this.form.email&&this.form.email.length>0?t.test(this.form.email)?"":"Email must be valid":""},phoneError:function(){return this.form.phoneNumber&&this.form.phoneNumber.length>0?this.form.phoneNumber.length>=10?"":"Invalid Phone":""},reset:function(){this.$refs.projectContact.reset(),this.form.phoneNumber=""}}},ur=lr,dr=Object(x["a"])(ur,sr,ir,!1,null,null,null),fr=dr.exports;j()(dr,{VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VTextField:Zt["a"]});var mr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("spinner",{ref:"spinner"}),r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),t.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[t._v(t._s(t.title))])])],1):t._e(),r("v-container",{attrs:{fluid:""}},[r("v-radio-group",{attrs:{row:""},model:{value:t.isResolved,callback:function(e){t.isResolved=e},expression:"isResolved"}},[r("v-radio",{attrs:{label:"Logs In Progress",value:!1,isResolved:""}}),r("v-radio",{attrs:{label:"Resolved Logs",value:!0,isResolved:""}})],1)],1),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.allProcLogs,"hide-actions":"","disable-initial-sort":"","aria-multiline":"true",search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[r("procurement-log",{ref:"ProcurementLog"}),r("span",{staticClass:"clickable",on:{click:function(r){return t.viewRequest(e.item.id)}}},[t._v(t._s(e.item.logType))])],1),r("td",{staticClass:"text-xs-left"},[r("procurement-log",{ref:"ProcurementLog"}),r("span",{staticClass:"clickable",on:{click:function(r){return t.viewRequest(e.item.id)}}},[t._v(t._s(e.item.descriptionOfIssue.toString().slice(0,30)+"...")+"\n            ")])],1),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.dateToClient)))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.notificationMethod))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.riskOwner))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.phaseImpactName))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.clientDecision))]),r("td",{staticClass:"text-xs-left"},[t._v("\n            "+t._s(e.item.followUpDate?new Date(e.item.followUpDate).toString().slice(3,15):"")+"\n          ")]),r("td",{staticClass:"text-xs-left",attrs:{width:"10%"}},[t.isResolved?t._e():r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return t.resolveLog(e.item.id)}}},[t._v("RESOLVE")])],1)]}}])})],r("v-divider")],2)],1)},pr=[],vr={props:{title:String,search:String},components:{Snackbar:Vt,Spinner:Ut,Confirm:K,ProcurementLog:ee},data:function(){return{isResolved:!1,logList:this.fetchData(),selectedLeadUser:"",selectedProjectBackup:"",unResolved:[]}},computed:{headers:function(){var t=[{text:"Log Type",value:"logType",align:"left",sortable:!1,width:"10%"},{text:"Description of Issue",value:"issueDescription",sortable:!1,width:"20%"},{text:"Date To Client",value:"dateToClient",sortable:!1,width:"10%"},{text:"Method of Notification",value:"notificationMethod",sortable:!1,width:"10%"},{text:"Decision Maker",value:"riskOwner",sortable:!1,width:"10%"},{text:"Phase Impact",value:"phaseImpactName",sortable:!1,width:"10%"},{text:"Client Decision",value:"clientDecision",sortable:!1,width:"10%"},{text:"Resolution or Follow Up Date",value:"followUpDate",sortable:!1,width:"12%"}];return this.isResolved||(t[1].width="15%",t[7].width="12%",t.push({text:"Action",width:"15%"})),t},allProcLogs:function(){if(this.isResolved){var t=this.$store.state.allProcurementLog.filter((function(t){return 1==t.isResolved}));return t}var e=this.$store.state.allProcurementLog.filter((function(t){return 0==t.isResolved}));return e}},created:function(){this.fetchData()},methods:{resolveLog:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("info","Are you sure you want to resolve this log?");case 2:if(!t.sent){t.next=7;break}return r=this.$store.state.allProcurementLog.find((function(t){return t.id==e})),r.isResolved=!0,t.next=7,this.$store.dispatch("updateProctLog",{procurementlog:r}).then((function(){a.$refs.snackbar.displaySnackbar("success","Resolved")}),(function(t){try{var e=t.response.data.error.message;a.$refs.snackbar.displaySnackbar("error",e)}catch(r){a.$refs.snackbar.displaySnackbar("error","Failed to Resolve")}}));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),close:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.fetchData();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),viewRequest:function(t){var e=this.$store.state.allProcurementLog.find((function(e){return e.id==t}));this.$refs.ProcurementLog.reset(),this.$refs.ProcurementLog.openWithValues(e)},fetchData:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$refs.spinner&&this.$refs.spinner.open(),e=this.$router.currentRoute.params,r=e.id||void 0,t.next=5,this.$store.dispatch("fetchAllProcurementLog",{id:r});case 5:return a=t.sent,t.next=8,this.$store.dispatch("fetchProjectRFxData",{id:r});case 8:return t.sent,this.$refs.spinner&&this.$refs.spinner.close(),t.abrupt("return",a[0]);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},hr=vr,br=(r("8388"),r("8fea")),xr=Object(x["a"])(hr,mr,pr,!1,null,"619dde11",null),yr=xr.exports;j()(xr,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VContainer:C["a"],VDataTable:br["a"],VDivider:w["a"],VRadio:pe["a"],VRadioGroup:ve["a"],VToolbar:E["a"],VToolbarTitle:B["a"]});r("1190");a["default"].use(mt["a"]);var jr={CLIENT_CONTACT:"clientcontact"},kr={components:{ProjectBaseInfo:be,projectNotes:Ce,ProjectContactInfo:$e,ProjectRfx:Ae,ProjectFinanceInfo:He,Snackbar:Vt,ProjectAdditionalContactInfo:fr,projectRiskAssessment:nr,ProcurementLogTable:yr,ProcurementLog:ee},props:{title:String,ProcurementLog:{type:Function,default:function(){}}},$_veeValidate:{validator:"new"},computed:{project:function(){return this.$store.state.activeProject},projectRfxData:function(){return this.$store.state.activeProjectRfxData}},data:function(){return{additionalContact:[new Ct],search:"",activeTab:void 0,rfxData:[new pt["a"]],projectId:"",enabled:!0,initialLoad:!0,color:wt.a,selectedTab:"tab-1",projectcomments:this.$store.state.allProjectNotes,allContacts:[],contactCount:this.$store.state.activeProjectContacts.filter((function(t){return"clientcontact"===t.contactType})).length,AllContactData:this.$store.state.activeProjectContacts.filter((function(t){return"clientcontact"===t.contactType}))}},watch:{enabled:function(){this.enabled||this.$refs.projectClient.reset()},getcustdata:function(){var t=this.$router.currentRoute.params,e=t.id||void 0;this.$store.dispatch("fetchProjectContacts",{id:e})}},methods:{addNewContact:function(){this.contactCount=this.contactCount+1;var t={id:void 0,contactType:"",userId:"",fullName:"",orgName:"",orgPosition:"",email:"",phoneNumber:"",addressLine1:"",addressLine2:"",city:"",province:"",country:"",postalCode:"",roleName:""};this.AllContactData.push(t)},close:function(){this.$refs.procurementtable.close()},closeNotes:function(){},projectnotes:function(){return this.$store.state.allProjectNotes},newProcurementLog:function(){this.$refs.ProcurementLog.reset(),this.$refs.ProcurementLog.open()},replynotes:function(t,e){var r=t;this.$refs[r][0].reset(),this.$refs[r][0].open(t,e)},newnotes:function(t){this.$refs.projectNoteNew.reset(),this.$refs.projectNoteNew.open(t,void 0)},projectContactData:function(t){var e=this.$store.getters.getProjectContactByType(t);return e&&e.id?e:new gt},fetchData:function(){var t=this.$router.currentRoute.params,e=t.id||void 0;void 0!==e&&(this.projectId=e,this.$store.dispatch("fetchProject",{id:this.projectId}),this.$store.dispatch("fetchProjectRFxData",{id:this.projectId}),this.$store.dispatch("fetchProjectContacts",{id:this.projectId}),this.$store.dispatch("fetchprojectRiskAnswers",{id:this.projectId}),this.$store.dispatch("fetchAllProcurementLog",{id:this.projectId})),this.$store.dispatch("fetchAllProjectNotes",{id:this.projectId}),this.$store.dispatch("fetchintakeRiskQuestions")},formatDate:function(t){if(!t)return null;var e=t.split("-"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},parseDate:function(t){if(!t)return null;var e=t.split("/"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},addNewRFx:function(){var t=this.validateRFXForm();t&&this.projectRfxData.push(new pt["a"])},validateRFXForm:function(){return!this.$refs.rfxForm||0===this.$refs.rfxForm.map((function(t){return t.$refs.form.validate()})).filter((function(t){return!t})).length},saveProjectContacts:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.$refs.projectLead.Validate(),this.$refs.projectSponsor.Validate(),this.$refs.projectFinancier.Validate(),e=this.$refs.projectLead.form||void 0,r=this.$refs.projectSponsor.form||void 0,a=this.$refs.projectFinancier.form||void 0,n=this.$refs.projectClient?this.$refs.projectClient.form:void 0,void 0!==n&&(n.contactType=jr.CLIENT_CONTACT),s=0;s<this.contactCount;s++)this.$refs.additionalcontactinfo[s]&&(this.$refs.additionalcontactinfo[s].form.contactType="clientcontact",this.allContacts.push(this.$refs.additionalcontactinfo[s].form));if(i=[e,r,n,a].filter((function(t){return void 0!==t})),i=i.concat(this.allContacts),!(i instanceof Array&&i.length>0)){t.next=15;break}return t.next=14,this.$store.dispatch("updateProjectContacts",{id:this.projectId,contacts:i});case 14:this.$refs.snackbar.displaySnackbar("success","Saved");case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveFinanceCodes:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$refs.projectFinanceInfo.financeInfo||void 0,!this.$refs.projectFinanceInfo.validate()){t.next=5;break}if(!(this.project&&this.project.client&&this.project.client.id)){t.next=5;break}return t.next=5,this.$store.dispatch("updateProjectFinanceCodes",{id:this.project.client.id,financeCodes:e}).then((function(){r.$refs.snackbar.displaySnackbar("success","Updated")}),(function(t){try{var e=t.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",e)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initializeRisk:function(){this.$refs.projectRiskAssessment.updateInitalData(),this.$refs.projectRiskAssessment.editScreen=!1}},created:function(){0===this.projectRfxData.length&&this.addNewRFx(),this.fetchData()}},gr=kr,Cr=(r("d5ed"),r("71a3")),_r=r("c671"),wr=r("fe57"),Or=Object(x["a"])(gr,ut,dt,!1,null,"0d1b5d96",null),Pr=Or.exports;j()(Or,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VContainer:C["a"],VExpansionPanel:er["a"],VExpansionPanelContent:rr["a"],VFlex:rt["a"],VForm:Gt["a"],VIcon:O["a"],VLayout:P["a"],VSpacer:N["a"],VTab:Cr["a"],VTabItem:_r["a"],VTabs:wr["a"],VTextField:Zt["a"]});var Sr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intake-form"},[a("snackbar",{ref:"snackbar"}),a("spinner",{ref:"spinner"}),a("v-form",[a("v-layout",[a("v-flex",{staticClass:"intake-form-header-div",attrs:{md12:""}},[a("h1",{staticClass:"intake-form-header"},[t._v("Intake Form")]),a("div",{staticClass:"intake-sub-header"},[t._v("Complete the intake form to submit your project")])])],1),a("v-container",[a("v-stepper",{attrs:{"alt-labels":""},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{class:t.editall?"stepper-color":"",attrs:{editable:t.isEditPInnfo,"edit-icon":"1",complete:t.e1>1,step:1},on:{click:function(e){return t.checkedit(1)}}},[t._v("\n            Procurement Project\n            "),a("br"),t._v("Information\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:t.editall?"stepper-color":"",attrs:{editable:t.isEditMBInfo,"edit-icon":"2",complete:t.e1>2,step:2},on:{click:function(e){return t.checkedit(2)}}},[t._v("Ministry/Branch Information")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:t.editall?"stepper-color":"",attrs:{editable:t.isEditRiskInfo,"edit-icon":"3",complete:t.e1>3,step:3},on:{click:function(e){return t.checkedit(3)}}},[t._v("\n            Risk\n            "),a("br"),t._v("Assessment\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:t.editall?"stepper-color":"",attrs:{editable:t.isEditContactInfo,"edit-icon":"4",complete:t.e1>4,step:4},on:{click:function(e){return t.checkedit(4)}}},[t._v("\n            Contact\n            "),a("br"),t._v("Information\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:t.editall?"stepper-color":"",attrs:{editable:t.isEditContactInfo,"edit-icon":"5",complete:t.e1>4,step:"5"},on:{click:function(e){return t.checkedit(5)}}},[t._v("\n            Review\n            "),a("br"),t._v("& Submit\n          ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("2a68")}}),a("label",{staticClass:"sub-header-large"},[t._v("Project Information")])])]},proxy:!0}])},[a("v-card",[a("v-card-text",[a("intake-base-info",{ref:"intakeBaseInfo",attrs:{project:t.intakeRequest},on:{next:function(e){return t.nextButtonClick(2)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("a616")}}),a("label",{staticClass:"sub-header-large"},[t._v("Ministry / Branch Information")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(e){return t.backfn(1)}}},[t._v("< Project Information")]),a("v-card",[a("v-card-text",[a("ministry-branch-info",{ref:"intakeClientInfo",attrs:{ministry:t.intakeRequest.client},on:{next:function(e){return t.nextButtonClick(3)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("a616")}}),a("label",{staticClass:"sub-header-large"},[t._v("Risk Assessment")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(e){return t.backfn(2)}}},[t._v("< Ministry / Branch Information")]),a("v-card",[a("v-card-text",[a("intake-risk-assessment",{ref:"intakeRiskAssessment",attrs:{intakeRisk:t.intakeRiskQuestions},on:{next:function(e){return t.nextButtonClick(4)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"4"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("5629")}}),a("label",{staticClass:"sub-header-large"},[t._v("Contact Information")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(e){return t.backfn(3)}}},[t._v("< Risk Assessment")]),a("div",{staticClass:"intake-contact-layout"},[a("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[a("span",{staticClass:"intake-base-info-header-content"},[t._v("Contact Information")])]),a("v-card",[a("v-card-text",[a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[t._v("Client Lead Contact Information")]),a("project-contact-info",{ref:"projectLead",attrs:{contact:t.getClientInfo(t.CLIENT_LEAD),contactNameLabel:"Client Lead Name",isRequired:!0},on:{next:function(e){return t.nextButtonClick(5)}}})],1),a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[t._v("Executive Sponsor Contact Information")]),a("project-contact-info",{ref:"projectSponsor",attrs:{contact:t.getClientInfo(t.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name",isRequired:!0},on:{next:function(e){return t.nextButtonClick(5)}}})],1),a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[t._v("Financial Contact Information")]),a("project-contact-info",{ref:"projectFinance",attrs:{contact:t.getClientInfo(t.CLIENT_FINANCE),contactNameLabel:"Financial Contact Name"},on:{next:function(e){return t.nextButtonClick(5)}}})],1),t._l(t.contactData,(function(e,r){return a("v-flex",{key:r,attrs:{xs12:"",md6:"","my-3":"",value:0},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("v-flex",{attrs:{xs11:""}})],1)]},proxy:!0}],null,!0)},[a("v-card",[a("v-card-text",[a("h3",{staticClass:"v-form-container"},[t._v("Additional Contact Information")]),a("project-additional-contact-info",{ref:"additionalcontactinfo",refInFor:!0,attrs:{additionalContact:e,contact:t.getClientInfo(t.CLIENT_CONTACT),contactNameLabel:"Contact Name",isRequired:!1},on:{next:function(e){return t.nextButtonClick(5)}}})],1)],1)],1)}))],2),a("v-card",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"contact-button-div"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.addNewContact}},[a("v-icon",{attrs:{left:"",dark:""}},[t._v("add")]),t._v("Add Contact\n                          ")],1)],1)])],1),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[a("v-flex",{attrs:{"md-12":"","mt-4":""}},[a("v-btn",{attrs:{disabled:!(t.$store.state.projectInformation&&t.$store.state.ministryInformation&&this.$store.state.intakeRiskQuestions),color:"primary"},on:{click:function(e){return t.nextButtonClick(5)}}},[t._v("Next")])],1)],1)])])],1)],1)])],1)],1)],1),a("v-stepper-content",{attrs:{step:"5"}},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(e){return t.backfn(4)}}},[t._v("< Contact Information")]),a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}},[a("intake-review",{ref:"intakeReview",attrs:{intakeValues:t.reviewSubmit},on:{switch:t.moveToComponent}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","py-2":""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[5==t.e1?a("v-flex",{attrs:{md12:"","mt-4":""}},[a("v-btn",{attrs:{color:"default"},on:{click:t.discard}},[t._v("Discard")]),a("v-btn",{attrs:{disabled:!(t.$store.state.projectInformation&&t.$store.state.ministryInformation&&t.$store.state.contactInformation),color:"primary"},on:{click:t.submitForm}},[t._v("Submit")])],1):t._e()],1)])])],1)],1)],1)},Ir=[],Rr=r("320c"),$r=r.n(Rr),Dr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"custom-project-base-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content",staticStyle:{"text-align":"center"}},[t._v("Procurement Project Information")])]),r("v-form",{ref:"intakeBaseInfo",staticClass:"intake-base-info",attrs:{id:"intake-base-info","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Project Name"},model:{value:t.form.projectName,callback:function(e){t.$set(t.form,"projectName",e)},expression:"form.projectName"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",t._g({directives:[{name:"open-on-focus",rawName:"v-open-on-focus"}],staticClass:"required",attrs:{items:t.projectSectors,rules:t.requiredRule,label:"Project Sector","item-value":"id","item-text":"projectSectorName"},model:{value:t.form.projectSector.id,callback:function(e){t.$set(t.form.projectSector,"id",e)},expression:"form.projectSector.id"}},t.checksectorid()))],1)]),r("v-flex",{attrs:{md6:""}}),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[t.form.projectSector.id==t.otherSectorId?r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Other Project Sector Name"},model:{value:t.form.otherProjectSectorName,callback:function(e){t.$set(t.form,"otherProjectSectorName",e)},expression:"form.otherProjectSectorName"}}):t._e()],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({staticClass:"required",attrs:{readonly:"",rules:t.requiredRule,label:"Desired Date of Completion","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.form.estimatedCompletionDate,callback:function(e){t.$set(t.form,"estimatedCompletionDate",e)},expression:"form.estimatedCompletionDate"}},a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(e){t.menu1=!1}},model:{value:t.form.estimatedCompletionDate,callback:function(e){t.$set(t.form,"estimatedCompletionDate",e)},expression:"form.estimatedCompletionDate"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.amountRule,"prepend-inner-icon":"attach_money",label:"Contract Amount",oninput:"validity.valid||(value='');",value:t._f("withCommas")(t.form.estimatedContractValue)},on:{blur:function(e){return t.form.estimatedContractValue=parseFloat(e.target.value.toString().replace(/,/g,""))}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",[r("v-container",{attrs:{fluid:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"4%"}},[t._v("Reprocurement?")]),r("v-radio-group",{attrs:{row:""},model:{value:t.form.isReprocurement,callback:function(e){t.$set(t.form,"isReprocurement",e)},expression:"form.isReprocurement"}},[r("v-radio",{attrs:{label:" Yes",value:!0,"form.isReprocurement":""}}),r("v-radio",{attrs:{label:" No",value:!1,"form.isReprocurement":""}})],1)],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container pl-0",staticStyle:{width:"95%","margin-left":"5%"}},[t.form.isReprocurement?r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({staticClass:"required",attrs:{readonly:"",rules:t.requiredRule,label:"Date original contract ends","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.form.dateOfReprocurement,callback:function(e){t.$set(t.form,"dateOfReprocurement",e)},expression:"form.dateOfReprocurement"}},a))]}}],null,!1,2916681121),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu2=!1}},model:{value:t.form.dateOfReprocurement,callback:function(e){t.$set(t.form,"dateOfReprocurement",e)},expression:"form.dateOfReprocurement"}})],1):t._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[t.form.isReprocurement?r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What is the background from the previous contract?","no-resize":"",rules:t.requiredRule},model:{value:t.form.previousContractBackground,callback:function(e){t.$set(t.form,"previousContractBackground",e)},expression:"form.previousContractBackground"}}):t._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What is the potential impact of this procurement project failing?","no-resize":"",rules:t.requiredRule},model:{value:t.form.projectFailImpact,callback:function(e){t.$set(t.form,"projectFailImpact",e)},expression:"form.projectFailImpact"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What does success look like for this procurement project?","no-resize":"",rules:t.requiredRule},model:{value:t.form.projectSuccess,callback:function(e){t.$set(t.form,"projectSuccess",e)},expression:"form.projectSuccess"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:t.onNextClicked}},[t._v("Next")])],1)],1)])])],1)],1)},Tr=[],Nr=(r("a599"),function(t){function e(){var t,r;Object(vt["a"])(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(bt["a"])(this,(t=Object(xt["a"])(e)).call.apply(t,[this].concat(n))),Object(l["a"])(Object(yt["a"])(r),"id",""),Object(l["a"])(Object(yt["a"])(r),"projectIntakeCategoryName",""),r}return Object(jt["a"])(e,t),Object(ht["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,kt["a"].setProperties(t,r)),r}}]),e}(kt["a"])),Vr=function(t){function e(){var t,r;Object(vt["a"])(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(bt["a"])(this,(t=Object(xt["a"])(e)).call.apply(t,[this].concat(n))),Object(l["a"])(Object(yt["a"])(r),"id",""),Object(l["a"])(Object(yt["a"])(r),"ProjectIntakeServiceName",""),r}return Object(jt["a"])(e,t),Object(ht["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,kt["a"].setProperties(t,r)),r}}]),e}(kt["a"]);function Er(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Br={components:{},props:{nextPanel:Function,panelName:String,project:Object},computed:{computedDateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors},projectIntakeCategories:function(){return this.$store.state.projectIntakeCategory},projectIntakeService:function(){return this.$store.state.projectIntakeServices}},data:function(){var t=Object.assign({},this.$props.project);t.isReprocurement=!1;var e=t.projectSector||null;e||(t.projectSector=new ie["a"]);var r=null;r||(t.projectIntakeCategory=new Nr);var a=null;a||(t.projectIntakeServices=new Vr);var n=t.client||null;return n||(t.client=new oe["a"]),{valid:!0,requiredRule:[function(t){return!!t||"This field required"}],amountRule:[function(t){if(!t)return"This field is required";if(0===t||"0"===t)return"Field cannot be zero";var e=t.toString().match(/^[0-9,_.-]*$/g,"");return!!e||"Field must just be a number."}],form:Lr({},t),menu1:!1,menu2:!1,dateFormatted:void 0,projectInformation:this.$store.state.projectInformation,row:null,otherSectorId:null}},watch:{valid:function(t){this.$store.state.projectInformation=t},date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(t){this.form=t;var e=this.form.projectSector||null;e||(this.form.projectSector=new ie["a"])}},methods:{thousandSeprator:function(t){return""!==t||void 0!==t||0!==t||"0"!==t||null!==t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t},checksectorid:function(){var t=this.$store.state.projectSectors.filter((function(t){return"Other"===t.projectSectorName}));t[0]&&(this.otherSectorId=t[0].id)},formatDate:function(t){if(!t)return null;var e=t.split("-"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},parseDate:function(t){if(!t)return null;var e=t.split("/"),r=Object(ft["a"])(e,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},onNextClicked:function(){this.$refs.intakeBaseInfo.validate()&&"CA$0.00"!=this.form.estimatedContractValue&&(this.form.isReprocurement||(this.form.dateOfReprocurement=void 0,this.form.previousContractBackground=void 0),this.$emit("next"),this.$store.state.projectInformation=!0,window.scrollTo({top:0,behavior:"smooth"}))},reset:function(){this.$refs.intakeBaseInfo.reset()},submitForm:function(){var t=this.form;this.$store.dispatch("addIntakeRequest",t)},sectorFocus:function(t){t.target.click()}}},Ar=Br,Fr=Object(x["a"])(Ar,Dr,Tr,!1,null,null,null),Mr=Fr.exports;j()(Fr,{VBtn:g["a"],VContainer:C["a"],VDatePicker:Qt["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VMenu:Jt["a"],VRadio:pe["a"],VRadioGroup:ve["a"],VSelect:Xt["a"],VTextField:Zt["a"],VTextarea:Kt["a"]});var Ur=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"branch-info-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content"},[t._v("Ministry / Branch Information")])]),r("v-form",{ref:"intakeClientInfo",attrs:{id:"intake-client-info","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[t.form.isNonMinistry?t._e():r("v-select",{directives:[{name:"open-on-focus",rawName:"v-open-on-focus"}],staticClass:"required",attrs:{items:t.ministries,label:"Ministry",rules:t.requiredRule,"item-value":"id","item-text":"ministryName"},model:{value:t.form.ministry.id,callback:function(e){t.$set(t.form.ministry,"id",e)},expression:"form.ministry.id"}}),t.form.isNonMinistry?r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Non Ministry Name"},model:{value:t.form.nonMinistryName,callback:function(e){t.$set(t.form,"nonMinistryName",e)},expression:"form.nonMinistryName"}}):t._e(),r("v-container",{staticClass:"mb-4 mt-0",staticStyle:{padding:"0px !important","margin-top":"-10px"},attrs:{fluid:"",row:"",wrap:"","align-start":"","justify-end":"","fill-height":""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"2%"}},[t._v("Non-Ministry")]),r("v-checkbox",{model:{value:t.form.isNonMinistry,callback:function(e){t.$set(t.form,"isNonMinistry",e)},expression:"form.isNonMinistry"}})],1)],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{label:"Branch",rules:t.requiredRule},model:{value:t.form.orgDivision,callback:function(e){t.$set(t.form,"orgDivision",e)},expression:"form.orgDivision"}})],1)]),r("v-flex",{attrs:{sm6:""}}),r("v-flex",{attrs:{xs12:""}},[r("h3",{staticClass:"finance-header",staticStyle:{"margin-left":"3%"}},[t._v("Address Information")])]),r("v-flex",{attrs:{xs12:""}},[r("generic-contact-info",{attrs:{contact:t.form}})],1),t.form.isNonMinistry?t._e():r("v-flex",{attrs:{xs12:"","pt-2":""}},[r("project-finance-info",{attrs:{financeInfo:t.form}})],1),r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:t.onNextClicked}},[t._v("Next")])],1)],1)])])],1)],1)},qr=[],Wr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{sm12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Address Line 1"},model:{value:t.contact.addressLine1,callback:function(e){t.$set(t.contact,"addressLine1",e)},expression:"contact.addressLine1"}})],1)]),r("v-flex",{attrs:{sm12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Address Line 2"},model:{value:t.contact.addressLine2,callback:function(e){t.$set(t.contact,"addressLine2",e)},expression:"contact.addressLine2"}})],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"City"},model:{value:t.contact.city,callback:function(e){t.$set(t.contact,"city",e)},expression:"contact.city"}})],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:t.requiredRule,label:"Postal"},model:{value:t.contact.postalCode,callback:function(e){t.$set(t.contact,"postalCode",e)},expression:"contact.postalCode"}})],1)])],1)},Yr=[],zr={props:{contact:Object},data:function(){return{valid:!0,requiredRule:[function(t){return!!t||"This field is required"}]}}},Hr=zr,Qr=Object(x["a"])(Hr,Wr,Yr,!1,null,null,null),Gr=Qr.exports;function Jr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jr(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}j()(Qr,{VFlex:rt["a"],VLayout:P["a"],VTextField:Zt["a"]});var Zr={components:{ProjectFinanceInfo:He,GenericContactInfo:Gr},props:{nextPanel:Function,panelName:String,ministry:Object},computed:{ministries:function(){return this.$store.state.ministries}},data:function(){var t=Object.assign({},this.$props.ministry);t.isNonMinistry=!1;var e=t.ministry||null;return e||(t.ministry=new se["a"]),{valid:!0,requiredRule:[function(t){return!!t||"This field required"}],form:Xr({},t),ministryInformation:this.$store.state.ministryInformation}},watch:{valid:function(t){this.$store.state.ministryInformation=t},ministry:function(t){this.form=t;var e=this.form.ministry||null;e||(this.form.ministry=new se["a"])}},methods:{onNextClicked:function(){this.$refs.intakeClientInfo.validate()&&(this.form.isNonMinistry?this.form.ministry=void 0:this.form.NonMinistryName=void 0,this.$emit("next"),this.$store.state.ministryInformation=!0)},reset:function(){this.$refs.intakeClientInfo.reset()}}},Kr=Zr,ta=(r("cb87"),Object(x["a"])(Kr,Ur,qr,!1,null,"041c47eb",null)),ea=ta.exports;j()(ta,{VBtn:g["a"],VCheckbox:fe["a"],VContainer:C["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VSelect:Xt["a"],VTextField:Zt["a"]});var ra=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"risk-info-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content"},[t._v("Risk Assessment")])]),r("v-form",{ref:"intakeRiskAssessment",staticStyle:{"margin-left":"30px","margin-top":"20px"},attrs:{id:"intake-risk-assessment","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t._l(t.intakeRiskQuestion,(function(e){return r("v-flex",{key:e.id,attrs:{sm12:""}},[r("v-flex",{attrs:{sm12:""}},[1==e.questionNo?r("div",[r("h2",[t._v(t._s(t.categoryList[e.category-1].text))]),r("br")]):t._e(),t.categoryList[e.category-1].showStatus||1==e.questionNo?r("div",[r("div",{staticClass:"question",domProps:{innerHTML:t._s(e.question)}}),e.answer&&e.answer[0]&&e.answer[0].answer.length<16?r("v-radio-group",{attrs:{row:""},model:{value:e.selectedAnswerId,callback:function(r){t.$set(e,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},t._l(e.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return t.updateCategoryStatus(e,n)}}})})),1):t._e(),e.answer&&e.answer[0]&&e.answer[0].answer.length>15?r("v-radio-group",{attrs:{column:""},model:{value:e.selectedAnswerId,callback:function(r){t.$set(e,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},t._l(e.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return t.updateCategoryStatus(e,n)}}})})),1):t._e()],1):t._e()])],1)})),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:t.onNextClicked}},[t._v("Next")])],1)],1)])])],2)],1)},aa=[];r("2a685");function na(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?na(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ia={components:{},props:{intakeRisk:Array,nextPanel:Function,panelName:String},computed:{intakeRiskQuestion:function(){return this.$store.state.intakeRiskQuestions.filter((function(t){return!t.is_PSB}))}},data:function(){var t=Object.assign({},this.$props.intakeRisk);return{valid:!0,categoryList:[{id:1,text:"SIZE & SCOPE",showStatus:!1},{id:2,text:"PROCESS COMPLEXITY",showStatus:!1},{id:3,text:"CAPACITY",showStatus:!1},{id:4,text:"UNIQUE ATTRIBUTES",showStatus:!1}],form:sa({},t),intakeRiskAssessment:this.$store.state.intakeRiskAssessment}},watch:{},beforeMount:function(){for(var t=0;t<this.$store.state.intakeRiskQuestions.length;t++)delete this.$store.state.intakeRiskQuestions[t].score,delete this.$store.state.intakeRiskQuestions[t].selectedAnswerId},methods:{getRiskLevel:function(t){var e="Low";return t>50?e="High":t>25&&(e="Medium"),e},calculateItemScore:function(t){var e=0,r=Object(Je["a"])(t).map((function(t){var r=t.answer.map((function(t){return t.score}));r.sort((function(t,e){return e-t})),e+=r[0];var a=t.answer.filter((function(e){return e.id===t.selectedAnswerId}));return a&&a[0]&&"undefined"!==typeof a[0].score?a[0].score:0})).reduce((function(t,e){return t+e}),0),a=(r/e*100).toFixed(2);return{score:r,totalPossibleScore:e,percentage:a,level:this.getRiskLevel(a)}},calculateRiskScore:function(){return this.calculateItemScore(this.intakeRiskQuestion)},updateCategoryStatus:function(t,e){1===t.questionNo&&0===e?(this.categoryList[t.category-1].showStatus=!1,t.showStatus=!1):1===t.questionNo&&(this.categoryList[t.category-1].showStatus=!0,t.showStatus=!0)},onNextClicked:function(){this.$refs.intakeRiskAssessment.validate()&&(this.$store.state.intakeRisk=!0,this.$emit("next"))},reset:function(){this.$data.requireRadioButtondRule=this.data.requireRadioButtondRule,this.$refs.intakeRiskAssessment.reset()}}},oa=ia,ca=(r("72ed"),Object(x["a"])(oa,ra,aa,!1,null,"3c348112",null)),la=ca.exports;j()(ca,{VBtn:g["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VRadio:pe["a"],VRadioGroup:ve["a"]});var ua=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"review-submit"},[r("v-layout",{staticClass:"custom-project-base-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"spanheader"},[t._v("Review Submit")])]),r("v-expansion-panel",{attrs:{expand:""},model:{value:t.panelState,callback:function(e){t.panelState=e},expression:"panelState"}},[r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[t._v("Project Information")])]},proxy:!0}])},[r("v-card",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Project Name")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.projectName))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Project Sector")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.getProjectSector()))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Desired Date of Completion")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.estimatedCompletionDate))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Contract Amount")])]),r("v-flex",{attrs:{sm12:""}},[t._v("$"+t._s(t._f("withCommas")(t.$props.intakeValues.estimatedContractValue)))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Reprocurement?")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.checkBoolenValues(t.$props.intakeValues.isReprocurement)))])],1),t.$props.intakeValues.isReprocurement?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Date original contract ends")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.dateOfReprocurement))])],1):t._e(),t.$props.intakeValues.isReprocurement?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("What is the background from the previous contract?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.previousContractBackground))])],1):t._e(),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("What is the potential impact of this procurement project failing?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.projectFailImpact))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(1)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("What does success look like for this procurement project?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.projectSuccess))])],1)],1)],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[t._v("Ministry/Branch Information")])]},proxy:!0}])},[r("v-card",[t.$props.intakeValues.client?r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Non-Ministry")])]),r("v-flex",{attrs:{sm12:""}},[t._v("\n                "+t._s(t.checkBoolenValues(t.$props.intakeValues.client.isNonMinistry))+"\n              ")])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Ministry")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.getMinistry()))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Branch")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.orgDivision))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Address Line 1")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.addressLine1))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Address Line 2")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.addressLine2))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("City")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.city))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Postal")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.postalCode))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Client No.")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.clientNo))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Responsibility Center")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.responsibilityCenter))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Service Center")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.serviceCenter))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("STOB")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.stob))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(2)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Project Code")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.$props.intakeValues.client.projectCode))])],1)],1):t._e()],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[t._v("Risk Assessment")])]},proxy:!0}])},[r("v-card",[t.$props.intakeValues.risk?r("v-card-text",{staticClass:"pl-4"},t._l(t.$props.intakeValues.risk,(function(e){return r("v-flex",{key:e.id},[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(3)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:t._s(e.question)}})])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.answer))])],1)})),1):t._e()],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[t._v("Contact Information")])]},proxy:!0}])},[r("v-card",[t.$props.intakeValues.contacts?r("v-card-text",{staticClass:"pl-4"},t._l(t.$props.intakeValues.contacts,(function(e,a){return r("v-flex",{key:a,staticClass:"contacts"},[e.fullName?r("h3",[t._v(t._s(t.getContactType(e.contactType)))]):t._e(),e.fullName?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(4)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Name")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.fullName))])],1):t._e(),e.email?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(4)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Email Address")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.email))])],1):t._e(),e.orgName?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(4)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Organization")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.orgName))])],1):t._e(),e.orgPosition?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(4)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Position Title")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(e.orgPosition))])],1):t._e(),e.phoneNumber?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(e){return t.editItem(4)}}},[t._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[t._v("Phone Number")])]),r("v-flex",{attrs:{sm12:""}},[t._v(t._s(t.maskPhone(e.phoneNumber)))])],1):t._e()],1)})),1):t._e()],1)],1),r("v-card",{staticClass:"printdiv"},[r("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){return t.print()}}},[r("v-icon",[t._v("print")]),t._v("PRINT THIS FORM ")],1)],1)],1)],1)],1)},da=[];r("a305");function fa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ma(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fa(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var pa={components:{},props:{intakeValues:{}},computed:{},mounted:function(){},data:function(){var t=Object.assign({},this.$props.intakeValues);return{form:ma({},t),panelState:[!0]}},watch:{},methods:{maskPhone:function(t){var e=t.replace(/\D/g,"").match(/(\d{3})(\d{3})(\d{4})/);return"(".concat(e[1],") ").concat(e[2],"-").concat(e[3])},editItem:function(t){this.$emit("switch",t)},checkBoolenValues:function(t){return t?"Yes":"No"},getContactType:function(t){return"clientfinance"===t?"Client Finance":"clientlead"===t?"Client Lead":"clientsponsor"===t?"Client Sponsor":"clientcontact"===t?"Client Contact":""},getProjectSector:function(){var t=Object.assign({},this.$props.intakeValues.projectSector);if(t.id){var e=this.$store.state.projectSectors.filter((function(e){return e.id===t.id}));if(e[0])return e[0].projectSectorName}else if(this.$props.intakeValues.otherProjectSectorName)return this.$props.intakeValues.otherProjectSectorName;return""},getMinistry:function(){if(this.$props.intakeValues.client.isNonMinistry)return this.$props.intakeValues.client.nonMinistryName?this.$props.intakeValues.client.nonMinistryName:"";var t=Object.assign({},this.$props.intakeValues.client.ministry);if(t.id){var e=this.$store.state.ministries.filter((function(e){return e.id===t.id}));if(e[0])return e[0].ministryName}return""},print:function(){this.expandAll(),setTimeout(window.print,500)},expandAll:function(){this.panelState=[!0,!0,!0,!0,!0]}}},va=pa,ha=(r("8d1e"),Object(x["a"])(va,ua,da,!1,null,"4cf80017",null)),ba=ha.exports;j()(ha,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VExpansionPanel:er["a"],VExpansionPanelContent:rr["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"]});r("e63d");function xa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ya(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xa(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}a["default"].use(mt["a"]);var ja={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo",RISK_ASSESSMENT:"intakeRisk"},ka={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact",CLIENT_FINANCE:"clientfinance"},ga={components:{IntakeBaseInfo:Mr,MinistryBranchInfo:ea,ProjectContactInfo:$e,ProjectAdditionalContactInfo:fr,intakeRiskAssessment:la,intakeReview:ba,Snackbar:Vt,Spinner:Ut},$_veeValidate:{validator:"new"},data:function(){return ya({additionalContact:[new Ct],projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,intakeRiskQuestions:this.$store.state.intakeRiskQuestions,editall:!1,valid:!1,enabled:!1,isEditPInnfo:!1,isEditMBInfo:!1,isEditContactInfo:!1,isEditRiskInfo:!1},ja,{},ka,{e1:1,reviewSubmit:[],allContacts:[],contactCount:0,contactData:[]})},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{addNewContact:function(){this.contactCount=this.contactCount+1,this.contactData.push(new Ct)},moveToComponent:function(t){this.checkedit(t,!0)},checkedit:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!e&&this.e1<t&&!this.editall&&(t=this.e1),this.editall?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0,this.isEditContactInfo=!0):1===t||"1"===t?(this.e1=1,this.isEditMBInfo=!1,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):2===t||"2"===t?(this.e1=2,this.isEditPInnfo=!0,this.isEditMBInfo=!1,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):3===t||"3"===t?(this.e1=3,this.isEditPInnfo=!0,this.isEditMBInfo=!0,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):4===t||"4"===t?(this.e1=4,this.isEditPInnfo=!0,this.isEditMBInfo=!0,this.isEditRiskInfo=!0):this.e1=5,e&&(this.e1=t)},fetchData:function(){var t=this.$router.currentRoute.params,e=t.id||void 0;void 0!==e?this.$store.dispatch("fetchIntakeRequest",{id:t.id}):this.$store.dispatch("clearActiveIntakeRequest")},getRiskAnalysis:function(){for(var t=this,e=[],r=0,a=!1,n=0,s="",i=function(i){n=0,s="";var o=t.$store.state.intakeRiskQuestions[i];if("undefined"!==typeof o.selectedAnswerId||o.selectedAnswerId){var c=o.answer.filter((function(t){return t.id===o.selectedAnswerId}));c&&c[0]&&(n=c[0].score,s=c[0].answer),1===o.questionNo?(a=o.showStatus,e[r]={questionId:o.id,answerId:o.selectedAnswerId,score:n,question:o.question,answer:s},r++):a&&(e[r]={questionId:o.id,answerId:o.selectedAnswerId,score:n,question:o.question,answer:s},r++)}},o=0;o<this.$store.state.intakeRiskQuestions.length;o++)i(o);return e},submitForm:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,s,i,o,c,l,u,d,f=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.$refs.projectLead.onNextClicked(),this.$refs.projectSponsor.onNextClicked(),this.$refs.projectFinance.onNextClicked(),e=this.getRiskAnalysis(),r=this.$refs.intakeRiskAssessment.calculateRiskScore(),a=0,"High"===r.level?a=1:"Medium"===r.level?a=2:"Low"===r.level&&(a=3),n=$r()({},this.$refs.intakeBaseInfo.form,{client:this.$refs.intakeClientInfo.form,contacts:[],risk:e,IntakeriskScore:r.percentage,riskScore:r.percentage,psbRiskScore:0,isSPOEngagement:!1,intakeRiskLevel:a}),this.$refs.intakeClientInfo.form.intakeRiskLevel=r.level,s=this.$refs.projectLead.form||void 0,i=this.$refs.projectSponsor.form||void 0,o=this.$refs.projectFinance.form||void 0,this.enabled&&(c=this.$refs.projectContact.form||void 0),void 0!==s&&(s.contactType=ka.CLIENT_LEAD),void 0!==i&&(i.contactType=ka.CLIENT_SPONSOR),void 0!==o&&(o.contactType=ka.CLIENT_FINANCE),void 0!==c&&(c.contactType=ka.CLIENT_CONTACT),l=[s,i,o,c].filter((function(t){return void 0!==t})),u=[],d=0;d<this.allContacts.length;d++)""!=this.allContacts[d].email&&u.push(this.allContacts[d]);l=l.concat(u),l instanceof Array&&l.length>0&&n.contacts instanceof Array&&(n.contacts=n.contacts.concat(l)),this.contacts=[],this.contactData=[],this.$store.state.projectInformation&&this.$store.state.ministryInformation&&this.$store.state.contactInformation&&this.$store.state.intakeRisk&&(this.$refs.spinner.open(),n.estimatedContractValue=n.estimatedContractValue,this.$store.dispatch("addIntakeRequest",n).then((function(){f.$refs.snackbar.displaySnackbar("success","Project Intake Form Submited."),f.$refs.spinner.close(),f.$router.push("intake-success")}),(function(t){if(f.$refs.spinner.close(),t&&t.response&&t.response.data){var e=t.response.data.error.message;f.$refs.snackbar.displaySnackbar("error",e)}else f.$refs.snackbar.displaySnackbar("error","Intake Request Error")})));case 25:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),discard:function(){this.$refs.intakeBaseInfo.reset(),this.$refs.intakeClientInfo.reset(),this.$refs.projectLead.reset(),this.$refs.projectSponsor.reset(),this.$refs.projectFinance.reset(),this.$refs.projectContact.reset(),this.$refs.intakeRiskAssessment.reset()},getClientInfo:function(t){var e=this.$store.state.activeIntakeRequest.contacts||[],r=e.find((function(e){return e.contactType===t}));return r},backfn:function(t){t-1===1?(this.isEditPInnfo=!0,this.isEditRiskInfo=!1,this.isEditContactInfo=!1):t-1===2?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditContactInfo=!1):t-1===3?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0):(this.isEditMBInfo=!1,this.isEditPInnfo=!1,this.isEditRiskInfo=!1,this.isEditContactInfo=!1),this.e1=t,window.scrollTo({top:0,behavior:"smooth"})},nextButtonClick:function(t){if(5===t){this.allContacts=[];for(var e=0;e<this.contactCount;e++){"additionalcontactinfo".concat(e.toString());this.$refs.additionalcontactinfo[e].form.contactType="clientcontact",this.allContacts.push(this.$refs.additionalcontactinfo[e].form)}var r=this.$refs.projectLead.onNextClicked(),a=this.$refs.projectSponsor.onNextClicked(),n=this.$refs.projectFinance.onNextClicked();r&&a&&n&&(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0,this.isEditContactInfo=!0,this.editall=!0,this.e1=t);var s=this.getRiskAnalysis(),i=s.map((function(t){return t.score})),o=0;0!=i.length&&(o=i.reduce((function(t,e){return t+e})));var c,l=$r()({},this.$refs.intakeBaseInfo.form,{client:this.$refs.intakeClientInfo.form,contacts:[],risk:s,riskScore:o}),u=this.$refs.projectLead.form||void 0,d=this.$refs.projectSponsor.form||void 0,f=this.$refs.projectFinance.form||void 0;this.enabled&&(c=this.$refs.projectContact.form||void 0),void 0!==u&&(u.contactType=ka.CLIENT_LEAD),void 0!==d&&(d.contactType=ka.CLIENT_SPONSOR),void 0!==f&&(f.contactType=ka.CLIENT_FINANCE),void 0!==c&&(c.contactType=ka.CLIENT_CONTACT);var m=[u,d,f,c].filter((function(t){return void 0!==t}));m=m.concat(this.allContacts),m instanceof Array&&m.length>0&&l.contacts instanceof Array&&(l.contacts=l.contacts.concat(m)),this.$store.state.projectInformation&&this.$store.state.ministryInformation&&this.$store.state.contactInformation&&(l.estimatedContractValue=l.estimatedContractValue,this.reviewSubmit=l)}else t-1===1?(this.isEditPInnfo=!0,this.isEditRiskInfo=!1,this.isEditContactInfo=!1):t-1===2?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditContactInfo=!1):t-1===3?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0):(this.isEditMBInfo=!1,this.isEditPInnfo=!1,this.isEditRiskInfo=!1,this.isEditContactInfo=!1),this.e1=t;window.scrollTo({top:0,behavior:"smooth"})}},created:function(){this.fetchData()}},Ca=ga,_a=(r("c0df"),r("7e85")),wa=r("e516"),Oa=r("9c54"),Pa=r("56a4"),Sa=Object(x["a"])(Ca,Sr,Ir,!1,null,null,null),Ia=Sa.exports;j()(Sa,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VContainer:C["a"],VDivider:w["a"],VFlex:rt["a"],VForm:Gt["a"],VIcon:O["a"],VLayout:P["a"],VStepper:_a["a"],VStepperContent:wa["a"],VStepperHeader:Oa["a"],VStepperItems:Oa["b"],VStepperStep:Pa["a"]});var Ra=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("v-form",{staticStyle:{background:"#f1f1f1"},attrs:{id:"intake-client-info","lazy-validation":""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-card",{staticStyle:{width:"100%"}},[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{staticClass:"outer-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"inner-div-content",attrs:{md12:""}},[r("span",{staticClass:"intake-intro-header"},[t._v("BC Procurement Intake Form")])]),r("v-flex",{attrs:{md12:"","row-wrap":""}},[r("span",{staticClass:"sub-content-span"},[t._v("Procurement Services, on behalf of Government, provides its clients in the\n                    Province and the Broader Public Sector (BPS) "),r("br"),t._v("assistance to obtain the\n                    best rates, terms and conditions when buying goods, services and/or\n                    construction.")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-header-span"},[t._v("Before you begin, please ensure you have the following which will help you in\n                    completing the intake process:")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[t._v(" Finance/Accounting Codes")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[t._v(" Names of the Lead and Executive Sponsor for this procurement")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[t._v(" The expected date of the contract execution or contract start\n                    date")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[t._v(" Estimated contract value for this procurement")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[t._v(" A general understanding of the procurement project in order to\n                    complete an initial risk assessment")])]),r("v-flex",{attrs:{md12:""}}),r("v-flex",{staticClass:"start-button-div",attrs:{"md-12":"","mt-4":""}},[r("v-btn",{staticClass:"start-button-style",attrs:{color:"primary"},on:{click:t.onStart}},[t._v("START")])],1)],1)],1)],1)],1)])])],1)],1)},$a=[],Da={components:{},props:{},computed:{},data:function(){return{}},watch:{},methods:{onStart:function(){this.$router.push("intake")}}},Ta=Da,Na=(r("6afe"),Object(x["a"])(Ta,Ra,$a,!1,null,"c336120a",null)),Va=Na.exports;j()(Na,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"]});var Ea=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("h1",{staticClass:"projects-header"},[t._v("View "+t._s(t.selected))]),r("v-radio-group",{attrs:{row:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[r("v-radio",{attrs:{label:"New Finance Report",value:"New Finance Report"}}),r("v-radio",{attrs:{label:"Finance Records",value:"Finance Records"}})],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},["New Finance Report"===t.selected?r("projects-table",{ref:"projectFinanceExport"}):t._e(),"Finance Records"===t.selected?r("finance-records",{ref:"projectFinanceRecords"}):t._e()],1)],1),r("v-flex",{attrs:{md12:""}})],1)},La=[],Ba=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),t.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h1",{staticClass:"projects-header"})])],1):t._e(),r("v-divider"),r("v-layout",[r("v-flex",{attrs:{"md-2":""}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":""},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({staticClass:"calender-box",attrs:{label:"Choose Month","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[r("v-date-picker",{attrs:{"show-current":!0,type:"month"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.datefilter(t.date)}}},[t._v("OK")])],1)],1)],1),r("v-flex",{attrs:{"md-10":""}})],1),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.projects,"hide-actions":"","multiple-select":t.singleSelect,"disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.t_documentNo))]),r("td",{staticClass:"text-xs-left"},[t._v("\n            "+t._s(e.item.t_documentPath+" - $"+t.getvalue(e.item.sum))+"\n          ")]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.t_documentPath.toString().slice(0,10)))]),r("td",{staticClass:"text-xs-left"},[e.item.is_archived?t._e():r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.exportToPDF(e.item.t_documentNo)}}},n),[r("v-icon",[t._v("save_alt")])],1)]}}],null,!0)},[r("span",[t._v("Download")])])],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],r("v-divider")],2)],1)},Aa=[],Fa=(r("c5f6"),r("e511")),Ma=r.n(Fa),Ua=(r("0da4"),{props:{title:String,selectedItem:Number},components:{Snackbar:Vt,Confirm:K,Spinner:Ut},data:function(){return{singleSelect:!1,selected:[],selectedProjects:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,selectedDate:"",headers:[{text:"Document No",value:"documentNo",align:"left",sortable:!0},{text:"PDF Name",value:"recordName",sortable:!0},{text:"Export Month",value:"pdfdate",sortable:!0},{text:"Download File",value:"download",sortable:!0}],projectsList:[]}},computed:{projects:function(){return this.projectsList},userList:function(){return this.$store.state.users}},methods:{getvalue:function(t){var e=Math.floor(t)/1e3<1?"".concat(parseFloat(Math.floor(t)/1e3,1),"k"):"".concat(parseInt(Math.floor(t)/1e3),"k");return e.toString()},getAllProjectList:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,r={selectedDate:this.date},e.$refs.spinner&&e.$refs.spinner.open(),t.next=5,this.$store.dispatch("fetchExportedPdfs",r).then((function(t){e.$refs.spinner&&e.$refs.spinner.close(),e.projectsList=t}),(function(t){try{var r=t.response.data.error.message;e.$refs.snackbar.displaySnackbar("error",r)}catch(a){}e.$refs.spinner&&e.$refs.spinner.close()}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAllProjectIds:function(){return this.selectedProjects},getDateInYYYYMMDD:function(t){var e="".concat(t.getFullYear()),r="0".concat(t.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(t.getDate());return a=a.substr(a.length-2),"".concat(e,"-").concat(r,"-").concat(a)},fetchData:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("fetchAllProjects");case 2:this.getAllProjectList();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),formatDate:function(t){var e=t.split("T");return e?e[0]:t},datefilter:function(t){this.$refs.menu.save(t),this.selectedDate=t,this.getAllProjectList()},dataForPdfCreation:function(){return{}},exportToPDF:function(t){var e=this,r=this,a=[];t.length&&(r.$refs.spinner.open(),r.$store.dispatch("downloadFinancePdf",{documentNo:t}).then((function(){if(r.$store.state.downloadFinancePdf.forEach((function(t){var e=JSON.parse(t.exportData);a.push(e),r.$refs.spinner.close()})),0!==a.length){var t=new Ma.a({putOnlyUsedFonts:!0,orientation:"portrait"}),n=["Client","Responsibility","Service Line","STOB","Project","Amount"],s=a.map((function(t){return[t.clientNo?t.clientNo:"",t.responsibilityCenter?t.responsibilityCenter:"",t.serviceCenter?t.serviceCenter:"",t.stob?t.stob:"",t.projectCode?t.projectCode:"","$".concat(t.totalAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]})),i=(t.internal.pageSize.height,20);t.setFontSize(11),t.setFontStyle("bold"),t.text("Document # ",i,20),t.text(a[0].documentNo,i+35,20),t.text("SAP",i+150,20),t.text("Line Description: ",i,30),t.text(a[0].lineDesc,i+35,30),t.setFontSize(18),t.setFontStyle("normal"),t.autoTable(n,s,{theme:"plain",tableWidth:"auto",margin:{top:60},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"}}),t.setFontSize(11),t.setFontStyle("bold");for(var o=0;o<a.length;o++){t.addPage(),t.setFontStyle("normal"),t.setFontSize(11),t.text("Ministry of Citizens' Services",i+50,15),t.text("Procurement and Supply, Procurement Services Branch(Stategic and Advisory Services)",30,21),t.text("PO Box 9476 Stn Prov Govt",i+50,27),t.text("Victoria BC V8W 9W6",i+55,33),t.text("Ministry of Citizens' Services",15,55),t.text("OCIO - Technology Soultions",15,61),t.text(a[o].dateCreated.toString().slice(0,10),i+125,55),t.text(a[o].documentNo,i+125,61),t.text(a[o].clientNo?a[o].clientNo:"",i+125,70),t.text(a[o].responsibilityCenter?a[o].responsibilityCenter:"",i+125,76),t.text(a[o].serviceCenter?a[o].serviceCenter:"",i+125,82),t.text(a[o].stob?a[o].stob:"",i+125,88),t.text(a[o].projectCode?a[o].projectCode:"",i+125,94),t.setFontSize(12),t.setFontStyle("bold"),t.text("Notification of Charges",i+50,105),t.setFontStyle("normal"),t.setFontSize(11),t.text(a[o].projectName,40,115),t.text(a[o].reference?a[o].reference:"",40,122),t.text(a[o].contact?a[o].contact:"",40,129),t.setFontStyle("bold"),t.text("Date",i+110,55),t.text("Document #",i+97,61),t.text("Client  ",i+108,70),t.text("Responsibility",i+93,76),t.text("ServiceLine",i+97,82),t.text("STOB",i+107,88),t.text("ProjectsCode",i+93,94),t.text("Program",15,115),t.text("Reference",15,122),t.text("Contact",15,129),t.text("Fees",i+106,160),t.text("Expenses",i+106,169),t.text("Total",i+106,178),t.text("Contact",15,200),t.text("Number of Pages",15,220),t.setFontStyle("normal"),t.text("$".concat(a[o].fees.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),i+136,160),t.text("$".concat(a[o].expenses.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),i+136,169),t.text("$".concat(a[o].totalAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),i+136,178),t.text(a[o].contact?a[o].contact:"",i+38,200),t.text("Ministry of Citizens' Seevices",i+38,205);var c=e.date.split("-"),l=e.getDateInYYYYMMDD(new Date(parseInt(c[0],10),parseInt(c[1],10),0));t.text("Includes Time and Expenses up to ".concat(new Date(l).toString().slice(4,15)),i+35,230),t.setFontStyle("italic"),t.text("Processed by Inter-Ministry Electronic Chargeback System. Charges have already been made to ",15,260),t.text("your account and, unless you disagree with the charges no further action required by you",15,265),t.addPage(),t.setFontStyle("normal"),t.setFontStyle("bold"),t.text("Billing Details",15,15),t.setFontStyle("normal");var u=["Date","Description","Type","Resource","Hours","Rate","Amount"],d=a[o].details.map((function(t){return[t.entryDate,t.description?t.description:"",t.type,t.resource?t.resource:"",t.hours?t.hours:"",t.rate?t.rate:"",t.amount?"$".concat(t.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$0"]}));t.autoTable(u,d,{theme:"plain",tableWidth:"auto",margin:{top:30},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"}})}e.getMonthAndYear(e.selectedDate);t.save(a[0].documentPath)}})))},getMonthAndYear:function(t){if(t.length>0){var e=new Date("".concat(t.toString(),"-01")).toString().slice(4,7),r=new Date("".concat(t.toString(),"-01")).toString().slice(11,15),a="".concat(e," ").concat(r);return a}var n=(new Date).toISOString().slice(0,7);return n}},created:function(){this.fetchData()}}),qa=Ua,Wa=(r("4dfd"),r("3a2f")),Ya=Object(x["a"])(qa,Ba,Aa,!1,null,null,null),za=Ya.exports;j()(Ya,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VDataTable:br["a"],VDatePicker:Qt["a"],VDivider:w["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VMenu:Jt["a"],VSpacer:N["a"],VTextField:Zt["a"],VToolbar:E["a"],VToolbarTitle:B["a"],VTooltip:Wa["a"]});var Ha=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),t.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h1",{staticClass:"projects-header"})])],1):t._e(),r("v-divider"),r("v-layout",[r("v-flex",{attrs:{"md-2":""}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":""},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({staticClass:"calender-box",attrs:{label:"Choose Month","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[r("v-date-picker",{attrs:{"show-current":!0,type:"month"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.datefilter(t.date)}}},[t._v("OK")])],1)],1)],1),r("v-flex",{attrs:{"md-10":""}},[r("div",{staticClass:"start-button-div"},[r("v-btn",{staticClass:"start-button-style",attrs:{color:"primary",disabled:this.selectedProjects&&0===this.selectedProjects.length},on:{click:t.exportToPDF}},[t._v("Export Finances (PDF)")])],1)])],1),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable project-export-table",attrs:{headers:t.headers,items:t.projects,"hide-actions":"","multiple-select":t.singleSelect,"disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-left"},[r("v-checkbox",{attrs:{value:e.item.id,"input-value":e.selected},model:{value:t.selectedProjects,callback:function(e){t.selectedProjects=e},expression:"selectedProjects"}})],1),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.mou.name))]),r("td",{staticClass:"text-xs-left"},[t._v("\n            "+t._s([e.item.client.isNonMinistry?e.item.client.nonMinistryName:e.item.client.ministry.ministryName,e.item.orgDivision].join(" "))+"\n          ")]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.dateModified)))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],r("v-divider")],2)],1)},Qa=[],Ga={props:{title:String,selectedItem:Number},components:{Snackbar:Vt,Confirm:K,Spinner:Ut},data:function(){return{singleSelect:!1,selected:[],selectedProjects:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,selectedDate:"",headers:[{text:" ",value:" ",align:"left",sortable:!0},{text:"MOU Name",value:"mou.name",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0}],projectsList:[]}},computed:{projects:function(){return this.projectsList},userList:function(){return this.$store.state.users}},methods:{getAllProjectList:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,r={selectedDate:this.date},e.$refs.spinner&&e.$refs.spinner.open(),t.next=5,this.$store.dispatch("fetchTimesheetProjects",r).then((function(t){e.projectsList=e.$store.state.allProjects.filter((function(e){return t.some((function(t){return t.id===e.id}))})),e.$refs.spinner&&e.$refs.spinner.close()}),(function(t){try{var r=t.response.data.error.message;e.$refs.snackbar.displaySnackbar("error",r)}catch(a){}e.$refs.spinner&&e.$refs.spinner.close()}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAllProjectIds:function(){return this.selectedProjects},getDateInYYYYMMDD:function(t){var e="".concat(t.getFullYear()),r="0".concat(t.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(t.getDate());return a=a.substr(a.length-2),"".concat(e,"-").concat(r,"-").concat(a)},fetchData:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.datefilter(this.date);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),formatDate:function(t){var e=t.split("T");return e?e[0]:t},datefilter:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.selectedProjects=[],this.$refs.menu&&this.$refs.menu.save(e),this.selectedDate=e,0!==this.$store.state.allProjects.length){t.next=8;break}return t.next=6,this.$store.dispatch("fetchAllProjects").then((function(){r.getAllProjectList()}));case 6:t.next=9;break;case 8:this.getAllProjectList();case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),dataForPdfCreation:function(){return{}},exportToPDF:function(){var t=this,e=this.getAllProjectIds(),r=this;e=e.map((function(t){return{projectId:t}}));var a=[];e.length&&(r.$refs.spinner.open(),r.$store.dispatch("financeExport",{selectedProjects:e,selectedDate:this.date}).then((function(){if(r.$store.state.financeExport.forEach((function(t){var e=JSON.parse(t.exportData);a.push(e),r.$refs.spinner.close()})),0!==a.length){var e=new Ma.a({putOnlyUsedFonts:!0,orientation:"portrait"}),n=["Client","Responsibility","Service Line","STOB","Project","Amount"],s=a.map((function(t){return[t.clientNo?t.clientNo:"",t.responsibilityCenter?t.responsibilityCenter:"",t.serviceCenter?t.serviceCenter:"",t.stob?t.stob:"",t.projectCode?t.projectCode:"","$".concat(t.totalAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]})),i=(e.internal.pageSize.height,20);e.setFontSize(11),e.setFontStyle("bold"),e.text("Document # ",i,20),e.text(a[0].documentNo,i+35,20),e.text("SAP",i+150,20),e.text("Line Description: ",i,30),e.text(a[0].lineDesc,i+35,30),e.setFontSize(18),e.setFontStyle("normal"),e.autoTable(n,s,{theme:"plain",tableWidth:"auto",margin:{top:60},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"}}),e.setFontSize(11),e.setFontStyle("bold");for(var o=0;o<a.length;o++){e.addPage(),e.setFontStyle("normal"),e.setFontSize(11),e.text("Ministry of Citizens' Services",i+50,15),e.text("Procurement and Supply, Procurement Services Branch(Stategic and Advisory Services)",30,21),e.text("PO Box 9476 Stn Prov Govt",i+50,27),e.text("Victoria BC V8W 9W6",i+55,33),e.text("Ministry of Citizens' Services",15,55),e.text("OCIO - Technology Soultions",15,61),e.text(a[o].dateCreated.toString().slice(0,10),i+125,55),e.text(a[o].documentNo,i+125,61),e.text(a[o].clientNo?a[o].clientNo:"",i+125,70),e.text(a[o].responsibilityCenter?a[o].responsibilityCenter:"",i+125,76),e.text(a[o].serviceCenter?a[o].serviceCenter:"",i+125,82),e.text(a[o].stob?a[o].stob:"",i+125,88),e.text(a[o].projectCode?a[o].projectCode:"",i+125,94),e.setFontSize(12),e.setFontStyle("bold"),e.text("Notification of Charges",i+50,105),e.setFontStyle("normal"),e.setFontSize(11),e.text(a[o].projectName,40,115),e.text(a[o].reference?a[o].reference:"",40,122),e.text(a[o].contact?a[o].contact:"",40,129),e.setFontStyle("bold"),e.text("Date",i+110,55),e.text("Document #",i+97,61),e.text("Client  ",i+108,70),e.text("Responsibility",i+93,76),e.text("ServiceLine",i+97,82),e.text("STOB",i+107,88),e.text("ProjectsCode",i+93,94),e.text("Program",15,115),e.text("Reference",15,122),e.text("Contact",15,129),e.text("Fees",i+106,160),e.text("Expenses",i+106,169),e.text("Total",i+106,178),e.text("Contact",15,200),e.text("Number of Pages",15,220),e.setFontStyle("normal"),e.text("$".concat(a[o].fees.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),i+136,160),e.text("$".concat(a[o].expenses.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),i+136,169),e.text("$".concat(a[o].totalAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),i+136,178),e.text(a[o].contact?a[o].contact:"",i+38,200),e.text("Ministry of Citizens' Seevices",i+38,205);var c=t.date.split("-"),l=t.getDateInYYYYMMDD(new Date(parseInt(c[0],10),parseInt(c[1],10),0));e.text("Includes Time and Expenses up to ".concat(new Date(l).toString().slice(4,15)),i+35,230),e.setFontStyle("italic"),e.text("Processed by Inter-Ministry Electronic Chargeback System. Charges have already been made to ",15,260),e.text("your account and, unless you disagree with the charges no further action required by you",15,265),e.addPage(),e.setFontStyle("normal"),e.setFontStyle("bold"),e.text("Billing Details",15,15),e.setFontStyle("normal");var u=["Date","Description","Type","Resource","Hours","Rate","Amount"],d=a[o].details.map((function(t){return[t.entryDate,t.description?t.description:"",t.type,t.resource?t.resource:"",t.hours?t.hours:"",t.rate?t.rate:"",t.amount?"$".concat(t.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$0"]}));e.autoTable(u,d,{theme:"plain",tableWidth:"auto",margin:{top:30},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"}})}e.save(a[0].documentPath),t.getAllProjectList()}})))}},created:function(){this.fetchData()}},Ja=Ga,Xa=(r("2ca7"),Object(x["a"])(Ja,Ha,Qa,!1,null,null,null)),Za=Xa.exports;j()(Xa,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VCheckbox:fe["a"],VDataTable:br["a"],VDatePicker:Qt["a"],VDivider:w["a"],VFlex:rt["a"],VLayout:P["a"],VMenu:Jt["a"],VSpacer:N["a"],VTextField:Zt["a"],VToolbar:E["a"],VToolbarTitle:B["a"]});r("6fa9");var Ka={components:{ProjectsTable:Za,FinanceRecords:za},data:function(){return{color:wt.a,selected:"New Finance Report"}},computed:{},methods:{}},tn=Ka,en=(r("32e8"),Object(x["a"])(tn,Ea,La,!1,null,null,null)),rn=en.exports;j()(en,{VContainer:C["a"],VFlex:rt["a"],VLayout:P["a"],VRadio:pe["a"],VRadioGroup:ve["a"]});var an=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"page-container custom-intake-request-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"intake-request-header"},[t._v("Intake Requests")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("intake-forms-table")],1)],1)],1)},nn=[],sn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),t.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[t._v(t._s(t.title))])])],1):t._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.intakeRequests,"hide-actions":"","disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[r("span",{staticClass:"clickable",on:{click:function(r){return t.viewRequest(e.item.id)}}},[t._v(t._s(e.item.projectName))])]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t.calculatedvalue(e.item)))]),r("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==e.item.status?r("v-select",{attrs:{items:t.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return t.assignLead(e.item.projectLeadId,e.item)}},nativeOn:{click:function(r){return t.getProjectLead(e.item.projectLeadId)}},model:{value:e.item.projectLeadId,callback:function(r){t.$set(e.item,"projectLeadId",r)},expression:"props.item.projectLeadId"}}):t._e()],1),r("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==e.item.status?r("v-select",{attrs:{items:t.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return t.assignBackup(e.item.projectBackupId,e.item)}},nativeOn:{click:function(r){return t.getProjectBackup(e.item.projectBackupId)}},model:{value:e.item.projectBackupId,callback:function(r){t.$set(e.item,"projectBackupId",r)},expression:"props.item.projectBackupId"}}):t._e()],1),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.estimatedCompletionDate)))]),1===e.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left high-level"},[t._v("HIGH")]):2===e.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left medium-level"},[t._v("MEDIUM")]):3===e.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left low-level"},[t._v("LOW")]):r("td",{staticClass:"text-xs-left low-level"}),r("td",{staticClass:"text-xs-center"},["approved"===e.item.status?r("div",{staticClass:"approved-label caption"},[t._v("Approved")]):t._e(),"submitted"===e.item.status?r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return t.approveRequest(e.item.id)}}},[t._v("APPROVE")]):t._e()],1),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.viewRequest(e.item.id)}}},n),[r("v-icon",[t._v("visibility")])],1)]}}],null,!0)},[r("span",[t._v("View Project")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.deleteRequest(e.item.id)}}},n),[r("v-icon",[t._v("delete")])],1)]}}],null,!0)},[r("span",[t._v("Delete")])])],1)]}}])}),t.dialog?r("v-dialog",{attrs:{width:"800","margin-top":"91px"},on:{input:function(e){return t.closeDialog(!1)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-text",[r("v-icon",{staticClass:"v-model-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("close")]),r("intake-form-view",{attrs:{id:t.id}})],1)],1)],1):t._e()],r("v-divider")],2),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.mouDialog,callback:function(e){t.mouDialog=e},expression:"mouDialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Assign or Create")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[t._v("\n              Project: "+t._s(t.mouProjectName)+"\n\n              "),t.isNewMOU?r("v-text-field",{ref:"mouCombobox",attrs:{"item-text":"name",label:"New MOU"},model:{value:t.mou,callback:function(e){t.mou=e},expression:"mou"}}):r("v-select",{ref:"mouCombobox",attrs:{items:t.mouList,"item-text":"name","item-value":"name",label:"Assign MOU"},model:{value:t.mou,callback:function(e){t.mou=e},expression:"mou"}}),r("v-checkbox",{attrs:{label:(t.isNewMOU?"Create":"Assign")+" MOU"},model:{value:t.isNewMOU,callback:function(e){t.isNewMOU=e},expression:"isNewMOU"}})],1),r("v-flex",{attrs:{xs12:""}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.mouDialog=!1}}},[t._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.assignMOU()}}},[t._v("Save")])],1)],1)],1)],1)},on=[],cn=(r("2060"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:"",column:""}},[[r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("Project Information")]),r("intake-base-info-view",{ref:"intakeBaseInfoView",attrs:{project:t.intakeRequest,panelName:t.PROJECT_INFO}})],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("Ministry / Branch Information")]),r("ministry-branch-info-view",{ref:"intakeClientInfoView",attrs:{ministry:t.intakeRequest.client,panelName:t.CLIENTS_INFO}})],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("Contact Information")]),r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[t._v("Client Lead Contact Information")]),r("project-contact-info-view",{ref:"projectLead",attrs:{contact:t.getClientInfo(t.CLIENT_LEAD),contactNameLabel:"Client Lead Name"}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[t._v("Executive Sponsor Contact Information")]),r("project-contact-info-view",{ref:"projectSponsor",attrs:{contact:t.getClientInfo(t.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name"}})],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[t.isEnabled(t.CLIENT_FINANCE)?r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[t._v("Financial Contact Information")]),r("project-contact-info-view",{ref:"projectSponsor",attrs:{contact:t.getClientInfo(t.CLIENT_FINANCE),contactNameLabel:"Executive Sponsor Name"}})],1):t._e(),t.isEnabled(t.CLIENT_CONTACT)?r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[t._v("Additional Contact")]),r("project-additional-contact-info-view",{ref:"projectContact",attrs:{contact:t.getClientInfo(t.CLIENT_CONTACT),contactNameLabel:"Contact Name"}})],1):t._e()],1)],1)],1)]],2)],1)],1)],1)],1)}),ln=[],un=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:"","py-2":""}},[r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[t._v("Project Name:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.projectName))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[t._v("Desired Date of Completion:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.estimatedCompletionDate))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[t._v("Project Sector:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.projectSector.projectSectorName))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[t._v("Contract Amount:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t._f("withCommas")(t.form.estimatedContractValue)))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[t._v("Reprocurement?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[t.form.isReprocurement?r("div",{staticClass:"body-2"},[t._v("Yes")]):t._e(),t.form.isReprocurement?t._e():r("div",{staticClass:"body-2"},[t._v("No")])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[t.form.isReprocurement?r("div",{staticClass:"body-1"},[t._v("Date original contract ends:")]):t._e()]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.dateOfReprocurement))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[t.form.isReprocurement?r("div",{staticClass:"body-1"},[t._v("\n        What is the background from the previous contract?:\n      ")]):t._e()]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.previousContractBackground))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[t._v("What is the potential impact of this procurement project failing?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.projectFailImpact))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[t._v("What does success look like for this procurement project?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.projectSuccess))])])],1)],1)},dn=[];function fn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var pn={props:{project:Object},data:function(){var t=Object.assign({},this.$props.project),e=t.projectSector||null;e||(t.projectSector=new ie["a"]);var r=t.client||null;return r||(t.client=new oe["a"]),{form:mn({},t)}},watch:{project:function(t){this.form=t;var e=this.form.projectSector||null;e||(this.form.projectSector=new ie["a"])}}},vn=pn,hn=Object(x["a"])(vn,un,dn,!1,null,null,null),bn=hn.exports;j()(hn,{VFlex:rt["a"],VLayout:P["a"]});var xn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:"","py-2":""}},[t.form.isNonMinistry?t._e():r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Ministry:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.ministry.ministryName))])])],1),t.form.isNonMinistry?r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Non-Ministry:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.nonMinistryName))])])],1):t._e(),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Branch:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.orgDivision))])])],1),r("v-flex",{attrs:{xs12:""}},[r("generic-contact-info-view",{attrs:{contact:t.form}})],1),t.form.isNonMinistry?t._e():r("v-flex",{attrs:{xs12:"","pt-2":""}},[r("project-finance-info-view",{attrs:{financeInfo:t.form}})],1)],1)},yn=[],jn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:"","py-2":""}},[r("v-flex",{attrs:{xs12:""}},[r("h3",[t._v("Finance Codes")])]),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Client No:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.financeInfo.clientNo))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Responsibility Center:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.financeInfo.responsibilityCenter))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Service Center:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.financeInfo.serviceCenter))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Service STOB:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.financeInfo.stob))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Project Code:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.financeInfo.projectCode))])])],1)],1)},kn=[],gn={props:{financeInfo:Object}},Cn=gn,_n=Object(x["a"])(Cn,jn,kn,!1,null,null,null),wn=_n.exports;j()(_n,{VFlex:rt["a"],VLayout:P["a"]});var On=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:""}},[r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Address Line 1:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.contact.addressLine1))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Address Line 2:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.contact.addressLine2))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("City:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.contact.city))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Postal")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.contact.postalCode))])])],1)],1)},Pn=[],Sn={props:{contact:Object},data:function(){return{}}},In=Sn,Rn=Object(x["a"])(In,On,Pn,!1,null,null,null),$n=Rn.exports;function Dn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}j()(Rn,{VFlex:rt["a"],VLayout:P["a"]});var Nn={components:{ProjectFinanceInfoView:wn,GenericContactInfoView:$n},props:{ministry:Object},data:function(){var t=Object.assign({},this.$props.ministry),e=t.ministry||null;return e||(t.ministry=new se["a"]),{form:Tn({},t)}},watch:{ministry:function(t){this.form=t;var e=this.form.ministry||null;e||(this.form.ministry=new se["a"])}}},Vn=Nn,En=Object(x["a"])(Vn,xn,yn,!1,null,null,null),Ln=En.exports;j()(En,{VFlex:rt["a"],VLayout:P["a"]});r("6956");var Bn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:""}},[r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Contact Name:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.fullName))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Email Address:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.email))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Organization:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.orgName))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Position:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.orgPosition))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Phone Number:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.phoneNumber))])])],1)],1)},An=[];function Fn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Un={props:{contact:Object},data:function(){var t=Object.assign({},new gt,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:Mn({},t)}},watch:{contact:function(t){this.form=t||new gt}}},qn=Un,Wn=Object(x["a"])(qn,Bn,An,!1,null,null,null),Yn=Wn.exports;j()(Wn,{VFlex:rt["a"],VLayout:P["a"]});var zn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:""}},[r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Contact Name:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.fullName))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Email Address:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.email))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Organization:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.orgName))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Position:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.orgPosition))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[t._v("Phone Number:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v(t._s(t.form.phoneNumber))])])],1)])},Hn=[];function Qn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qn(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Jn={props:{contact:Object},data:function(){var t=Object.assign({},new gt,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:Gn({},t)}},watch:{contact:function(t){this.form=t||new gt}}},Xn=Jn,Zn=Object(x["a"])(Xn,zn,Hn,!1,null,null,null),Kn=Zn.exports;function ts(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ts(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ts(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}j()(Zn,{VFlex:rt["a"],VLayout:P["a"]});var rs={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo"},as={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact",CLIENT_FINANCE:"clientfinance"},ns={components:{IntakeBaseInfoView:bn,MinistryBranchInfoView:Ln,ProjectContactInfoView:Yn,ProjectAdditionalContactInfoView:Kn},props:{id:String},data:function(){var t;return es({projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,valid:!1,enabled:!0},rs,{panelStates:(t={},Object(l["a"])(t,rs.PROJECT_INFO,{value:!1}),Object(l["a"])(t,rs.CLIENTS_INFO,{value:!1}),Object(l["a"])(t,rs.CONTACTS_INFO,{value:!1}),t)},as)},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{fetchData:function(){var t=this.$router.currentRoute.params,e=t.id||this.$props.id;void 0!==e?this.$store.dispatch("fetchIntakeRequest",{id:e}):this.$store.dispatch("clearActiveIntakeRequest")},isEnabled:function(t){var e=this.$store.state.activeIntakeRequest.contacts||[],r=e.find((function(e){return e.contactType===t}));return!!r},getClientInfo:function(t){var e=this.$store.state.activeIntakeRequest.contacts||[],r=e.find((function(e){return e.contactType===t}));return r}},created:function(){this.fetchData()}},ss=ns,is=(r("5b12"),Object(x["a"])(ss,cn,ln,!1,null,null,null)),os=is.exports;j()(is,{VCard:G["a"],VCardText:J["b"],VContainer:C["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"]});var cs={props:{title:String},components:{Snackbar:Vt,Confirm:K,IntakeFormView:os},data:function(){return{headers:[{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"estimatedCompletionDate",sortable:!0},{text:"Risk Score",value:"intakeRiskLevel",sortable:!0},{text:"Status",value:"approved",align:"center",sortable:!1},{text:"Action",value:"action",align:"right",width:"110px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:"",pagination:{sortBy:"name"},dialog:!1,mouDialog:!1,id:"",mouProjectName:"",mou:"",isNewMOU:!1}},computed:{intakeRequests:function(){return this.$store.state.intakeRequests},userList:function(){return this.$store.state.users},mouList:function(){return this.$store.state.mouList}},methods:{closeDialog:function(){project.projectBackupId=this.selectedProjectBackup},calculatedvalue:function(t){var e=1==t.isNonMinistry?t.nonMinistryName:t.ministryName;return e},fetchData:function(){this.$store.dispatch("fetchIntakeRequests"),this.$store.dispatch("fetchMOUs")},viewRequest:function(t){this.id=t,this.dialog=!0},approveRequest:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("info","Are you sure to approve this request?");case 2:if(!t.sent){t.next=4;break}this.$store.dispatch("approveIntakeRequest",{id:e}).then((function(){r.$store.dispatch("fetchIntakeRequests"),r.$refs.snackbar.displaySnackbar("success","Request Approved.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getProjectLead:function(t){this.selectedLeadUser=t},assignLead:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r&&r.projectId?r.projectId:"",n=r&&r.projectName?r.projectName:"",s=e&&e.contact&&e.contact.fullName?e.contact.fullName:"",i=e&&e.id?e.id:"",!a||!i){t.next=14;break}return t.next=7,this.$refs.confirm.open("infoAssign","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!t.sent){t.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned.")})).catch((function(t){if(t&&t.response&&t.response.data&&t.response.data.error&&t.response.data.error.message){var e=t.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",e),r.projectLeadId=o.selectedLeadUser}else r.projectLeadId=o.selectedLeadUser,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead")})),t.next=12;break;case 11:r.projectLeadId=this.selectedLeadUser;case 12:t.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead");case 15:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),getProjectBackup:function(t){this.selectedProjectBackup=t},assignBackup:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r&&r.projectId?r.projectId:"",n=r&&r.projectName?r.projectName:"",s=e&&e.contact&&e.contact.fullName?e.contact.fullName:"",i=e&&e.id?e.id:"",!a||!i){t.next=14;break}return t.next=7,this.$refs.confirm.open("infoAssign","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!t.sent){t.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(t){if(t&&t.response&&t.response.data&&t.response.data.error&&t.response.data.error.message){var e=t.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",e),r.projectBackupId=o.selectedProjectBackup}else r.projectBackupId=o.selectedProjectBackup,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup")})),t.next=12;break;case 11:r.projectBackupId=this.selectedProjectBackup;case 12:t.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup");case 15:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),deleteRequest:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("danger","Are you sure you wish to delete this Intake Request? Note: If it has already been approved into a Project, the Project will be unaffected.");case 2:if(!t.sent){t.next=8;break}return t.next=5,this.$store.dispatch("deleteIntakeRequest",{id:e});case 5:this.fetchData(),this.$refs.snackbar.displaySnackbar("success","Deleted."),this.$router.push({path:"intake-requests"});case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),showMOUModal:function(t){this.mouProjectName=t.projectName,this.mouProjectId=t.id,this.mouProject=t,t.mouName&&(this.mou={id:t.mouId,name:t.mouName}),this.mouDialog=!0},assignMOU:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.mouCombobox.blur(),this.$nextTick(Object(W["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.mou&&""!==e.mou){t.next=2;break}return t.abrupt("return");case 2:if(r=e.mou.id,r||!e.mou){t.next=7;break}return t.next=6,e.$store.dispatch("createMOU",{name:e.mou});case 6:r=t.sent;case 7:return a=e.mouProject,a.mou={id:r,name:e.mou},t.next=11,e.$store.dispatch("updateIntakeRequest",a);case 11:t.sent,e.fetchData(),e.mouDialog=!1,e.mou=void 0;case 15:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toggleNewMou:function(t){this.mou=void 0}},created:function(){this.fetchData()}},ls=cs,us=Object(x["a"])(ls,sn,on,!1,null,null,null),ds=us.exports;j()(us,{VBtn:g["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:Ht["a"],VCheckbox:fe["a"],VContainer:C["a"],VDataTable:br["a"],VDialog:X["a"],VDivider:w["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VSelect:Xt["a"],VSpacer:N["a"],VTextField:Zt["a"],VToolbar:E["a"],VToolbarTitle:B["a"],VTooltip:Wa["a"]});r("9801");var fs={components:{IntakeFormsTable:ds},data:function(){return{color:wt.a,selectedTab:"tab-1"}}},ms=fs,ps=Object(x["a"])(ms,an,nn,!1,null,null,null),vs=ps.exports;j()(ps,{VContainer:C["a"],VFlex:rt["a"],VLayout:P["a"]});var hs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-intake-request-success",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{staticClass:"intake-success-layot",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("h1",[t._v("You have successfully submitted your project")])])]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("h3",{staticClass:"intake-secondary-header"},[t._v("\n          You will receive an email with next steps within a few business days.\n        ")])])]),r("v-flex",{staticClass:"intake-success-button",attrs:{xs12:""}},[r("v-btn",{staticClass:"white--text",attrs:{color:"btnPrimary"},on:{click:t.logout}},[t._v("Logout")])],1)],1)],1)},bs=[],xs=(r("771f"),{methods:{logout:function(){this.$router.push({path:"logout"})}}}),ys=xs,js=Object(x["a"])(ys,hs,bs,!1,null,null,null),ks=js.exports;j()(js,{VBtn:g["a"],VContainer:C["a"],VFlex:rt["a"],VLayout:P["a"]});var gs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticStyle:{width:"100%"},attrs:{"d-flex":"","justify-center":"","align-start":""}},[r("v-flex",{attrs:{md4:""}},[r("h1",{staticClass:"projects-header"},[t._v("View "+t._s(t.selected))])]),r("v-flex",{attrs:{md8:""}},[r("v-radio-group",{staticClass:"right-position",attrs:{row:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[r("v-radio",{attrs:{label:"My Projects",value:"My Projects"}}),r("v-radio",{attrs:{label:"All Projects",value:"All Projects"}}),r("v-radio",{attrs:{label:"Archived Projects",value:"Archived Projects"}})],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},["My Projects"===t.selected?r("projects-table",{attrs:{selectedItem:2}}):t._e(),"All Projects"===t.selected?r("projects-table",{attrs:{selectedItem:1}}):t._e(),"Archived Projects"===t.selected?r("archived-projects-table"):t._e()],1)],1),r("v-flex",{attrs:{md12:""}})],1)},Cs=[],_s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),t.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[t._v(t._s(t.title))])])],1):t._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.projects,"hide-actions":"","disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.mou?e.item.mou.name:"n/a"))]),r("td",{class:{archived:e.item.is_archived}},[r("span",{staticClass:"clickable",on:{click:function(r){return t.editProject(e.item.id)}}},[t._v(t._s(e.item.projectName))])]),r("td",{staticClass:"text-xs-left"},[t._v("\n            "+t._s([e.item.client.isNonMinistry?e.item.client.nonMinistryName:e.item.client.ministry.ministryName,e.item.orgDivision].join(" "))+"\n          ")]),r("td",{staticClass:"text-xs-left table-dropdown"},[e.item.teamWideProject?r("span",[t._v("TeamWide Project")]):t._e(),e.item.teamWideProject?t._e():r("v-select",{attrs:{items:t.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return t.assignLead(e.item.projectLeadUserId,e.item)}},nativeOn:{click:function(r){return t.getProjectLead(e.item.projectLeadUserId)}},model:{value:e.item.projectLeadUserId,callback:function(r){t.$set(e.item,"projectLeadUserId",r)},expression:"props.item.projectLeadUserId"}})],1),r("td",{staticClass:"text-xs-left table-dropdown"},[e.item.teamWideProject?t._e():r("v-select",{attrs:{items:t.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return t.assignBackup(e.item.projectBackupUserId,e.item)}},nativeOn:{click:function(r){return t.getProjectBackup(e.item.projectBackupUserId)}},model:{value:e.item.projectBackupUserId,callback:function(r){t.$set(e.item,"projectBackupUserId",r)},expression:"props.item.projectBackupUserId"}})],1),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.dateModified)))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.editProject(e.item.id)}}},n),[r("v-icon",[t._v("edit")])],1)]}}],null,!0)},[r("span",[t._v("Edit")])]),e.item.is_archived?r("v-btn",{attrs:{flat:""},on:{click:function(r){return t.archivePrompt(e.item,!1)}}},[t._v("\n              Archived\n            ")]):r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.archivePrompt(e.item,!0)}}},n),[r("v-icon",[t._v("archive")])],1)]}}],null,!0)},[r("span",[t._v("Archive")])])],1)]}}])})],r("v-divider")],2)],1)},ws=[],Os={props:{title:String,selectedItem:Number},components:{Snackbar:Vt,Confirm:K},data:function(){return{headers:[{text:"MOU / Contract",value:"mou",align:"left",sortable:!0},{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:""}},computed:{projects:function(){return 1===this.selectedItem?this.$store.state.allProjects:this.$store.state.projects},userList:function(){return this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchAllProjects"),this.$store.dispatch("fetchProjects")},editProject:function(t){var e=this;this.$store.state.activeProject.id=t,this.$store.dispatch("fetchAllProjectNotes",{id:this.$store.state.activeProject.id}),this.$store.dispatch("fetchProjectContacts",{id:this.$store.state.activeProject.id}).then((function(r){e.$router.push({path:"project/".concat(t)})}))},archivePrompt:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("info","Are you sure to archive project: ".concat(e.projectName,"?"));case 2:if(!t.sent){t.next=7;break}return e.is_archived=r,t.next=6,this.$store.dispatch("archiveProject",{id:e.id,is_archived:r});case 6:this.fetchData();case 7:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),viewProjectTimesheets:function(){this.$router.push({path:"timesheets"})},getProjectLead:function(t){this.selectedLeadUser=t},assignLead:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r&&r.id?r.id:"",n=r&&r.projectName?r.projectName:"",s=e&&e.contact&&e.contact.fullName?e.contact.fullName:"",i=e&&e.id?e.id:"",!a||!i){t.next=14;break}return t.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!t.sent){t.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned."),o.fetchData()})).catch((function(t){if(t&&t.response&&t.response.data&&t.response.data.error&&t.response.data.error.message){var e=t.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",e),r.projectLeadUserId=o.selectedLeadUser}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project lead"),r.projectLeadUserId=o.selectedLeadUser})),t.next=12;break;case 11:r.projectLeadUserId=this.selectedLeadUser;case 12:t.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),getProjectBackup:function(t){this.selectedProjectBackup=t},assignBackup:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r&&r.id?r.id:"",n=r&&r.projectName?r.projectName:"",s=e&&e.contact&&e.contact.fullName?e.contact.fullName:"",i=e&&e.id?e.id:"",!a||!i){t.next=14;break}return t.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!t.sent){t.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(t){if(t&&t.response&&t.response.data&&t.response.data.error&&t.response.data.error.message){var e=t.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",e),r.projectBackupUserId=o.selectedProjectBackup}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup"),r.projectBackupUserId=o.selectedProjectBackup})),t.next=12;break;case 11:r.projectBackupUserId=this.selectedProjectBackup;case 12:t.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),deleteProject:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("danger","");case 2:if(!t.sent){t.next=5;break}this.$store.dispatch("fetchProjects"),this.$refs.snackbar.displaySnackbar("success","Deleted.");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),formatDate:function(t){var e=t.split("T");return e?e[0]:t}},created:function(){this.fetchData()}},Ps=Os,Ss=Object(x["a"])(Ps,_s,ws,!1,null,null,null),Is=Ss.exports;j()(Ss,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VDataTable:br["a"],VDivider:w["a"],VIcon:O["a"],VSelect:Xt["a"],VToolbar:E["a"],VToolbarTitle:B["a"],VTooltip:Wa["a"]});var Rs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),t.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[t._v(t._s(t.title))])])],1):t._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.projects,"hide-actions":"","disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.mou?e.item.mou.name:"n/a"))]),r("td",{class:{archived:e.item.is_archived}},[t._v("\n            "+t._s(e.item.projectName)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[t._v("\n            "+t._s([e.item.client.ministry.ministryName,e.item.orgDivision].join(" "))+"\n          ")]),r("td",{staticClass:"text-xs-left"},[t._v("\n            "+t._s(e.item.teamWideProject?"teamWideProject":e.item.leadUserId)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[t._v("\n            "+t._s(e.item.teamWideProject?"":e.item.backupUserId)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(t._f("formatDate")(e.item.dateModified)))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.archivePrompt(e.item,!1)}}},n),[r("v-icon",[t._v("unarchive")])],1)]}}],null,!0)},[r("span",[t._v("Un-archive")])])],1)]}}])})],r("v-divider")],2)],1)},$s=[],Ds={props:{title:String},components:{Snackbar:Vt,Confirm:K},data:function(){return{headers:[{text:"MOU",value:"mouAmount",align:"left",sortable:!0},{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],archivedprojects:[],selectedLeadUser:"",selectedProjectBackup:""}},computed:{projects:function(){return this.$store.state.archivedProjects},userList:function(){return this.$store.state.users}},methods:{fetchArchivedData:function(){this.$store.dispatch("fetchArchivedProjects")},editProject:function(t){this.$router.push({path:"project/".concat(t)})},viewProjectTimesheets:function(){this.$router.push({path:"timesheets"})},getProjectLead:function(t){this.selectedLeadUser=t},getProjectBackup:function(t){this.selectedProjectBackup=t},deleteProject:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("danger","");case 2:if(!t.sent){t.next=5;break}this.$store.dispatch("fetchArchivedProjects"),this.$refs.snackbar.displaySnackbar("success","Deleted.");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),archivePrompt:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("info","Are you sure to un-archive project: ".concat(e.projectName,"?"));case 2:if(!t.sent){t.next=7;break}return e.is_archived=r,t.next=6,this.$store.dispatch("archiveProject",{id:e.id,is_archived:r});case 6:this.fetchArchivedData();case 7:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},created:function(){this.fetchArchivedData()}},Ts=Ds,Ns=Object(x["a"])(Ts,Rs,$s,!1,null,null,null),Vs=Ns.exports;j()(Ns,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VDataTable:br["a"],VDivider:w["a"],VIcon:O["a"],VToolbar:E["a"],VToolbarTitle:B["a"],VTooltip:Wa["a"]});var Es={components:{ProjectsTable:Is,ArchivedProjectsTable:Vs},data:function(){return{color:wt.a,selected:"My Projects"}},computed:{}},Ls=Es,Bs=(r("f32b"),Object(x["a"])(Ls,gs,Cs,!1,null,null,null)),As=Bs.exports;j()(Bs,{VContainer:C["a"],VFlex:rt["a"],VLayout:P["a"],VRadio:pe["a"],VRadioGroup:ve["a"]});var Fs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"page-container custom-timesheets-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"timesheet-header"},[t._v("Timesheets")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("timesheets-table")],1)],1)],1)},Ms=[],Us=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("spinner",{ref:"spinner"}),r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),t.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[t._v(t._s(t.title))])])],1):t._e(),r("v-card-title",[r("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[r("v-flex",{attrs:{"d-flex":"","justify-start":"","align-start":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Project","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),r("timesheets-toolbar",{ref:"timesheetstoolbar",on:{refresh:t.fetchData}})],1)],1),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[r("add-time-record",{ref:"AddTimeRecord",on:{"close-timesheet":t.closeTimesheet}}),[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.timesheetsList,"hide-actions":"","item-key":"id"},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.dateModified.toString().slice(0,10)))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.user.contact.fullName))]),r("td",[r("span",{staticClass:"clickable",on:{click:function(r){return t.viewRequest(e.item.id)}}},[t._v(t._s(e.item.project.projectName))])]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.hoursAccured))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.viewRequest(e.item.id)}}},n),[r("v-icon",[t._v("visibility")])],1)]}}],null,!0)},[r("span",[t._v("View Timesheet")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.editTimesheet(e.item.id)}}},n),[r("v-icon",[t._v("edit")])],1)]}}],null,!0)},[r("span",[t._v("Edit")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.deleteTimesheet(e.item.id)}}},n),[r("v-icon",[t._v("delete")])],1)]}}],null,!0)},[r("span",[t._v("Delete")])])],1)]}}])}),t.dialog?r("v-dialog",{attrs:{width:"800","margin-top":"91px"},on:{input:function(e){return t.closeDialog(!1)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-text",[r("v-icon",{staticClass:"v-model-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("close")]),r("timesheet-info-view",{attrs:{id:t.id}})],1)],1)],1):t._e()],r("v-divider")],2)],1)},qs=[],Ws=(r("6762"),r("2fdb"),r("386d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[r("v-flex",{staticStyle:{width:"100%"},attrs:{"d-flex":"","justify-center":"","align-start":""}},[r("v-flex",{attrs:{md6:""}},[r("timesheets-calendar",{ref:"WeekSelection"})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{attrs:{row:""},model:{value:t.selectedFilter,callback:function(e){t.selectedFilter=e},expression:"selectedFilter"}},[r("v-radio",{attrs:{label:"My Timesheets",value:"Mine"}}),r("v-radio",{attrs:{label:"Everyone's Timesheets",value:"All"}})],1)],1)],1),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("add-time-record",{ref:"AddTimeRecord",on:{"close-timesheet":t.closeTimesheet}}),r("v-btn",{staticClass:"add-timesheet-button",attrs:{color:"btnPrimary",dark:""},on:{click:t.newTimeRecord}},[t._v("+ Add Time Record")])],1)],1)}),Ys=[],zs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-top":-15,"nudge-right":0,lazy:"",transition:"scale-transition","offset-y":"","full-width":"",left:"","min-width":"285px","max-width":"285px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[r("v-layout",{staticStyle:{width:"100%"},attrs:{column:""}},[r("v-flex",{attrs:{my1:"","justify-center":""}},[r("div",{staticClass:"date-picker-container"},[r("v-btn-toggle",{staticClass:"v-btn-toggle--selected",staticStyle:{flex:"0 0 auto !important"}},[r("v-btn",{attrs:{flat:"",disabled:t.disabledatepicker},on:{click:t.setPreviousTimesheetsWeek}},[r("v-icon",[t._v("arrow_left")])],1),r("v-btn",{attrs:{flat:"",disabled:t.disabledatepicker},on:{click:t.toggleDatePicker}},[r("span",{staticStyle:{"padding-left":"1rem","padding-right":"1rem"}},[t._v(t._s(t.calendarText))])]),r("v-btn",{attrs:{flat:"",disabled:t.disabledatepicker},on:{click:t.setNextTimesheetsWeek}},[r("v-icon",[t._v("arrow_right")])],1)],1)],1),r("div",{class:"date-picker-container date-picker-wrapper "+t.getDatePickerClass()},[r("v-date-picker",{staticClass:"timesheets-date-picker",attrs:{"first-day-of-week":"1"},on:{input:t.setTimesheetsWeek},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1)])],1)]}}])})},Hs=[],Qs=r("2f62");function Gs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Js(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gs(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Xs={props:{title:String,addTimeRecord:Function},data:function(){return{calendarText:this.getCalendarText(),selectedDate:c()().format("YYYY-MM-DD"),showDatePicker:!1,disabledatepicker:!1}},watch:{timesheetsWeek:{handler:function(){this.setCalendarText()}}},computed:Js({},Object(Qs["b"])(["timesheetsWeek"])),methods:{disableWeekPicker:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabledatepicker=t},getCalendarText:function(){var t=[];t[0]="Jan",t[1]="Feb",t[2]="Mar",t[3]="Apr",t[4]="May",t[5]="Jun",t[6]="Jul",t[7]="Aug",t[8]="Sep",t[9]="Oct",t[10]="Nov",t[11]="Dec";var e=c()(sessionStorage.getItem("selectedStartDate")),r=c()(sessionStorage.getItem("selectedEndDate"));return e||r?"".concat(t[e.get("month")]," ").concat(e.get("date")," - ").concat(t[r.get("month")]," ").concat(r.get("date")):"Change Week"},setCalendarText:function(){this.calendarText=this.getCalendarText()},setPreviousTimesheetsWeek:function(){var t=c()(sessionStorage.getItem("selectedStartDate")).subtract(7,"days"),e=c()(sessionStorage.getItem("selectedEndDate")).subtract(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",t.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",e.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:t.format("YYYY-MM-DD"),endDate:e.format("YYYY-MM-DD")}),this.$emit("next",c()(sessionStorage.getItem("selectedStartDate")).subtract(14,"days"))},setNextTimesheetsWeek:function(){var t=c()(sessionStorage.getItem("selectedStartDate")).add(7,"days"),e=c()(sessionStorage.getItem("selectedEndDate")).add(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",t.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",e.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:t.format("YYYY-MM-DD"),endDate:e.format("YYYY-MM-DD")}),this.$emit("next",c()(sessionStorage.getItem("selectedStartDate")).add(14,"days"))},setTimesheetsWeek:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c()(t).day(1),a=c()(t).day(7);sessionStorage.setItem("selectedStartDate",r.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",a.format("YYYY-MM-DD")),e&&this.toggleDatePicker(),this.$store.dispatch("setTimesheetsWeek",{startDate:r.format("YYYY-MM-DD"),endDate:a.format("YYYY-MM-DD")})},toggleDatePicker:function(){this.showDatePicker=!this.showDatePicker},hideDatePicker:function(){this.showDatePicker=!1},getDatePickerClass:function(){return this.showDatePicker?"date-picker-active":""}},created:function(){this.setTimesheetsWeek(c()().format("YYYY-MM-DD"),!1)}},Zs=Xs,Ks=(r("014b7"),r("a609")),ti=Object(x["a"])(Zs,zs,Hs,!1,null,null,null),ei=ti.exports;j()(ti,{VBtn:g["a"],VBtnToggle:Ks["a"],VDatePicker:Qt["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VMenu:Jt["a"]});var ri=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{attrs:{id:"AddTimeRecord","content-class":"add-time-record"},on:{input:function(e){return t.closeDialog(!1)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-form",{ref:"AddimeRecords",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{md4:""}},[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Add Time Record")])])],1),r("v-flex",{attrs:{md8:""}},[r("v-flex",{staticClass:"d-flex cardheadlabel1"},[r("v-flex",{staticClass:"headerinfo",attrs:{md5:""}},[t._v("Information being entered by:")]),r("v-flex",{attrs:{md7:""}},[r("v-select",{staticClass:"currentuser",attrs:{rules:t.requiredRule,items:t.userList,"item-value":"id","item-text":"contact.fullName",disabled:t.editMode,label:"User","validate-on-blur":""},on:{input:function(e){return t.onChangeUser(t.form.userId)}},model:{value:t.form.userId,callback:function(e){t.$set(t.form,"userId",e)},expression:"form.userId"}})],1)],1),r("v-flex",{staticClass:"d-flex cardheadlabel2"},[r("v-flex",{attrs:{md4:""}},[t.form.project&&"weekly"===t.activeTab?r("v-flex",[r("b",[t._v("MOU amount:")]),t._v("\n                    $"+t._s(t.mouAmount)+"\n                  ")]):t._e()],1),t.timesheet&&"batch"==t.activeTab?r("v-flex",{attrs:{md4:""}},[r("b",[t._v("Currently Billed:")]),t._v("\n                  $"+t._s(t.getBilledAmount())+"\n                ")]):t.form.project&&t.timesheet&&t.timesheet[t.weeklyProjectIndex]&&t.timesheet[t.weeklyProjectIndex].amountBilled?r("v-flex",{attrs:{md4:""}},[r("b",[t._v("Currently Billed:")]),t._v("\n                  $"+t._s(t.timesheet[t.weeklyProjectIndex].amountBilled)+"\n                ")]):r("v-flex",{attrs:{md4:""}},[r("b",[t._v("Currently Billed:")]),t._v(" $0 ")]),r("v-flex",{attrs:{md4:""}},[r("b",[t._v("Legal Billed Amount:")]),t._v(" $0 ")])],1)],1)],1),r("v-divider",{staticClass:"header-divider"}),r("v-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[r("v-tab",{attrs:{href:"#batch"},on:{click:function(e){return t.onBatchEntry()}}},[t._v("Batch Entry")]),r("v-tab",{attrs:{href:"#weekly"},on:{click:function(e){return t.onWeekEntry()}}},[t._v("Weekly Entry")]),r("v-tab-item",{attrs:{value:"batch"}},[r("v-flex",[r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-flex",{staticClass:"week-change-control",attrs:{md6:""}},[r("timesheets-calendar",{ref:"TimeCalenderBatch",on:{next:t.onChangeWeek}})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{staticClass:"justify-end",attrs:{row:""},model:{value:t.recordType,callback:function(e){t.recordType=e},expression:"recordType"}},[r("v-radio",{attrs:{label:"Hours",value:1}}),r("v-radio",{attrs:{label:"Unbillable Hours",value:2}})],1)],1)],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:1===t.recordType,expression:"recordType === 1"}]},[r("batch-time-entry",{ref:"billableBatchEntry",attrs:{selectedItem:1,userId:t.form.userId,timesheet:t.timesheet,projectList:t.userMouProjects},on:{"add-row":t.addTimeSheetRow}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:2===t.recordType,expression:"recordType === 2"}]},[r("batch-time-entry",{ref:"nonBillableBatchEntry",attrs:{selectedItem:2,userId:t.form.userId,timesheet:t.timesheet,projectList:t.userMouProjects},on:{"add-row":t.addTimeSheetRow}})],1)],1)],1),r("v-tab-item",{attrs:{value:"weekly"}},["weekly"===t.activeTab?r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{rules:t.requiredRule,items:t.mouList,"item-text":"name","item-value":"id",label:"MOU",disabled:t.editMode,"validate-on-blur":""},on:{input:function(e){return t.onChangeMou(!1)}},model:{value:t.form.mou,callback:function(e){t.$set(t.form,"mou",e)},expression:"form.mou"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:t.projectList,rules:t.requiredRule,"item-text":"projectName","item-value":"id",label:"Project Name",disabled:t.editMode,"validate-on-blur":""},on:{input:function(e){return t.onChangeProjectWeeklyEntry()}},model:{value:t.form.project,callback:function(e){t.$set(t.form,"project",e)},expression:"form.project"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:t.projectRfx,rules:t.requiredRule,"item-text":"rfxName","item-value":"id",label:"Project Rfx",disabled:t.editMode,"validate-on-blur":""},on:{input:function(e){return t.onChangeProjectRfx()}},model:{value:t.form.rfx,callback:function(e){t.$set(t.form,"rfx",e)},expression:"form.rfx"}})],1)],1):t._e(),r("v-flex",[r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-flex",{staticClass:"week-change-control",attrs:{md6:""}},[r("timesheets-calendar",{ref:"TimeCalenderWeekly",on:{next:t.onChangeWeek}})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{staticClass:"justify-end",attrs:{row:""},model:{value:t.recordTypeWeekly,callback:function(e){t.recordTypeWeekly=e},expression:"recordTypeWeekly"}},[r("v-radio",{attrs:{label:"Hours",value:1}}),r("v-radio",{attrs:{label:"Expenses",value:2}}),r("v-radio",{attrs:{label:"Revenue",value:3}}),r("v-radio",{attrs:{label:"Unbillable Hours",value:4}})],1)],1)],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:1===t.recordTypeWeekly,expression:"recordTypeWeekly === 1"}]},[r("timesheet-entry",{ref:"Billable",attrs:{timesheet:t.computeTimesheet,selectedItem:1,days:t.timesheetEntryDays,projectIndex:t.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:2===t.recordTypeWeekly,expression:"recordTypeWeekly === 2"}]},[r("expense-entry",{ref:"AddExpense",attrs:{timesheet:t.computeTimesheet,days:t.timesheetEntryDays,projectIndex:t.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:3===t.recordTypeWeekly,expression:"recordTypeWeekly === 3"}]},[r("revenue-entry",{ref:"AddRevenue",attrs:{timesheet:t.computeTimesheet,days:t.timesheetEntryDays,projectIndex:t.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:4===t.recordTypeWeekly,expression:"recordTypeWeekly === 4"}]},[r("timesheet-entry",{ref:"NonBillable",attrs:{timesheet:t.computeTimesheet,selectedItem:4,days:t.timesheetEntryDays,projectIndex:t.weeklyProjectIndex}})],1)],1)],1)],1)],1),r("br"),r("br"),r("v-divider",{staticClass:"header-divider"}),r("v-card-actions",[r("v-btn",{staticClass:"btn-discard",attrs:{ripple:!1},on:{click:function(e){return t.closeDialog(!1)}}},[t._v("DISCARD TIMESHEET")]),r("v-flex",{staticClass:"add-btns"},[r("v-btn",{staticClass:"btn-normal",on:{click:function(e){return t.expotTimesheet()}}},[t._v("EXPORT TIMESHEET")]),r("v-btn",{staticClass:"add-new-row",attrs:{color:"primary",disabled:t.form.is_locked&&t.editMode},on:{click:function(e){return t.save()}}},[t._v(t._s(t.getSubmitButtonVal()))])],1)],1)],1)],1)],1)],1)},ai=[],ni=(r("8615"),r("7618")),si=(r("e3dbf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"add-expense",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[t._v("Day")]),r("v-flex",{attrs:{md2:""}},[t._v("Amount")]),r("v-flex",{attrs:{md3:""}},[t._v("Category")]),r("v-flex",{attrs:{md4:""}},[t._v("Description")]),r("v-flex",{attrs:{md2:""}})],1),t._l(t.timesheet[t.projectIndex].entries,(function(e,a){return r("v-layout",{key:e.entryDate,staticClass:"expense-records"},[r("v-flex",{attrs:{md1:""}},[t._v(t._s(t.days[a]))]),r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked,rules:t.amountRule,"prepend-inner-icon":"attach_money",oninput:"validity.valid||(value='');",value:t._f("withCommas")(e.expenseAmount)},on:{blur:function(t){return e.expenseAmount=parseFloat(t.target.value.toString().replace(/,/g,""))}}})],1),r("v-flex",{attrs:{md3:""}},[r("v-select",{attrs:{items:t.categoryOptions,"item-text":"category","item-value":"category",disabled:t.timesheet[t.projectIndex].is_locked},model:{value:e.expenseCategory,callback:function(r){t.$set(e,"expenseCategory",r)},expression:"item.expenseCategory"}})],1),r("v-flex",{attrs:{md4:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked},model:{value:e.expenseComment,callback:function(r){t.$set(e,"expenseComment",r)},expression:"item.expenseComment"}})],1),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:t.timesheet[t.projectIndex].is_locked},on:{click:function(r){return t.copyfunc(e.expenseAmount,e.expenseComment,e.expenseCategory)}}},n),[r("v-icon",[t._v("file_copy")])],1)]}}],null,!0)},[r("span",[t._v("Copy")])]),t.isCopy?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:t.timesheet[t.projectIndex].is_locked},on:{click:function(e){return t.pastefunc(a)}}},n),[r("v-icon",[t._v("post_add")])],1)]}}],null,!0)},[r("span",[t._v("Paste")])]):r("v-tooltip",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:!t.isCopy}},a))]}}],null,!0)},[r("span")])],1)],1)}))],2)],1)],1)}),ii=[],oi=(r("4df0"),{computed:{},components:{},data:function(){return{isCopy:!1,categoryOptions:[{category:"Fees"},{category:"Transporation"},{category:"Other"}],valid:!0,dialog:!1,amountRule:[function(t){if(!t)return!0;var e=t.toString().match(/^[0-9,_.-]*$/g,"");return!!e||"Field must just be a number."}]}},watch:{project:function(t){this.$store.dispatch("fetchProjectRfx",{id:t})}},props:{singleRow:Boolean,timesheet:Array,days:Array,projectIndex:Number},methods:{thousandSeprator:function(t){return""!==t||void 0!==t||0!==t||"0"!==t||null!==t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t},validate:function(){return this.$refs.form.validate()},copyfunc:function(t,e,r){this.isCopy=!0,this.expenseAmount=t,this.expenseComment=e,this.expenseCategory=r},pastefunc:function(t){this.timesheet[this.projectIndex].entries[t].expenseAmount=this.expenseAmount,this.timesheet[this.projectIndex].entries[t].expenseComment=this.expenseComment,this.timesheet[this.projectIndex].entries[t].expenseCategory=this.expenseCategory}}}),ci=oi,li=Object(x["a"])(ci,si,ii,!1,null,null,null),ui=li.exports;j()(li,{VBtn:g["a"],VContainer:C["a"],VFlex:rt["a"],VForm:Gt["a"],VIcon:O["a"],VLayout:P["a"],VSelect:Xt["a"],VTextField:Zt["a"],VTooltip:Wa["a"]});var di=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"add-revenue",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[t._v("Day")]),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n              Hours\n              "),r("v-icon",{attrs:{size:"20"}},[t._v("info")])],1),r("span",[t._v("\n              Hours (15min = 0.25)\n            ")])])],1),r("v-flex",{attrs:{md7:""}},[t._v("Description")]),r("v-flex",{attrs:{md2:""}})],1),t._l(t.timesheet[t.projectIndex].entries,(function(e,a){return r("v-layout",{key:e.entryDate,staticClass:"revenue-records"},[r("v-flex",{attrs:{md1:""}},[t._v(t._s(t.days[a]))]),r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked,type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:e.revenueHours,callback:function(r){t.$set(e,"revenueHours",r)},expression:"item.revenueHours"}})],1),r("v-flex",{attrs:{md7:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked},model:{value:e.revenueComment,callback:function(r){t.$set(e,"revenueComment",r)},expression:"item.revenueComment"}})],1),r("v-flex",{staticStyle:{"text-align":"right"},attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:t.timesheet[t.projectIndex].is_locked},on:{click:function(r){return t.copyfunc(e.revenueHours,e.revenueComment)}}},n),[r("v-icon",[t._v("file_copy")])],1)]}}],null,!0)},[r("span",[t._v("Copy")])]),t.isCopy?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:t.timesheet[t.projectIndex].is_locked},on:{click:function(e){return t.pastefunc(a)}}},n),[r("v-icon",[t._v("post_add")])],1)]}}],null,!0)},[r("span",[t._v("Paste")])]):r("v-tooltip",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:!t.isCopy}},a))]}}],null,!0)},[r("span")])],1)],1)}))],2)],1)],1)},fi=[],mi=(r("2b62"),{computed:{},components:{},data:function(){return{isCopy:!1,valid:!0,amountRule:[function(t){if(!t)return!0;var e=t.toString().match(/[1-9]\d*(?:\.\d{0,2})?/,"");return!!e||"Field must just be a number."}]}},watch:{},props:{singleRow:Boolean,timesheet:Array,days:Array,projectIndex:Number},methods:{validate:function(){return this.$refs.form.validate()},copyfunc:function(t,e){this.isCopy=!0,this.revenueHours=t,this.revenueComment=e},pastefunc:function(t){this.timesheet[this.projectIndex].entries[t].revenueHours=this.revenueHours,this.timesheet[this.projectIndex].entries[t].revenueComment=this.revenueComment}}}),pi=mi,vi=Object(x["a"])(pi,di,fi,!1,null,null,null),hi=vi.exports;j()(vi,{VBtn:g["a"],VContainer:C["a"],VFlex:rt["a"],VForm:Gt["a"],VIcon:O["a"],VLayout:P["a"],VTextField:Zt["a"],VTooltip:Wa["a"]});var bi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"timesheet-entry",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[t._v("Day")]),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n              Hours\n              "),r("v-icon",{attrs:{size:"20"}},[t._v("info")])],1),r("span",[t._v("\n              Hours (15min = 0.25)\n            ")])])],1),r("v-flex",{attrs:{md8:""}},[t._v("Description")]),r("v-flex",{attrs:{md1:""}})],1),t._l(t.timesheet[t.projectIndex].entries,(function(e,a){return r("v-layout",{key:e.entryDate,staticClass:"time-records"},[r("v-flex",{attrs:{md1:""}},[t._v(t._s(t.days[a]))]),1==t.selectedItem?r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked,type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:e.hoursBillable,callback:function(r){t.$set(e,"hoursBillable",r)},expression:"item.hoursBillable"}})],1):r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked,type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:e.hoursUnBillable,callback:function(r){t.$set(e,"hoursUnBillable",r)},expression:"item.hoursUnBillable"}})],1),1==t.selectedItem?r("v-flex",{attrs:{md8:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked},model:{value:e.commentsBillable,callback:function(r){t.$set(e,"commentsBillable",r)},expression:"item.commentsBillable"}})],1):r("v-flex",{attrs:{md8:""}},[r("v-text-field",{attrs:{disabled:t.timesheet[t.projectIndex].is_locked},model:{value:e.commentsUnBillable,callback:function(r){t.$set(e,"commentsUnBillable",r)},expression:"item.commentsUnBillable"}})],1),r("v-flex",{staticClass:"justify-end",attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:t.timesheet[t.projectIndex].is_locked},on:{click:function(r){return t.copyfunc(e)}}},n),[r("v-icon",[t._v("file_copy")])],1)]}}],null,!0)},[r("span",[t._v("Copy")])]),t.isCopy?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:t.timesheet[t.projectIndex].is_locked},on:{click:function(e){return t.pastefunc(a)}}},n),[r("v-icon",[t._v("post_add")])],1)]}}],null,!0)},[r("span",[t._v("Paste")])]):r("v-tooltip",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",disabled:!t.isCopy}},a))]}}],null,!0)},[r("span")])],1)],1)}))],2)],1)],1)},xi=[],yi=(r("d74a"),{computed:{},components:{},data:function(){return{valid:!0,isCopy:!1}},watch:{},props:{timesheet:Array,selectedItem:Number,days:Array,projectIndex:Number},created:function(){},methods:{validate:function(){return this.$refs.form.validate()},stringToDate:function(t){var e=t.split("-");return new Date(e[0],e[1]-1,e[2])},copyfunc:function(t){this.isCopy=!0,this.itemHours=1===this.selectedItem?t.hoursBillable:t.hoursUnBillable,this.itemDescription=1===this.selectedItem?t.commentsBillable:t.commentsUnBillable},pastefunc:function(t){1===this.selectedItem?(this.timesheet[this.projectIndex].entries[t].hoursBillable=this.itemHours,this.timesheet[this.projectIndex].entries[t].commentsBillable=this.itemDescription):(this.timesheet[this.projectIndex].entries[t].hoursUnBillable=this.itemHours,this.timesheet[this.projectIndex].entries[t].commentsUnBillable=this.itemDescription)}}}),ji=yi,ki=Object(x["a"])(ji,bi,xi,!1,null,null,null),gi=ki.exports;j()(ki,{VBtn:g["a"],VContainer:C["a"],VFlex:rt["a"],VForm:Gt["a"],VIcon:O["a"],VLayout:P["a"],VTextField:Zt["a"],VTooltip:Wa["a"]});var Ci=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),r("add-batch-comment",{ref:"addComment",attrs:{comment:t.itemComment},on:{savecomment:t.savecomment}}),r("v-flex",{staticClass:"batch-entry-container"},[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable batch-entry",attrs:{headers:t.headers,items:t.timesheet,"hide-actions":""},scopedSlots:t._u([{key:"headerCell",fn:function(e){return["Project"!=e.header.text&&"Project Rfx"!=e.header.text?r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n            "+t._s(e.header.text)+"\n            "),r("v-icon",{attrs:{size:"20"}},[t._v("info")])],1),r("span",[t._v("\n            Hours (15min = 0.25)\n          ")])]):r("span",[t._v(t._s(e.header.text))])]}},{key:"items",fn:function(e){return[e.item.deleted?t._e():[r("td",[r("v-select",{attrs:{items:t.userProjects,"item-value":"id","item-text":"projectName",disabled:t.editMode||e.item.is_locked||void 0!=e.item.id,label:"Project Name"},model:{value:e.item.project,callback:function(r){t.$set(e.item,"project",r)},expression:"props.item.project"}})],1),r("td",[r("v-select",{attrs:{items:t.getRfxList(e.item.project),"item-value":"id","item-text":"rfxName",rules:t.validateRfx(e.item.project,e.item.projectRfx),disabled:t.editMode||e.item.is_locked||void 0!=e.item.id,label:"Project Rfx","return-object":"","validate-on-blur":""},on:{change:function(r){return t.onChangeProjectRfxBatchEntry(e.index,e.item,e.item.project,e.item.projectRfx)}},nativeOn:{click:function(r){return t.getRfx(e.item.projectRfx,e.item.project)}},model:{value:e.item.projectRfx,callback:function(r){t.$set(e.item,"projectRfx",r)},expression:"props.item.projectRfx"}})],1),t._l(5,(function(a){return r("td",{key:a},[1==t.selectedItem?r("v-flex",{staticStyle:{float:"left"}},[r("v-text-field",{staticStyle:{float:"left",width:"70px"},attrs:{type:"number",max:"24",step:"0.01",min:"0",disabled:e.item.is_locked,oninput:"validity.valid||(value=0);"},model:{value:e.item.entries[a-1].hoursBillable,callback:function(r){t.$set(e.item.entries[a-1],"hoursBillable",r)},expression:"props.item.entries[index - 1].hoursBillable"}}),e.item.entries[a-1].commentsBillable?t._e():r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",t._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:e.item.is_locked,flat:"",icon:""},on:{click:function(r){return t.addcomment(e.item.entries[a-1].commentsBillable,a-1,e.index,"billable")}}},s),[r("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[r("span",[t._v("add comment")])]),e.item.entries[a-1].commentsBillable?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",t._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:e.item.is_locked,flat:"",icon:""},on:{click:function(r){return t.addcomment(e.item.entries[a-1].commentsBillable,a-1,e.index,"billable")}}},s),[r("v-icon",[t._v("create")])],1)]}}],null,!0)},[r("span",[t._v("edit comment")])]):t._e()],1):r("v-flex",{staticStyle:{float:"left"}},[r("v-text-field",{staticStyle:{float:"left",width:"70px"},attrs:{type:"number",max:"24",step:"0.01",disabled:e.item.is_locked,min:"0",oninput:"validity.valid||(value=0);"},model:{value:e.item.entries[a-1].hoursUnBillable,callback:function(r){t.$set(e.item.entries[a-1],"hoursUnBillable",r)},expression:"props.item.entries[index - 1].hoursUnBillable"}}),e.item.entries[a-1].commentsUnBillable?t._e():r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",t._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:e.item.is_locked,flat:"",icon:""},on:{click:function(r){return t.addcomment(e.item.entries[a-1].commentsUnBillable,a-1,e.index,"unbillable")}}},s),[r("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[r("span",[t._v("add comment")])]),e.item.entries[a-1].commentsUnBillable?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",t._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:e.item.is_locked,flat:"",icon:""},on:{click:function(r){return t.addcomment(e.item.entries[a-1].commentsUnBillable,a-1,e.index,"unbillable")}}},s),[r("v-icon",[t._v("create")])],1)]}}],null,!0)},[r("span",[t._v("edit comment")])]):t._e()],1)],1)}))]]}}])})],1),t.editMode?t._e():r("v-flex",[r("v-btn",{staticClass:"btn-normal",on:{click:t.addRow}},[t._v("ADD ANOTHER ENTRY")])],1)],1)},_i=[],wi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"newNote","max-width":"40%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-form",{ref:"newBatchComment",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-card",{staticStyle:{width:"100%"}},[r("br"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}}),r("v-flex",{staticClass:"headline",attrs:{md10:""}},[t._v("Add a Description")]),r("v-flex",{attrs:{md1:""}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},on:{click:function(e){return t.closeDialog()}}},[r("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])])],1),r("br"),r("v-divider"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}}),r("v-flex",{staticClass:"description-date",attrs:{md10:""}},[r("span",{staticClass:"datevalue"},[t._v("Date:"+t._s(new Date(t.date).toString().slice(0,10)))]),r("span",{staticClass:"projectvalue"},[t._v(t._s(t.project))])]),r("v-flex",{attrs:{md1:""}})],1),r("br"),r("br"),r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container",staticStyle:{"margin-left":"20px"}},[r("v-text-field",{staticClass:"pa-0",attrs:{name:"project-description",label:"Please input your description"},model:{value:t.batchComment,callback:function(e){t.batchComment=e},expression:"batchComment"}})],1)]),r("br"),r("br"),r("br"),r("br"),r("v-flex",{attrs:{md12:""}},[r("v-flex",[r("v-btn",{staticClass:"btn-discard",attrs:{ripple:!1},on:{click:function(e){return t.closeDialog()}}},[t._v("DISCARD")])],1),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:function(e){return t.saveComment()}}},[t._v("SUBMIT AND CLOSE")]),r("br"),r("br"),r("br"),r("br")],1)],1)],1)],1)],1)],1)],1)],1)},Oi=[],Pi={computed:{},components:{},data:function(){return this.initData()},watch:{},props:{comment:String},methods:{saveComment:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("savecomment",this.batchComment,this.index,this.sheetIndex,this.type),this.closeDialog();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),open:function(t,e,r,a,n,s){this.date=n,this.project=s,this.type=a,this.sheetIndex=r,this.index=e,this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0]&&(document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0)}),400),this.batchComment=t},closeDialog:function(){this.batchComment="",this.dialog=!1},initData:function(){return{date:"",project:"",flag:void 0,valid:!0,dialog:!1,batchComment:"",index:"",type:"",sheetIndex:""}}}},Si=Pi,Ii=(r("8249"),Object(x["a"])(Si,wi,Oi,!1,null,"f32dcc52",null)),Ri=Ii.exports;j()(Ii,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VDialog:X["a"],VDivider:w["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VTextField:Zt["a"]});var $i={components:{Snackbar:Vt,Confirm:K,AddBatchComment:Ri},computed:{userProjects:function(){return this.projectList}},data:function(){return{previousSelection:void 0,valid:!0,editMode:!1,itemComment:"",headers:[{text:"Project"},{text:"Project Rfx",sortable:!1},{text:"Mon",sortable:!1,value:1===this.$props.selectedItem?"item.entries[0].hoursBillable":"item.entries[0].hoursUnBillable"},{text:"Tue",sortable:!1,value:1===this.$props.selectedItem?"item.entries[1].hoursBillable":"item.entries[1].hoursUnBillable"},{text:"Wed",sortable:!1,value:1===this.$props.selectedItem?"item.entries[2].hoursBillable":"item.entries[2].hoursUnBillable"},{text:"Thu",sortable:!1,value:1===this.$props.selectedItem?"item.entries[3].hoursBillable":"item.entries[3].hoursUnBillable"},{text:"Fri",sortable:!1,value:1===this.$props.selectedItem?"item.entries[4].hoursBillable":"item.entries[4].hoursUnBillable"}]}},props:{selectedItem:Number,timesheet:Array,projectList:Array},watch:{},methods:{validateRfx:function(t,e){return void 0===t||""===t?[!0]:void 0===e||""===e?["This field is required."]:[!0]},addcomment:function(t,e,r,a){var n=this;this.itemComment=t;var s=this.projectList.find((function(t){return t.id===n.$props.timesheet[r].project})),i=this.$props.timesheet[r].entries[e].entryDate,o="",c="";s?(o="Date: ".concat(i),c="Project: ".concat(s.projectName)):o="Date: ".concat(i),this.$refs.addComment.open(t,e,r,a,o,c)},savecomment:function(t,e,r,a){"billable"===a?this.$props.timesheet[r].entries[e].commentsBillable=t:this.$props.timesheet[r].entries[e].commentsUnBillable=t},getRfxList:function(t){var e=this.projectList.find((function(e){return e.id===t}));return e?e.rfxList:[]},getRfx:function(t,e){if(this.previousSelection=void 0,void 0!==e){var r=this.projectList.find((function(t){return t.id===e}));if(r){var a=r.rfxList.find((function(e){return e.id===t}));a&&(this.previousSelection=a)}}},onChangeProjectRfxBatchEntry:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r,a,n){var s,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0===this.previousSelection){t.next=7;break}return t.next=3,this.$refs.confirm.open("info","Are you sure to change Rfx?");case 3:if(t.sent){t.next=7;break}return r.projectRfx=this.previousSelection.id,this.previousSelection=void 0,t.abrupt("return");case 7:if(s=this.timesheet.filter((function(t){return t.project&&(t.project===a.id||t.project.id===a.id)&&t.projectRfx&&(t.projectRfx===n.id||t.projectRfx.id===n.id)&&!t.deleted})),!(s.length>1)){t.next=15;break}return this.$refs.snackbar.displaySnackbar("info","This Rfx is already added"),this.previousSelection&&this.previousSelection.id?r.projectRfx=this.previousSelection.id:r.projectRfx=this.previousSelection,i=this.timesheet.filter((function(t){return!t.deleted})),i.length>1&&this.timesheet.length-1===e&&void 0===this.previousSelection&&(r.deleted=!0),this.previousSelection=void 0,t.abrupt("return");case 15:o=this.projectList.find((function(t){return t.id===a})),o&&(r.projectRfx=void 0,c=o.rfxList.find((function(t){return t.id===n.id})),c&&(r.projectRfx=c.id),r.project=o.id,r.mou=o.mouId),this.previousSelection=void 0;case 18:case"end":return t.stop()}}),t,this)})));function e(e,r,a,n){return t.apply(this,arguments)}return e}(),addRow:function(){this.$emit("add-row")}}},Di=$i,Ti=Object(x["a"])(Di,Ci,_i,!1,null,null,null),Ni=Ti.exports;function Vi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ei(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vi(Object(r),!0).forEach((function(e){Object(l["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}j()(Ti,{VBtn:g["a"],VDataTable:br["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VSelect:Xt["a"],VTextField:Zt["a"],VTooltip:Wa["a"]});var Li={computed:{computeTimesheet:{get:function(){return void 0===this.form.rfx||""===this.form.rfx?(0===this.blankTimesheet.length&&this.addTimeSheetRow(!0),this.weeklyProjectIndex=this.blankTimesheet.length-1,this.blankTimesheet):this.timesheet}},mouList:function(){return this.$store.state.mouList},userList:function(){return this.$store.state.users},timesheetEntryData:function(){return this.$store.state.timesheetEntryData},projectRfx:function(){return this.rfxList},mouAmount:function(){var t=this;if(!this.form||!this.form.mou||!this.form.project)return"";var e=this.userMouProjects.filter((function(e){return e.id===t.form.project}));return e[0]?e[0].mouAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},components:{Snackbar:Vt,Spinner:Ut,TimesheetsCalendar:ei,TimesheetEntry:gi,BatchTimeEntry:Ni,ExpenseEntry:ui,RevenueEntry:hi},data:function(){return this.initData()},watch:{},props:{},created:function(){this.clearTimesheet()},methods:{getSubmitButtonVal:function(){return this.editMode?"SAVE CHANGES":"SUBMIT"},getBilledAmount:function(){var t=this.timesheet.filter((function(t){return t.amountBilled&&t.amountBilled>0})).reduce((function(t,e){return t+Number(e.amountBilled)}),0);return t},fetchUser:function(){var t=this.$store.state.activeUser.refId,e=this.$store.state.users.find((function(e){return e.referenceId===t}));return e&&e.id?e.id:""},initData:function(){var t=Object.assign({});return{weeklyProjectIndex:0,timesheetEntryDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],timesheet:[],blankTimesheet:[],userMouProjects:[],projectList:[],rfxList:[],editMode:!1,activeTab:"weekly",recordType:1,recordTypeWeekly:1,valid:!0,requiredRule:[function(t){return!!t||"This field required"}],dialog:!1,form:Ei({},t)}},onChangeUser:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r,a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]&&n[1],this.$refs.spinner&&this.$refs.spinner.open(),this.clearTimesheet(),this.form.userId=e,a=this,a.mouList=[],a.projectList=[],a.rfxList=[],a.userMouProjects=[],t.next=11,a.$store.dispatch("fetchMouProjects",{id:e}).then((function(t){a.userMouProjects=t}));case 11:return r||this.getTimeSheets(),this.$refs.spinner&&this.$refs.spinner.close(),t.abrupt("return",a.userMouProjects);case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onChangeMou:function(t){var e=this;"undefined"!==typeof this.form.mou&&"undefined"!==typeof this.form.userId&&this.form.mou&&this.form.userId?this.projectList=this.userMouProjects.filter((function(t){return t.mouId===e.form.mou})):this.projectList=[],this.form.is_locked=!1,this.form.project=void 0,this.rfxList=[],this.form.rfx=void 0,t||(this.form.is_locked=!1)},onBatchEntry:function(){this.timesheet.length>1&&(this.timesheet=this.timesheet.filter((function(t){return""!==t.project&&void 0!==t.project})),0===this.timesheet.length&&this.addTimeSheetRow())},onWeekEntry:function(){0!==this.weeklyProjectIndex&&this.timesheet[this.weeklyProjectIndex].deleted&&(this.weeklyProjectIndex=0,this.form.is_locked=!1)},selectWeeklyProject:function(t,e,r){for(var a=this,n=-1,s=0;s<this.timesheet.length;s++)this.timesheet[s].projectRfx!==r||this.timesheet[s].deleted||(n=s);if(-1===n?(this.timesheet=this.timesheet.filter((function(t){return""!==t.projectRfx&&void 0!==t.projectRfx})),this.addTimeSheetRow(),this.weeklyProjectIndex=this.timesheet.length-1,this.form.is_locked=!1):(this.weeklyProjectIndex=n,this.form.is_locked=this.timesheet[this.weeklyProjectIndex].is_locked),this.timesheet[this.weeklyProjectIndex].project=t,this.timesheet[this.weeklyProjectIndex].mou=e,this.timesheet[this.weeklyProjectIndex].projectRfx=r,this.rfxList=[],""!==this.form.project&&void 0!==this.form.project&&this.form.project){var i=this.projectList.find((function(t){return t.id===a.form.project}));i&&(this.rfxList=i.rfxList,this.form.rfx=this.timesheet[this.weeklyProjectIndex].projectRfx)}},onChangeProjectWeeklyEntry:function(){var t=this;if(this.rfxList=[],this.form.rfx=void 0,this.form.project){var e=this.projectList.find((function(e){return e.id===t.form.project}));e&&(this.rfxList=e.rfxList)}},onChangeProjectRfx:function(){this.$refs.spinner&&this.$refs.spinner.open(),this.selectWeeklyProject(this.form.project,this.form.mou,this.form.rfx),this.blankTimesheet=[],this.addTimeSheetRow(!0),this.timesheet[this.weeklyProjectIndex].projectRfx=this.form.rfx,this.$refs.spinner&&this.$refs.spinner.close()},onChangeWeek:function(){this.$refs.spinner&&this.$refs.spinner.open(),this.getTimeSheets(!0),this.$refs.spinner&&this.$refs.spinner.close()},getTimeSheets:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,s=this,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]&&i[0],this.clearTimesheet(e),this.form.userId){t.next=4;break}return t.abrupt("return");case 4:r=this.getDatePart(this.$store.state.timesheetsWeek.startDate),a={startDate:r,userId:this.form.userId},n=this,n.$store.dispatch("fetchTimesheetEntries",a).then((function(){var t=n.$store.state.timesheetEntryData;if(t&&t[0]&&t[0].timesheetEntries){n.timesheet=[];for(var r=0;r<t.length;r++){var a={};a.project=t[r].project.id,a.mou=t[r].mou.id,a.projectRfx=t[r].projectRfx?t[r].projectRfx.id:void 0,a.userId=t[r].userId,a.startDate=t[r].startDate,a.endDate=t[r].endDate,a.deleted=!1,a.id=t[r].id,a.entries=t[r].timesheetEntries,a.is_locked=t[r].is_locked,a.amountBilled=t[r].amountBilled?t[r].amountBilled:0,n.timesheet.push(a)}n.$refs.TimeCalenderWeekly.setCalendarText(),n.$refs.TimeCalenderBatch.setCalendarText(),n.$refs.billableBatchEntry.editMode=!1,n.$refs.nonBillableBatchEntry.editMode=!1,n.editMode=!1,n.form.project&&n.form.mou&&e&&("weekly"===s.activeTab?n.selectWeeklyProject(n.form.project,n.form.mou,n.form.rfx):(n.form.project=void 0,n.form.mou=void 0,s.form.is_locked=!1),n.blankTimesheet=[],n.addTimeSheetRow(!0))}n.form.project&&n.form.mou&&e&&("weekly"===s.activeTab?n.selectWeeklyProject(n.form.project,n.form.mou,n.form.rfx):(n.form.project=void 0,n.form.mou=void 0,s.form.is_locked=!1),n.blankTimesheet=[],n.addTimeSheetRow(!0))}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editTimeEntries:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=this,r.$store.dispatch("fetchTimesheetById",{id:e}).then((function(){var t=r.$store.state.timesheetById;if(r.timesheet[r.weeklyProjectIndex].entries=t.timesheetEntries,r.timesheet[r.weeklyProjectIndex].startDate=t.startDate,r.timesheet[r.weeklyProjectIndex].endDate=t.endDate,r.timesheet[r.weeklyProjectIndex].userId=t.userId,r.timesheet[r.weeklyProjectIndex].mou=t.mou.id,r.timesheet[r.weeklyProjectIndex].project=t.project.id,r.timesheet[r.weeklyProjectIndex].is_locked=t.is_locked,r.timesheet[r.weeklyProjectIndex].amountBilled=t.amountBilled?t.amountBilled:0,r.timesheet[r.weeklyProjectIndex].projectRfx=t.projectRfx?t.projectRfx.id:void 0,r.timesheet[r.weeklyProjectIndex].deleted=!1,r.$store.state.timesheetsWeek.startDate=r.timesheet[r.weeklyProjectIndex].startDate,r.$store.state.timesheetsWeek.endDate=r.timesheet[r.weeklyProjectIndex].endDate,r.$refs.TimeCalenderWeekly.setCalendarText(),r.$refs.TimeCalenderBatch.setCalendarText(),r.form.mou=r.timesheet[r.weeklyProjectIndex].mou,a.onChangeMou(!0),a.form.is_locked=r.timesheet[r.weeklyProjectIndex].is_locked,r.form.project=r.timesheet[r.weeklyProjectIndex].project,r.rfxList=[],r.form.project){var e=r.projectList.find((function(t){return t.id===r.form.project}));e&&(r.rfxList=e.rfxList)}r.form.rfx=r.timesheet[r.weeklyProjectIndex].projectRfx?r.timesheet[r.weeklyProjectIndex].projectRfx:void 0,r.activeTab="weekly",r.editMode=!0,r.$refs.billableBatchEntry.editMode=!0,r.$refs.nonBillableBatchEntry.editMode=!0,a.blankTimesheet=[],a.addTimeSheetRow(!0)}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),open:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]&&r[0],this.dialog=!0,0!==this.$store.state.users.length){t.next=7;break}return this.$refs.spinner.open(),t.next=6,this.$store.dispatch("fetchUsers");case 6:this.$refs.spinner.close();case 7:if(this.initData(),this.$refs.AddimeRecords.resetValidation(),this.form.userId=this.fetchUser(),!this.form.userId){t.next=15;break}return t.next=13,this.onChangeUser(this.form.userId,e);case 13:t.next=16;break;case 15:this.clearTimesheet();case 16:this.$refs.TimeCalenderBatch.disableWeekPicker(e),this.$refs.TimeCalenderWeekly.disableWeekPicker(e),setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0]&&(document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0)}),400);case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),closeDialog:function(t){this.dialog=!1,this.$emit("close-timesheet",t)},save:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.AddimeRecords.validate()){t.next=11;break}if(this.$refs.Billable.validate()&&this.$refs.NonBillable.validate()&&this.$refs.AddRevenue.validate()&&this.$refs.AddExpense.validate()){t.next=4;break}return this.$refs.snackbar.displaySnackbarTop("error","Please correct validation errors."),t.abrupt("return");case 4:if("batch"!==this.activeTab){t.next=8;break}if(e=this.timesheet.filter((function(t){return""!==t.project&&void 0!==t.project})),0!==e.length){t.next=8;break}return t.abrupt("return");case 8:this.saveTimesheets(),t.next=12;break;case 11:this.$refs.snackbar.displaySnackbarTop("error","Please correct validation errors.");case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveTimesheets:function(){var t=this,e=this.timesheet.filter((function(t){return""!==t.project&&void 0!==t.project}));this.$refs.spinner.open(),this.$store.dispatch("addBatchTimesheet",e).then((function(){t.$refs.snackbar.displaySnackbar("success","Successfully saved time entries."),t.$refs.spinner.close(),t.closeDialog(!0)}),(function(e){if(t.$refs.spinner.close(),e&&e.response&&e.response.data){var r=e.response.data.error.message;t.$refs.snackbar.displaySnackbarTop("error",r)}else t.$refs.snackbar.displaySnackbarTop("error","Timesheet entry Error")}))},stringToDate:function(t){var e=t.split("-");return new Date(e[0],e[1]-1,e[2])},getDatePart:function(t){return"string"!==typeof t&&(t=t.format("YYYY-MM-DD")),t=this.stringToDate(t),this.getDateInYYYYMMDD(t)},getDateInYYYYMMDD:function(t){var e="".concat(t.getFullYear()),r="0".concat(t.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(t.getDate());return a=a.substr(a.length-2),"".concat(e,"-").concat(r,"-").concat(a)},clearTimesheet:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.form.mou=void 0,this.form.project=void 0,this.form.rfx=void 0,this.form.is_locked=!1),this.clearTimeEntries()},clearTimeEntries:function(){this.timesheet=[],this.addTimeSheetRow(),this.recordTypeWeekly=1,this.recordType=1,this.weeklyProjectIndex=0},addTimeSheetRow:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Date;if(this.$store.state.timesheetsWeek&&this.$store.state.timesheetsWeek.startDate){var r=this.stringToDate(this.$store.state.timesheetsWeek.startDate);e=new Date(r)}for(var a=[],n={},s=0;s<7;s++){var i={entryDate:this.getDateInYYYYMMDD(e),hoursBillable:0,hoursUnBillable:0,commentsBillable:"",commentsUnBillable:"",expenseAmount:0,expenseComment:"",expenseCategory:"",revenueHours:0,revenueComment:""};a.push(i),e.setDate(e.getDate()+1)}n.entries=a,n.id=void 0,n.deleted=!1,n.projectRfx=void 0,n.project=void 0,n.userId=this.form&&this.form.userId?this.form.userId:void 0,n.mou=void 0,n.is_locked=!1,n.amountBilled=0,n.startDate=n.entries[0].entryDate,n.endDate=n.entries[6].entryDate,t?this.blankTimesheet.push(n):this.timesheet.push(n)},ConvertToCSV:function(t){for(var e="object"!==Object(ni["a"])(t)?JSON.parse(t):t,r="",a=0;a<e.length;a++){var n="";for(var s in e[a])""!=n&&(n+=","),n+=e[a][s];r+="".concat(n,"\r\n")}return r},csvExport:function(t){var e=this,r="data:text/csv;charset=utf-8,";r+=[Object.keys(t[0]).join(",")].concat(Object(Je["a"])(t.map((function(t){return Object.values(t).join(",")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var a=encodeURI(r),n=document.createElement("a");if(window.navigator.msSaveOrOpenBlob){var s=new Blob([a]);window.navigator.msSaveOrOpenBlob(s,"export.csv")}else{n.setAttribute("href",a);var i=new Date,o="",c=this.$store.state.users.find((function(t){return t.id===e.form.userId}));c&&(o=c.contact.fullName);var l="TimeMachine-".concat(this.getDateInYYYYMMDD(i).toString(),"-").concat(o,".csv");n.setAttribute("download",l),n.click()}},expotTimesheet:function(){var t=this;if(this.form.userId){var e={userId:this.form.userId},r=this.$store.state.users.find((function(e){return e.id===t.form.userId})),a=0;r&&r.contact&&r.contact.hourlyRate&&(a=r.contact.hourlyRate);var n=0;r&&r.contact&&r.contact.revenueRate&&(n=r.contact.revenueRate);var s=this;s.$store.dispatch("fetchTimesheetEntriesByUser",e).then((function(){for(var e=[],r=0;r<s.$store.state.timesheetEntryDatabyUser.length;r++)for(var i=s.$store.state.timesheetEntryDatabyUser[r].timesheetEntries,o=s.$store.state.timesheetEntryDatabyUser[r].project.projectName,c=s.$store.state.timesheetEntryDatabyUser[r].projectRfx.rfxName,l=0;l<i.length;l++){var u=i[l];e.push({Project:o,"Project Rfx":c,Date:u.entryDate,"Billable Hours":u.hoursBillable?u.hoursBillable:0,"Hourly Rate":a,"Billable Comments":u.commentsBillable,"Unbillable Hours":u.hoursUnBillable?u.hoursUnBillable:0,"Unbillable Comments":u.commentsUnBillable,"Expense Amount":u.expenseAmount?u.expenseAmount:0,"Expense Category":u.expenseCategory,"Expense Description":u.expenseComment,"Revenue Hours":u.revenueHours?u.revenueHours:0,"Revenue Rate":n,"Revenue Description":u.revenueComment,Total:parseFloat(u.hoursBillable?u.hoursBillable:0,10)*parseFloat(a,10)+parseFloat(u.hoursUnBillable?u.hoursUnBillable:0,10)*parseFloat(a,10)+parseFloat(u.expenseAmount?u.expenseAmount:0,10)+parseFloat(u.revenueHours?u.revenueHours:0,10)*parseFloat(n,10)})}t.csvExport(e)}))}else this.$refs.snackbar.displaySnackbarTop("error","Please select user.")}}},Bi=Li,Ai=Object(x["a"])(Bi,ri,ai,!1,null,null,null),Fi=Ai.exports;j()(Ai,{VBtn:g["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:Ht["a"],VDialog:X["a"],VDivider:w["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"],VRadio:pe["a"],VRadioGroup:ve["a"],VSelect:Xt["a"],VTab:Cr["a"],VTabItem:_r["a"],VTabs:wr["a"]});var Mi={data:function(){return{selectedFilter:"Mine",startDateMain:this.$store.state.timesheetsWeek.startDate,endDateMain:this.$store.state.timesheetsWeek.endDate}},components:{TimesheetsCalendar:ei,AddTimeRecord:Fi},props:{title:String,addTimeRecord:{type:Function,default:function(){}}},methods:{closeTimesheet:function(t){t?(sessionStorage.setItem("selectedStartDate",this.$store.state.timesheetsWeek.startDate),sessionStorage.setItem("selectedEndDate",this.$store.state.timesheetsWeek.endDate),this.$refs.WeekSelection.setCalendarText(),this.$emit("refresh")):(sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$store.state.timesheetsWeek.startDate=this.startDateMain,this.$store.state.timesheetsWeek.endDate=this.endDateMain,this.$refs.WeekSelection.setCalendarText())},newTimeRecord:function(){this.startDateMain=this.$store.state.timesheetsWeek.startDate,this.endDateMain=this.$store.state.timesheetsWeek.endDate,sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$refs.AddTimeRecord.open()}}},Ui=Mi,qi=(r("740c"),Object(x["a"])(Ui,Ws,Ys,!1,null,null,null)),Wi=qi.exports;j()(qi,{VBtn:g["a"],VFlex:rt["a"],VLayout:P["a"],VRadio:pe["a"],VRadioGroup:ve["a"]});var Yi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:"",column:""}},[[r("spinner",{ref:"spinner"}),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("Timesheet Details")]),r("v-layout",{attrs:{column:"","py-2":""}},[r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("Project Name:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v("\n                        "+t._s(t.$store.state.timesheetById.project.projectName)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("MOU Amount:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v("\n                        "+t._s("$"+t.$store.state.timesheetById.project.mouAmount)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("Currently Billed:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v("\n                        "+t._s("$"+t.$store.state.timesheetById.amountBilled)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("MOU:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(t.$store.state.timesheetById.mou.name))])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("Project RFX:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v("\n                        "+t._s(t.$store.state.timesheetById.projectRfx.rfxName)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("Date From:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v("\n                        "+t._s(new Date(t.$store.state.timesheetById.startDate).toString().slice(0,15))+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("Date To:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v("\n                        "+t._s(new Date(t.$store.state.timesheetById.endDate).toString().slice(0,15))+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("Last Modified:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[t._v("\n                        "+t._s(new Date(t.$store.state.timesheetById.dateModified).toString().slice(0,15))+"\n                      ")])])],1)],1)],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("Billable Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Hours")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v("Description")])])],1)],1),t._l(t.$store.state.timesheetById.timesheetEntries,(function(e,a){return r("v-layout",{key:"A-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(t.dayValues[a]))])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.hoursBillable))])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.commentsBillable))])])],1)],1)})),r("br"),r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("Expense Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Amount")])]),r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[t._v("Category")])]),r("v-flex",{attrs:{md5:""}},[r("div",{staticClass:"body-2"},[t._v("Description")])])],1)],1),t._l(t.$store.state.timesheetById.timesheetEntries,(function(e,a){return r("v-layout",{key:"B-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(t.dayValues[a]))])]),r("v-flex",{attrs:{md2:"","justify-center":""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.expenseAmount))])]),r("v-flex",{attrs:{md3:"","justify-center":""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.expenseCategory))])]),r("v-flex",{attrs:{md5:"","justify-center":""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.expenseComment))])])],1)],1)})),r("br"),r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("Revenue Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Hours")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v("Description")])])],1)],1),t._l(t.$store.state.timesheetById.timesheetEntries,(function(e,a){return r("v-layout",{key:"C-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(t.dayValues[a]))])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.revenueHours))])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.revenueComment))])])],1)],1)})),r("br"),r("v-card-text",[r("label",{staticClass:"sub-header-large"},[t._v("UnBillable Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[t._v("Hours")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[t._v("Description")])])],1)],1),t._l(t.$store.state.timesheetById.timesheetEntries,(function(e,a){return r("v-layout",{key:"D-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(t.dayValues[a]))])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.hoursUnBillable))])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-1"},[t._v(t._s(e.commentsUnBillable))])])],1)],1)}))],2)]],2)],1)],1)],1)],1)},zi=[],Hi={components:{Spinner:Ut},props:{id:String},data:function(){return{dayValues:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}},computed:{},methods:{fetchUser:function(){var t=this.$store.state.activeUser.refId,e=this.$store.state.users.find((function(e){return e.referenceId===t}));return e.id},isEnabled:function(t){var e=this.$store.state.activeIntakeRequest.contacts||[],r=e.find((function(e){return e.contactType===t}));return!!r},getClientInfo:function(t){var e=this.$store.state.activeIntakeRequest.contacts||[],r=e.find((function(e){return e.contactType===t}));return r}},created:function(){}},Qi=Hi,Gi=(r("6d0b"),Object(x["a"])(Qi,Yi,zi,!1,null,null,null)),Ji=Gi.exports;j()(Gi,{VCard:G["a"],VCardText:J["b"],VContainer:C["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"]});var Xi={components:{TimesheetsToolbar:Wi,Spinner:Ut,AddTimeRecord:Fi,Snackbar:Vt,Confirm:K,TimesheetInfoView:Ji},props:{title:String,addTimeRecord:{type:Function,default:function(){}}},data:function(){return{startDateMain:this.$store.state.timesheetsWeek.startDate,endDateMain:this.$store.state.timesheetsWeek.endDate,pagination:{sortBy:"name",rowsPerPage:25},selected:[],dialog:!1,search:"",headers:[{text:"Date of Entry",value:"dateModified",align:"left",sortable:!0},{text:"Person",value:"user.contact.fullName",align:"left",sortable:!0},{text:"Proj. Name",value:"project.projectName",sortable:!0},{text:"Hours Accrued",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],timesheets:[],projects:[],expand:!1,rfxExpand:!1}},computed:{projectsRfx:function(){return this.$store.state.projectsRfx},timesheetsList:function(){var t=this,e=this.$store.state.userTimesheets;return this.$refs.timesheetstoolbar&&"All"===this.$refs.timesheetstoolbar.selectedFilter&&(e=this.$store.state.allTimesheets),this.$store.state.timesheetsWeek.startDate&&(e=e.filter((function(e){return e.startDate===t.$store.state.timesheetsWeek.startDate}))),this.search&&(e=e.filter((function(e){return e.project.projectName.toLowerCase().includes(t.search.toLowerCase())}))),e}},methods:{closeDialog:function(){this.dialog=!1},viewRequest:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this,t.next=3,r.$store.dispatch("fetchTimesheetById",{id:e}).then((function(t){r.$store.state.timesheetById=t,r.startDateMain=r.$store.state.timesheetsWeek.startDate,r.endDateMain=r.$store.state.timesheetsWeek.endDate,r.id=e,r.dialog=!0}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),closeTimesheet:function(t){t?this.fetchData():(sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$store.state.timesheetsWeek.startDate=this.startDateMain,this.$store.state.timesheetsWeek.endDate=this.endDateMain)},editTimesheet:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.startDateMain=this.$store.state.timesheetsWeek.startDate,this.endDateMain=this.$store.state.timesheetsWeek.endDate,r=this.timesheetsList.find((function(t){return t.id===e})),sessionStorage.setItem("selectedStartDate",r.startDate),sessionStorage.setItem("selectedEndDate",r.endDate),t.next=7,this.$refs.AddTimeRecord.open(!0);case 7:this.$refs.AddTimeRecord.editTimeEntries(e);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getFullname:function(t){var e=null;if(null!=t){var r=this.$store.state.users.filter((function(e){return e.id===t}));r.length>0&&(e=r[0].contact.fullName)}return e},fetchData:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.spinner&&this.$refs.spinner.open(),"All"!==this.$refs.timesheetstoolbar.selectedFilter){t.next=7;break}return t.next=4,this.$store.dispatch("fetchAllTimesheets");case 4:this.$store.dispatch("fetchUserTimesheets"),t.next=10;break;case 7:return t.next=9,this.$store.dispatch("fetchUserTimesheets");case 9:this.$store.dispatch("fetchAllTimesheets");case 10:this.$refs.spinner&&this.$refs.spinner.close();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goToProject:function(t){this.$router.push({path:"project/".concat(t)})},deleteTimesheet:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("danger","Are you sure to delete this record?");case 2:if(!t.sent){t.next=8;break}return t.next=5,this.$store.dispatch("deleteTimesheet",{id:e});case 5:return this.$refs.snackbar.displaySnackbar("success","Successfully deleted the record."),t.next=8,this.fetchData();case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initalfetch:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("fetchAllProjects");case 2:return t.next=4,this.$store.dispatch("fetchUserTimesheets");case 4:return t.next=6,this.$store.dispatch("fetchAllTimesheets");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.initalfetch()}},Zi=Xi,Ki=(r("575c"),Object(x["a"])(Zi,Us,qs,!1,null,null,null)),to=Ki.exports;j()(Ki,{VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VCardTitle:Ht["a"],VDataTable:br["a"],VDialog:X["a"],VDivider:w["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VTextField:Zt["a"],VToolbar:E["a"],VToolbarTitle:B["a"],VTooltip:Wa["a"]});r("6d40");var eo={components:{TimesheetsTable:to},data:function(){return{color:wt.a,selectedTab:"tab-1"}},beforeMount:function(){},computed:{}},ro=eo,ao=Object(x["a"])(ro,Fs,Ms,!1,null,null,null),no=ao.exports;j()(ao,{VContainer:C["a"],VFlex:rt["a"],VLayout:P["a"]});var so=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[t._v("Admin")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-subheader",[t._v("Admininistrator Controls")]),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/ministries"}},[t._v("Ministries")])],1),r("v-list-tile-sub-title",[t._v("Add or archive ministries")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("a",{attrs:{href:t.AUTH_URL,target:"_blank"}},[t._v("Keycloak - IAM")])]),r("v-list-tile-sub-title",[t._v("Login to Keycloak - to manage users")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/hourly-rates"}},[t._v("Set hourly rates")])],1),r("v-list-tile-sub-title",[t._v("Set hourly rates for users")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/revenue-rates"}},[t._v("Set revenue rates")])],1),r("v-list-tile-sub-title",[t._v("Set revenue rates for users")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/remove-mou"}},[t._v("Remove MOU")])],1),r("v-list-tile-sub-title",[t._v("Remove MOU's not connected with projects")])],1)],1)],1)],1)],1)],1)},io=[],oo=r("68ad"),co=r.n(oo),lo=r("4360"),uo="statics/keycloak",fo=new co.a("/".concat(uo,".json")),mo=function(t){var e="Unauthorized";switch(t){case"User":e="timemachineIntakeIntroduction";break;case"PSB_User":e="projects";break;case"PSB_Intake_User":e="projects";break;case"PSB_Admin":e="projects";break;case"manage_finances":e="timemachineFinance";break;default:break}return e},po=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];fo.init({onLoad:"login-required",responseMode:"query",checkLoginIframe:!1}).success((function(){if(fo.logoutUrl="".concat(fo.authServerUrl,"/realms/").concat(fo.realm)+"/protocol/openid-connect/logout?redirect_uri=".concat(document.baseURI),lo["a"].dispatch("authLogin",fo),e){var a,n=!1;if(e.forEach((function(t){fo.hasRealmRole(t)&&(n=!0,a=t)})),n)if(r){var s=mo(a);t({name:s})}else t();else t({name:"Unauthorized"})}else t();setInterval((function(){fo.updateToken(70).success((function(t){t&&lo["a"].dispatch("authLogin",fo)})).error((function(){console.error("Failed to refresh token")}))}),6e4)})).error((function(){console.log("failed to login")}))};function vo(){return"".concat(fo.authServerUrl,"/admin/").concat(fo.realm,"/console")}var ho={data:function(){return{color:wt.a,selectedTab:"tab-1",AUTH_URL:vo()}},beforeMount:function(){}},bo=ho,xo=Object(x["a"])(bo,so,io,!1,null,null,null),yo=xo.exports;j()(xo,{VContainer:C["a"],VFlex:rt["a"],VLayout:P["a"],VList:S["a"],VListTile:R["a"],VListTileContent:D["a"],VListTileSubTitle:D["b"],VListTileTitle:D["c"],VSubheader:V["a"]});var jo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("confirm",{ref:"confirm"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[t._v("Admin  Ministries")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",[r("v-flex",{attrs:{"sm-6":""}},[r("v-btn",{on:{click:function(e){return t.createMinistryPrompt()}}},[t._v("Create New Ministry")])],1),r("v-flex",{attrs:{"sm-6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Ministry","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.allMinistries},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{class:{archived:e.item.is_archived}},[t._v(t._s(e.item.ministryName))]),e.item.is_archived?r("td",{on:{click:function(r){return t.archivePrompt(e.item,!1)}}},[r("v-btn",{attrs:{flat:""}},[t._v("Restore")])],1):r("td",{on:{click:function(r){return t.archivePrompt(e.item,!0)}}},[r("v-btn",{attrs:{flat:"",color:"grey"}},[r("v-icon",[t._v("archive")]),t._v("Archive\n            ")],1)],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Create Ministry")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Ministry Name",required:""},model:{value:t.newMinistryName,callback:function(e){t.newMinistryName=e},expression:"newMinistryName"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.createMinistry(t.newMinistryName)}}},[t._v("Save")])],1)],1)],1)],1)},ko=[],go={components:{Confirm:K},data:function(){return{headers:[{text:"Ministry",align:"left",value:"ministryName"},Object(l["a"])({text:"Actions",value:"actions"},"value","is_archived")],dialog:!1,newMinistryName:"",search:""}},computed:{allMinistries:function(){var t=this;return this.search?this.$store.state.allMinistries.filter((function(e){return e.ministryName.toLowerCase().includes(t.search.toLowerCase())})):this.$store.state.allMinistries}},methods:{archivePrompt:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("info",r?"Are you sure to archive ".concat(e.ministryName,"?"):"Are you sure you wish to UN-ARCHIVE (i.e. restore) ".concat(e.ministryName,"?"));case 2:if(!t.sent){t.next=7;break}return e.is_archived=r,t.next=6,this.$store.dispatch("updateMinistries",e);case 6:this.$store.dispatch("fetchAllMinistries");case 7:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),createMinistryPrompt:function(){this.dialog=!0},createMinistry:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("addMinistry",{ministryName:e});case 2:this.dialog=!1,this.$store.dispatch("fetchAllMinistries");case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.$store.dispatch("fetchAllMinistries")}},Co=go,_o=(r("a46b"),Object(x["a"])(Co,jo,ko,!1,null,null,null)),wo=_o.exports;j()(_o,{VBtn:g["a"],VCard:G["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:Ht["a"],VContainer:C["a"],VDataTable:br["a"],VDialog:X["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VSpacer:N["a"],VTextField:Zt["a"]});var Oo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[t._v("Admin  Hourly Rates")])])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{sm6:"","offset-sm6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search User","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.users,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.contact.fullName))]),r("td",[r("v-edit-dialog",{attrs:{"return-value":e.item.contact.hourlyRate,lazy:""},on:{"update:returnValue":function(r){return t.$set(e.item.contact,"hourlyRate",r)},"update:return-value":function(r){return t.$set(e.item.contact,"hourlyRate",r)},save:function(r){return t.save(e.item.contact)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{label:"Rate","single-line":"",type:"number"},model:{value:e.item.contact.hourlyRate,callback:function(r){t.$set(e.item.contact,"hourlyRate",r)},expression:"props.item.contact.hourlyRate"}})]},proxy:!0}],null,!0)},[t._v("\n              "+t._s(e.item.contact.hourlyRate?"$"+e.item.contact.hourlyRate+"/hr":"n/a - click to set")+"\n              ")])],1)]}}])})],1)],1)],1)},Po=[],So={name:"admin-hourly-rates",components:{Snackbar:Vt},data:function(){return{headers:[{text:"Name",value:"contact.fullName"},{text:"Rate",value:"contact.hourlyRate"}],search:""}},computed:{users:function(){var t=this;return this.search?this.$store.state.users.filter((function(e){return e.contact.fullName.toLowerCase().includes(t.search.toLowerCase())})):this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchUsers")},save:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=parseInt(e.hourlyRate,10),r=isNaN(r)?null:r,t.next=4,this.$store.dispatch("updateContactPartial",{id:e.id,hourlyRate:r});case 4:this.$refs.snackbar.displaySnackbar("success","Data saved");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),cancel:function(){this.$refs.snackbar.displaySnackbar("info","Cancelled")},open:function(){},close:function(){}},created:function(){this.fetchData()}},Io=So,Ro=r("7679"),$o=Object(x["a"])(Io,Oo,Po,!1,null,null,null),Do=$o.exports;j()($o,{VContainer:C["a"],VDataTable:br["a"],VEditDialog:Ro["a"],VFlex:rt["a"],VLayout:P["a"],VTextField:Zt["a"]});var To=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[t._v("Admin  Revenue Rates")])])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{sm6:"","offset-sm6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search User","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.users,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.contact.fullName))]),r("td",[r("v-edit-dialog",{attrs:{"return-value":e.item.contact.revenueRate,lazy:""},on:{"update:returnValue":function(r){return t.$set(e.item.contact,"revenueRate",r)},"update:return-value":function(r){return t.$set(e.item.contact,"revenueRate",r)},save:function(r){return t.save(e.item.contact)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{label:"Rate","single-line":"",type:"number"},model:{value:e.item.contact.revenueRate,callback:function(r){t.$set(e.item.contact,"revenueRate",r)},expression:"props.item.contact.revenueRate"}})]},proxy:!0}],null,!0)},[t._v("\n              "+t._s(e.item.contact.revenueRate?"$"+e.item.contact.revenueRate+"/hr":"n/a - click to set")+"\n              ")])],1)]}}])})],1)],1)],1)},No=[],Vo={name:"admin-revenue-rates",components:{Snackbar:Vt},data:function(){return{headers:[{text:"Name",value:"contact.fullName"},{text:"Rate",value:"contact.revenueRate"}],search:""}},computed:{users:function(){var t=this;return this.search?this.$store.state.users.filter((function(e){return e.contact.fullName.toLowerCase().includes(t.search.toLowerCase())})):this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchUsers")},save:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=parseInt(e.revenueRate,10),r=isNaN(r)?null:r,t.next=4,this.$store.dispatch("updateContactPartial",{id:e.id,revenueRate:r});case 4:this.$refs.snackbar.displaySnackbar("success","Data saved");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),cancel:function(){this.$refs.snackbar.displaySnackbar("info","Cancelled")},open:function(){},close:function(){}},created:function(){this.fetchData()}},Eo=Vo,Lo=Object(x["a"])(Eo,To,No,!1,null,null,null),Bo=Lo.exports;j()(Lo,{VContainer:C["a"],VDataTable:br["a"],VEditDialog:Ro["a"],VFlex:rt["a"],VLayout:P["a"],VTextField:Zt["a"]});var Ao=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[t._v("Admin  Remove MOU")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:t.headers,items:t.mouList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),r("td",{staticClass:"text-xs-left"},[t.checkdelete(e.item.id)?r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",t._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return t.deleteRequest(e.item.id)}}},n),[r("v-icon",[t._v("delete")])],1)]}}],null,!0)},[r("span",[t._v("Delete")])]):r("span",[t._v("Already Assigned")])],1)]}}])})],1)],1)],1)},Fo=[],Mo={name:"admin-remove-mou",components:{Snackbar:Vt,Confirm:K},data:function(){return{headers:[{text:"MOU",value:"fullName"},{text:"Action",value:""}]}},computed:{mouList:function(){return this.$store.state.mouList}},methods:{checkdelete:function(t){var e=this.$store.state.allProjects.find((function(e){return e.mou&&e.mou.id===t}));return!e},fetchData:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.$store.state.allProjects.length){t.next=3;break}return t.next=3,this.$store.dispatch("fetchAllProjects");case 3:if(0!=this.$store.state.mouList.length){t.next=6;break}return t.next=6,this.$store.dispatch("fetchMOUs");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteRequest:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.confirm.open("danger","Are you sure you wish to delete this MOU?");case 2:if(!t.sent){t.next=8;break}return t.next=5,this.$store.dispatch("deleteMOUs",{id:e});case 5:return t.next=7,this.$store.dispatch("fetchMOUs");case 7:this.$refs.snackbar.displaySnackbar("success","Deleted.");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),cancel:function(){this.$refs.snackbar.displaySnackbar("info","Cancelled")},open:function(){},close:function(){}},created:function(){this.fetchData()}},Uo=Mo,qo=Object(x["a"])(Uo,Ao,Fo,!1,null,null,null),Wo=qo.exports;j()(qo,{VBtn:g["a"],VContainer:C["a"],VDataTable:br["a"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VTooltip:Wa["a"]});var Yo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("div",{staticClass:"unauthorized"},[r("v-form",[r("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("v-layout",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"unauthorized-title"},[t._v("Unauthorized")]),[r("v-expansion-panel",{staticClass:"my-5",attrs:{value:0}},[r("v-expansion-panel-content",[r("v-card",{staticClass:"py-5"},[r("v-card-text",[r("p",[t._v("Sorry, you do not have permission to access this part of the app. You will automatically be logout in "+t._s(t.timeUntilRedirect)+" seconds.")]),r("p",[t._v("Please contact your system or domain administrator if your require access to this part of the application.")])])],1)],1)],1)]],2)],1)],1)],1)],1)])},zo=[];r("c8de");a["default"].use(mt["a"]);var Ho={$_veeValidate:{validator:"new"},data:function(){return{timeUntilRedirect:5}},mounted:function(){var t=this,e=setInterval((function(){t.timeUntilRedirect--}),1e3);setTimeout((function(){clearInterval(e),console.log("LOGOUT TODO")}),5e3)}},Qo=Ho,Go=(r("54bb"),Object(x["a"])(Qo,Yo,zo,!1,null,null,null)),Jo=Go.exports;j()(Go,{VCard:G["a"],VCardText:J["b"],VContainer:C["a"],VExpansionPanel:er["a"],VExpansionPanelContent:rr["a"],VFlex:rt["a"],VForm:Gt["a"],VLayout:P["a"]});var Xo=function(t){var e=lo["a"].getters.SECURITY_AUTH;if(e.authenticated){var r=!1;return t.forEach((function(t){e.hasRealmRole(t)&&(r=!0)})),r}return!1},Zo=function(){var t=lo["a"].getters.SECURITY_AUTH;t.logout(),lo["a"].dispatch("authLogout")},Ko=function(){var t=lo["a"].getters.SECURITY_AUTH;return{Authorization:"Bearer ".concat(t.token)}},tc={init:po,roles:Xo,logout:Zo,header:Ko};a["default"].use(M["a"]);var ec=[{exact:!0,path:"/",name:"main",redirect:"/authorize",meta:{requiresAuth:!0}},{exact:!0,path:"/authorize",name:"authorize",component:lt,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","User","PSB_Intake_User","manage_finances"]}},{exact:!0,path:"/intake-intro",name:"timemachineIntakeIntroduction",component:Va,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{exact:!0,path:"/finance",name:"timemachineFinance",component:rn,meta:{requiresAuth:!0,roles:["manage_finances"]}},{exact:!0,path:"/intake",name:"timeMachineIntakeForm",component:Ia,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{path:"/intake/:id",name:"timeMachineIntakeFormDetails",component:Ia,meta:{requiresAuth:!0,roles:["PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/intake-success",name:"TimeMachineIntakeSuccess",component:ks,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{exact:!0,path:"/intake-requests",name:"timeMachineIntakeRequests",component:vs,meta:{requiresAuth:!0,roles:["PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/projects",name:"timeMachineProjects",component:As,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/archived",name:"timeMachineProjects",component:As,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/project",name:"project",component:Pr,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/project/:id",name:"projectDetails",component:Pr,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/timesheets",name:"timeMachineTimesheets",component:no,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/timesheets/:id",name:"timeMachineTimesheetsDetails",component:no,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/export",name:"export",component:null,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/admin",name:"admin",component:yo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/ministries",name:"admin-ministries",component:wo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/hourly-rates",name:"admin-hourly-rates",component:Do,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/revenue-rates",name:"admin-revenue-rates",component:Bo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/remove-mou",name:"admin-remove-mou",component:Wo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{path:"/unauthorized",name:"Unauthorized",props:!0,component:Jo}],rc=new M["a"]({mode:"history",base:"/",routes:ec});rc.beforeEach((function(t,e,r){if("/logout"===t.path&&(rc.push({path:"/"}),tc.logout()),t.meta.requiresAuth){var a=lo["a"].state.security.auth;if(a.authenticated)t.meta.roles?tc.roles(t.meta.roles)?r():r({name:"Unauthorized"}):r();else{var n="authorize"===t.name;tc.init(r,t.meta.roles,n)}}else r()}));var ac=rc,nc=r("db49"),sc=r("a925"),ic=r("8096"),oc=r.n(ic),cc=arguments,lc=window.sessionStorage,uc={};uc.i=oc()(),uc.ls={set:function(t,e){e=JSON.stringify(e),lc.setItem(t,e)},get:function(t,e){var r=lc.getItem(t,r);return r=null===r||"undefined"===r||""===r?e:JSON.parse(r),r}},uc.store=function(t,e){return cc.length<2?uc.ls.get(t):uc.ls.set(t,e)},a["default"].directive("back",(function(t,e){t.onclick=function(){return window.history.go(-1)}}));var dc=uc,fc=["en-US"];a["default"].use(sc["a"]);var mc={};fc.forEach((function(t){mc[t]=r("a610")("./".concat(t,"/index")).default}));var pc=new sc["a"]({locale:dc.ls.get("locale",nc["a"].locale),silentTranslationWarn:!0,messages:mc}),vc=pc,hc=function(){var t,e=this,r=e.$createElement,a=e._self._c||r;return a("div",[a("form",{attrs:{action:e.action},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e.groupBy?a("v-tabs",{attrs:{grow:"","scroll-bars":"",dark:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tabs-bar",{attrs:{slot:"activators"},slot:"activators"},[e._l(e.group.parents,(function(t,e){return a("v-tabs-item",{key:e,attrs:{href:"tab-"+e,ripple:""}})})),a("v-tabs-slider")],2),e._l(e.group.children,(function(t,r){return a("v-tabs-content",{key:r,attrs:{id:"tab-"+r}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",e._l(t,(function(t,r){return a("v-field",{key:r,attrs:{name:r,field:t},model:{value:e.model[r],callback:function(t){e.$set(e.model,r,t)},expression:"model[name]"}})})),1)],1)],1)}))],2):e._e(),e.groupBy?e._e():a("v-layout",e._b({},"v-layout",(t={},t[e.inline?"row":"column"]=!0,t),!1),[e._l(e.fields,(function(t,r){return a("v-field",{key:r,attrs:{name:r,field:t},model:{value:e.model[r],callback:function(t){e.$set(e.model,r,t)},expression:"model[name]"}})})),a("v-alert",{staticClass:"py-2",attrs:{error:""},model:{value:e.hasError,callback:function(t){e.hasError=t},expression:"hasError"}},e._l(e.errors,(function(t){return a("div",[e._v(" "+e._s(t.message))])})),0),e._t("default"),a("v-flex",{staticClass:"pt-2 actions",attrs:{xs12:""}},[e._t("buttons",[a("v-btn",{staticClass:"ma-0",attrs:{primary:"",dark:"",type:"submit"}},[e._v(e._s(e.$t(e.submitButtonText))),a("v-icon",{attrs:{right:"",dark:""}},[e._v(e._s(e.submitButtonIcon))])],1)])],2)],2)],1)])},bc=[],xc=r("c598"),yc=xc["a"],jc=r("0798"),kc=r("9a96"),gc=Object(x["a"])(yc,hc,bc,!1,null,null,null),Cc=gc.exports;j()(gc,{VAlert:jc["a"],VBtn:g["a"],VCard:G["a"],VCardText:J["b"],VFlex:rt["a"],VIcon:O["a"],VLayout:P["a"],VTabs:wr["a"],VTabsSlider:kc["a"]});var _c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",{attrs:{xs12:""}},[["select","select2"].includes(t.field.type)?r("v-select",t._b({attrs:{items:t.field.choices},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},"v-select",t.field,!1)):["radios","checkboxes"].indexOf(t.field.type)>-1?[r("p",[t._v(t._s(t.$t(t.field.label)))]),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.field.choices,(function(e){var a;return r("v-flex",t._b({key:t.field.value,attrs:{xs12:""}},"v-flex",(a={},a[t.field.width]=!0,a),!1),[r("radios"==t.field.type?"v-radio":"v-checkbox",{key:e.value,tag:"component",attrs:{"hide-details":"",value:e.value,label:e.text},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)})),1)]:["date","datetime","time"].indexOf(t.field.type)>-1?[r("v-menu",[r("v-text-field",{attrs:{slot:"activator",label:t.$t(t.field.label)},slot:"activator",model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),r("v-date-picker",{attrs:{"no-title":"",scrollable:"",actions:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)]:"html"==t.field.type?r("div",{class:t.inputGroupClass},[r("label",[t._v(t._s(t.$t(t.field.label)))]),r("div",{staticClass:"pt-2"},[r("quill-editor",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)]):["file","image","video"].includes(t.field.type)?r("div",{class:t.inputGroupClass},[r("label",[t._v(t._s(t.$t(t.field.label)))]),r("div",{staticClass:"pt-2"},[r("dropzone",{attrs:{id:"dropzone_"+t.name,url:t.$store.state.config.ajaxUploadUrl}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"hidden"},domProps:{value:t.model},on:{input:function(e){e.target.composing||(t.model=e.target.value)}}})])],1)]):r("v-text-field",t._b({attrs:{label:t.$t(t.field.label),placeholder:t.$t(t.field.placeholder),type:"text",multiLine:"textarea"==t.field.type},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},"v-text-field",t.field,!1))],2)},wc=[],Oc={props:{field:{type:Object,required:!0},name:{type:String,required:!1},value:{required:!1}},data:function(){return{inputGroupClass:"input-group input-group--dirty input-group--text-field"}},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},Pc=Oc,Sc=Object(x["a"])(Pc,_c,wc,!1,null,null,null),Ic=Sc.exports;j()(Sc,{VDatePicker:Qt["a"],VFlex:rt["a"],VLayout:P["a"],VMenu:Jt["a"],VSelect:Xt["a"],VTextField:Zt["a"]});var Rc=r("5887"),$c=r.n(Rc);a["default"].use($c.a,{componentPrefix:"vc"}),a["default"].use(s.a),a["default"].filter("formatDate",(function(t){if(t)return c()(String(t)).format("MM/DD/YYYY")})),a["default"].filter("withCommas",(function(t){if(t){var e=t.toString().match(/[^\d,.]+/g,"");if(e)return t;var r=t.toString().replace(/,/g,""),a=(new Intl.NumberFormat).format(r);return a}})),a["default"].component("v-form",Cc),a["default"].component("v-field",Ic),a["default"].directive("open-on-focus",{bind:function(t){t.addEventListener("focus",(function(t){t.target.click()}),!0)}}),a["default"].config.productionTip=!1;new a["default"]({el:"#app",i18n:vc,store:lo["a"],router:ac,render:function(t){return t(F)},mounted:function(){},methods:{back:function(){this.$router.go(-1)}}})},"575c":function(t,e,r){"use strict";var a=r("d69a"),n=r.n(a);n.a},"5b12":function(t,e,r){"use strict";var a=r("e6ae"),n=r.n(a);n.a},6956:function(t,e,r){},"6afe":function(t,e,r){"use strict";var a=r("f9b2"),n=r.n(a);n.a},"6d0b":function(t,e,r){"use strict";var a=r("ade2"),n=r.n(a);n.a},"6d40":function(t,e,r){},"6f86":function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(t){function e(){var t,r;Object(a["a"])(this,e);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(t=Object(i["a"])(e)).call.apply(t,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxPhaseName",""),r}return Object(c["a"])(e,t),Object(n["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,u["a"].setProperties(t,r)),r}}]),e}(u["a"]),f=function(t){function e(){var t,r;Object(a["a"])(this,e);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(t=Object(i["a"])(e)).call.apply(t,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxTypeName",""),r}return Object(c["a"])(e,t),Object(n["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,u["a"].setProperties(t,r)),r}}]),e}(u["a"]),m=function(t){function e(){var t,r;Object(a["a"])(this,e);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(t=Object(i["a"])(e)).call.apply(t,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxType",new f),Object(l["a"])(Object(o["a"])(r),"rfxPhase",new d),Object(l["a"])(Object(o["a"])(r),"rfxName",""),Object(l["a"])(Object(o["a"])(r),"rfxOverview",""),Object(l["a"])(Object(o["a"])(r),"clientResponsibilities",""),Object(l["a"])(Object(o["a"])(r),"psdResponsibilities",""),r}return Object(c["a"])(e,t),Object(n["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,u["a"].setProperties(t,r)),r}}]),e}(u["a"])},"6fa9":function(t,e,r){},"71c2":function(t,e,r){},"725a":function(t,e,r){},"72ed":function(t,e,r){"use strict";var a=r("c46a"),n=r.n(a);n.a},7369:function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=r("99e3"),f=r("4603"),m=function(t){function e(){var t,r;Object(a["a"])(this,e);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(t=Object(i["a"])(e)).call.apply(t,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",null),Object(l["a"])(Object(o["a"])(r),"projectName",""),Object(l["a"])(Object(o["a"])(r),"client",new d["a"]),Object(l["a"])(Object(o["a"])(r),"projectSector",new f["a"]),Object(l["a"])(Object(o["a"])(r),"commodityCode",""),Object(l["a"])(Object(o["a"])(r),"estimatedCompletionDate",""),Object(l["a"])(Object(o["a"])(r),"estimatedContractValue",null),Object(l["a"])(Object(o["a"])(r),"mouAmount",null),Object(l["a"])(Object(o["a"])(r),"description",""),Object(l["a"])(Object(o["a"])(r),"status",""),Object(l["a"])(Object(o["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(r),"dateModified",new Date),Object(l["a"])(Object(o["a"])(r),"contacts",[]),r}return Object(c["a"])(e,t),Object(n["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,u["a"].setProperties(t,r)),r}}]),e}(u["a"])},"740c":function(t,e,r){"use strict";var a=r("aa12"),n=r.n(a);n.a},"771f":function(t,e,r){},"78b2":function(t,e,r){},"7c7a":function(t,e,r){"use strict";var a=r("bdba"),n=r.n(a);n.a},8174:function(t,e,r){"use strict";r.r(e),e["default"]={Search:"Search","Create ":"Create ",Submit:"Submit",Edit:"Edit",Close:"Close","Field should be unique.":"Field should be unique."}},8249:function(t,e,r){"use strict";var a=r("d079"),n=r.n(a);n.a},8388:function(t,e,r){"use strict";var a=r("78b2"),n=r.n(a);n.a},8699:function(t,e,r){t.exports=r.p+"img/dashboard.97138a0a.svg"},"8d1e":function(t,e,r){"use strict";var a=r("d810"),n=r.n(a);n.a},"8fd5":function(t,e,r){},9801:function(t,e,r){},"99e3":function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=r("aae1"),f=function(t){function e(){var t,r;Object(a["a"])(this,e);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(t=Object(i["a"])(e)).call.apply(t,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"clientNo",null),Object(l["a"])(Object(o["a"])(r),"responsibilityCenter",null),Object(l["a"])(Object(o["a"])(r),"serviceCenter",null),Object(l["a"])(Object(o["a"])(r),"stob",null),Object(l["a"])(Object(o["a"])(r),"projectCode",null),Object(l["a"])(Object(o["a"])(r),"ministry",new d["a"]),Object(l["a"])(Object(o["a"])(r),"orgDivision",""),Object(l["a"])(Object(o["a"])(r),"email",""),Object(l["a"])(Object(o["a"])(r),"addressLine1",""),Object(l["a"])(Object(o["a"])(r),"addressLine2",""),Object(l["a"])(Object(o["a"])(r),"city",""),Object(l["a"])(Object(o["a"])(r),"province",""),Object(l["a"])(Object(o["a"])(r),"country",""),Object(l["a"])(Object(o["a"])(r),"postalCode",""),Object(l["a"])(Object(o["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(r),"dateModified",new Date),r}return Object(c["a"])(e,t),Object(n["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,u["a"].setProperties(t,r)),r}}]),e}(u["a"])},"9a1c":function(t,e,r){"use strict";var a=r("9da9"),n=r.n(a);n.a},"9da9":function(t,e,r){},a144:function(t,e,r){},a305:function(t,e,r){},a46b:function(t,e,r){"use strict";var a=r("c723"),n=r.n(a);n.a},a599:function(t,e,r){},a610:function(t,e,r){var a={"./en-US/index":"8174"};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="a610"},a616:function(t,e,r){t.exports=r.p+"img/ministryinfo.b197131b.svg"},aa12:function(t,e,r){},aae1:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(t){function e(){var t,r;Object(a["a"])(this,e);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(t=Object(i["a"])(e)).call.apply(t,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"ministryName",""),r}return Object(c["a"])(e,t),Object(n["a"])(e,null,[{key:"constructFromObject",value:function(t,r){return t&&(r=r||new e,u["a"].setProperties(t,r)),r}}]),e}(u["a"])},ab08:function(t,e,r){"use strict";r.d(e,"b",(function(){return a}));var a=function(t,e,r){if(!Object.prototype.hasOwnProperty.call(t,"href"))return!0;var a=e.options.routes;if(a instanceof Array){var n=a.filter((function(t){return!!Object.prototype.hasOwnProperty.call(t,"meta")&&!0===t.meta.requiresAuth})),s=n.filter((function(e){return e.meta.roles instanceof Array&&(!!e.exact&&e.path===t.href)})),i=s instanceof Array&&s.length>0?s[0]:void 0;if(void 0===i)return!0;for(var o=!1,c=0;c<i.meta.roles.length;c++)if(r.hasRealmRole&&r.hasRealmRole(i.meta.roles[c])){o=!0;break}return o}return!1},n=[{header:""},{href:"/intake-intro",title:"New Intake Request",icon:"post_add "},{href:"/intake-requests",title:"Intake Requests",icon:"inbox"},{href:"/projects",title:"Projects",icon:"folder"},{href:"/timesheets",title:"Timesheets",icon:"timelapse"},{href:"/finance",title:"Finance",icon:"attach_money"},{divider:!0},{href:"/admin",title:"Admin",icon:"lock_open"},{header:"System"},{href:"/logout",title:"Logout",icon:"exit_to_app"}];e["a"]=n},ade2:function(t,e,r){},b0fb:function(t,e,r){},b65b:function(t,e,r){},ba94:function(t,e,r){},bdba:function(t,e,r){},c0df:function(t,e,r){"use strict";var a=r("cd26"),n=r.n(a);n.a},c46a:function(t,e,r){},c598:function(t,e,r){"use strict";(function(t){e["a"]={props:{inline:{type:Boolean,default:!1},groupBy:{required:!1,type:String,default:null},action:{required:!1,type:String,default:null},submitButtonText:{required:!1,type:String,default:"Submit"},submitButtonIcon:{required:!1,type:String,default:"send"},method:{required:!1,type:String,default:"post"},value:{required:!1,type:Object,default:function(){}},fields:{required:!0,type:Object},rules:{required:!1,type:Object,default:function(){}},messages:{required:!1,type:Object,default:function(){}}},data:function(){return{model:this.value,hasError:!1,errors:[],message:""}},computed:{group:function(){if(!this.groupBy)return null;var t={},e={};for(var r in this.fields){var a=this.fields[r],n=a[this.groupBy],s=a.id;null===n?t[s]=a:(e[n]||(e[n]={}),e[n][r]=a)}return{parents:t,children:e}},autoSubmit:function(){return!!this.action}},watch:{value:function(t){this.model=t},model:"updateFields"},methods:{getGroupedFields:function(){},getFieldError:function(t){for(var e in this.errors){var r=this.errors[e];if(r.field===t)return r.message}},updateFields:function(){},onSubmit:function(){var e=this,r=t.validator.make(this.model,this.rules,this.messages);if(r.passes()){if(this.$emit("input",this.model),!this.autoSubmit)return this.$emit("submit"),!1;this.$http[this.method](this.action,this.model).then((function(t){var r=t.data;e.$emit("success",r),e.hasError=!1})).catch((function(t){var r=t.response,a=r.status,n=r.data;switch(e.hasError=!0,n.message&&(e.errors=[n]),a){case 422:e.errors=n;break;default:}e.$emit("error",a,n)}))}else{var a=r.getErrors();this.hasError=!0,this.errors=a,this.$emit("error",a)}}},mounted:function(){},created:function(){}}}).call(this,r("c8ba"))},c723:function(t,e,r){},c8de:function(t,e,r){},c911:function(t,e,r){},cb06:function(t,e,r){"use strict";var a=r("8fd5"),n=r.n(a);n.a},cb87:function(t,e,r){"use strict";var a=r("ce29"),n=r.n(a);n.a},cd26:function(t,e,r){},ce29:function(t,e,r){},d079:function(t,e,r){},d5ed:function(t,e,r){"use strict";var a=r("ddd1"),n=r.n(a);n.a},d69a:function(t,e,r){},d74a:function(t,e,r){},d810:function(t,e,r){},db49:function(t,e,r){"use strict";(function(t){var r="http://localhost:3333",a={locale:"en-US",url:r,ajaxUploadUrl:"".concat(r,"/admin/api/upload"),debug:{mock:!0,http:!1},api:"".concat(r,"/admin/api")};t.config=a,e["a"]=a}).call(this,r("c8ba"))},dccd:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r("ac6a"),r("456d");var a=r("d225"),n=r("b0b4"),s=function(){function t(e){var r;if(Object(a["a"])(this,t),e=e||null,this.length=0,this.items={},null!==e)for(r in e)e.hasOwnProperty(r)&&(this.items[r]=e[r],this.length++);return this}return Object(n["a"])(t,[{key:"setItem",value:function(t,e){var r;return this.hasItem(t)?r=this.items[t]:this.length++,this.items[t]=e,r}},{key:"getItem",value:function(t){return this.hasItem(t)?this.items[t]:void 0}},{key:"hasItem",value:function(t){return this.items.hasOwnProperty(t)}},{key:"removeItem",value:function(t){var e;if(this.hasItem(t))return e=this.items[t],this.length--,delete this.items[t],e}},{key:"keys",value:function(){var t,e=[];for(t in this.items)this.hasItem(t)&&e.push(t);return e}},{key:"values",value:function(){var t,e=[];for(t in this.items)this.hasItem(t)&&e.push(this.items[t]);return e}},{key:"each",value:function(t){var e;for(e in this.items)this.hasItem(e)&&t(e,this.items[e])}},{key:"clear",value:function(){this.items={},this.length=0}},{key:"has",value:function(t){return this.hasItem(t)}},{key:"get",value:function(t){return this.getItem(t)}},{key:"set",value:function(t,e){return this.setItem(t,e),this}},{key:"remove",value:function(t){return void 0!==this.removeItem(t)&&this}},{key:"count",value:function(){return Object.keys(this.items).length}}]),t}()},ddbb:function(t,e,r){},ddd1:function(t,e,r){},e007:function(t,e,r){"use strict";var a=r("ddbb"),n=r.n(a);n.a},e3dbf:function(t,e,r){},e63d:function(t,e,r){},e641:function(t,e,r){"use strict";var a="SECURITY_AUTH",n={authLogin:function(t,e){var r=t.commit;r(a,e)},authLogout:function(t){var e=t.commit;e(a)}},s=r("bd86"),i=Object(s["a"])({},a,(function(t){return t.auth})),o=Object(s["a"])({},a,(function(t,e){e?(t.auth=e,sessionStorage.setItem("keycloak_token",e.token),localStorage.setItem("keycloak_user",JSON.stringify(e.idTokenParsed))):sessionStorage.removeItem("keycloak_token")})),c={auth:{authenticated:!1}};e["a"]={state:c,actions:n,getters:i,mutations:o}},e6ae:function(t,e,r){},e8d8:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r("ac6a"),r("456d");var a=r("d225"),n=r("b0b4"),s=function(){function t(){Object(a["a"])(this,t)}return Object(n["a"])(t,null,[{key:"setProperties",value:function(t,e){var r=Object.keys(t);r.forEach((function(r){Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))}}]),t}()},ea3a:function(t,e,r){},ef3c:function(t,e,r){"use strict";(function(t){r("8e6e"),r("ac6a"),r("456d");var a=r("bd86"),n=(r("673e"),r("7f7f"),r("96cf"),r("3b8d")),s=r("2f62"),i=r("ab08");r("a144");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e["a"]={name:"App",methods:{changeLocale:function(e){t.helper.ls.set("locale",e),this.$i18n.locale=e},toggleMenuStyle:function(){this.mini=!this.mini,this.$store.state.collapseNavigationBar=!1},loadDefaultMenuStyle:function(){this.$store.state.collapseNavigationBar&&(this.mini=this.$store.state.collapseNavigationBar)},shouldDisplayMenuItem:function(t){return Object(i["b"])(t,this.$router,this.$store.getters.SECURITY_AUTH)},fetchInitialData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("fetchintakeRiskQuestions"),this.$store.dispatch("fetchMinistries"),this.$store.dispatch("fetchRFxPhases"),this.$store.dispatch("fetchRFxTypes"),this.$store.dispatch("fetchProjectSectors"),this.$store.dispatch("fetchProjectIntakeCategory"),this.$store.dispatch("fetchProjectIntakeServices"),this.$store.dispatch("fetchUsers"),this.$store.dispatch("fetchMOUs"),this.initialLoadDone=!0,this.userName=JSON.parse(localStorage.getItem("keycloak_user")).name,this.$store.state.activeUser.refId=JSON.parse(localStorage.getItem("keycloak_user")).sub;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.$store.state.collapseNavigationBar=!1},data:function(){return{dark:!1,theme:"primary",mini:!1,drawer:!0,locales:["en-US"],colors:["blue","green","purple","red"],isLoggedIn:this.$store.state.isLoggedIn,isToolbarHide:"login"===this.$router.currentRoute.name||"register"===this.$router.currentRoute.name,initialLoadDone:!1,userName:""}},computed:c({},Object(s["b"])(["message","menu","pageTitle"]),{fetchToken:function(){return this.$store.getters.SECURITY_AUTH.token}}),watch:{$route:function(t){this.isToolbarHide="login"===t.name||"register"===t.name,this.$store.state.collapseNavigationBar=!1},fetchToken:function(t,e){var r=this;console.log("fetchToken",{newValue:t,oldValue:e}),t!==e&&this.$store.dispatch("verifyTokenServer").then((function(){r.initialLoadDone||r.fetchInitialData()}))}}}}).call(this,r("c8ba"))},f32b:function(t,e,r){"use strict";var a=r("08e0"),n=r.n(a);n.a},f9b2:function(t,e,r){},fb94:function(t,e,r){},fce1:function(t,e,r){}});
//# sourceMappingURL=app.d5d87edb.js.map