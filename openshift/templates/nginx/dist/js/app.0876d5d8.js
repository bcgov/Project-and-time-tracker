(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0116":function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return d}));r("ac6a");var a=r("68ad"),n=r.n(a),s=r("4360"),i="statics/keycloak",o=new n.a("/".concat(i,".json")),c=[],l=function(e){var t="Unauthorized";switch(e){case"User":t="timemachineIntakeIntroduction";break;case"PSB_User":t="projects";break;case"PSB_Intake_User":t="projects";break;case"PSB_Admin":t="projects";break;case"manage_finances":t="timemachineFinance";break;default:break}return t};function u(){return c}function d(){return"".concat(o.authServerUrl,"/admin/").concat(o.realm,"/console")}t["a"]=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.init({onLoad:"login-required",responseMode:"query",checkLoginIframe:!1}).success((function(){if(o.logoutUrl="".concat(o.authServerUrl,"/realms/").concat(o.realm)+"/protocol/openid-connect/logout?redirect_uri=".concat(document.baseURI),s["a"].dispatch("authLogin",o),t){var a,n=!1;if(t.forEach((function(e){o.hasRealmRole(e)&&(n=!0,a=e,c.push(e))})),n)if(r){var i=l(a);e({name:i})}else e();else e({name:"Unauthorized"})}else e();setInterval((function(){o.updateToken(70).success((function(e){e&&s["a"].dispatch("authLogin",o)})).error((function(){console.error("Failed to refresh token")}))}),6e4)})).error((function(){console.log("failed to login")}))}},"014b7":function(e,t,r){"use strict";var a=r("ba94"),n=r.n(a);n.a},"036d":function(e,t,r){"use strict";var a=r("58eb"),n=r.n(a);n.a},"085a":function(e,t,r){},"08e0":function(e,t,r){},"0b70":function(e,t,r){},1190:function(e,t,r){},11901:function(e,t,r){},"1ed5":function(e,t,r){},2060:function(e,t,r){},"26ab":function(e,t,r){},"2a68":function(e,t,r){e.exports=r.p+"img/projectinfo.08b25936.svg"},"2a685":function(e,t,r){},"2b62":function(e,t,r){},"2ca7":function(e,t,r){"use strict";var a=r("26ab"),n=r.n(a);n.a},"32e8":function(e,t,r){"use strict";var a=r("b65b"),n=r.n(a);n.a},"3d84":function(e,t,r){},"3e80":function(e,t,r){"use strict";var a=r("e777"),n=r.n(a);n.a},4360:function(e,t,r){"use strict";(function(e){r("7514");var a=r("7618"),n=(r("96cf"),r("3b8d")),s=(r("a481"),r("ac6a"),r("75fc")),i=r("2b0e"),o=r("2f62"),c=r("d456"),l=r.n(c),u=r("ab08"),d=r("db49"),f=r("e641"),m=r("4712"),p=r("c1df"),v=r.n(p),h=r("7369"),b=r("dccd"),x=r("6f86"),y="https://timemachine-api-aifsul-prod.pathfinder.gov.bc.ca";if(console.log("API URL:",{API_URI:y}),i["default"].use(o["a"]),"undefined"===typeof f["a"])throw new Error("Security cannot be undefined");var g=new o["a"].Store({modules:{security:f["a"]},state:{menuIsOpen:!1,menu:u["a"],config:d["a"],activeUser:{},activeRoles:[],users:[],clients:[],services:[],projectSectors:[],projectIntakeCategory:[],projectIntakeServices:[],ministries:[],allMinistries:[],allFinanceCodes:[],rfxPhases:[],rfxTypes:[],timesheetEntryData:[],timesheetEntryDatabyUser:[],financeExport:[],downloadFinancePdf:[],dischargeFinanceRecord:[],timesheetById:[],projectRiskAnswers:[],intakeRiskQuestions:[],mouList:[],activeIntakeRequestId:null,activeIntakeRequest:{},intakeRequests:[],timesheetProjects:[],downloadedPdfs:[],activeProjectId:null,activeProject:{},activeProjectRfxData:[],activeProjectContacts:[],projects:[],archivedProjects:[],allProjects:[],projectsRfx:new b["a"],projectCategories:[],activeTimesheetEntryRowId:null,activeTimesheetEntryRow:{},timesheets:[],unbilledTimesheets:[],timesheetEntries:[],userTimesheets:[],allTimesheets:[],allProcurementLog:[],allProjectNotes:[],collapseNavigationBar:!1,projectInformation:!1,ministryInformation:!1,contactInformation:!1,intakeRisk:!1,timesheetsWeek:{startDate:null,endDate:null},drawerComments:!1,drawerCommentsEntries:[],verifyTokenServer:null,timeLogOfSelectedDate:null},mutations:{setAuth:function(t,r){var a=r.user,n=r.token;t.user=a,t.token=n,e.helper.ls.set("user",a),e.helper.ls.set("token",n)},setMenu:function(e,t){e.menu=t},setPageTitle:function(e,t){e.pageTitle=t},setFeedbackMessages:function(e,t,r){e.message={type:t,body:r}},setTimesheetsWeek:function(e,t){e.timesheetsWeek={startDate:t.startDate,endDate:t.endDate}},verifyTokenServer:function(e,t){e.verifyTokenServer=t},fetchMinistries:function(e,t){e.ministries=t},fetchAllMinistries:function(e,t){e.allMinistries=t},fetchAllFinanceCodes:function(e,t){e.allFinanceCodes=t},fetchintakeRiskQuestions:function(e,t){e.intakeRiskQuestions=t},fetchprojectRiskAnswers:function(e,t){e.projectRiskAnswers=t},fetchTimesheetEntries:function(e,t){e.timesheetEntryData=t},fetchTimesheetById:function(e,t){e.timesheetById=t},fetchTimesheetEntriesByUser:function(e,t){e.timesheetEntryDatabyUser=t},fetchFinanceExport:function(e,t){e.financeExport=t},downloadExportedPdf:function(e,t){e.downloadFinancePdf=t},reinstateFinanceRecords:function(e,t){e.reinstateFinanceRecords=t},dischargeFinPdf:function(e,t){e.dischargeFinanceRecord=t},fetchRFxPhases:function(e,t){e.rfxPhases=t},fetchTimesheetProjects:function(e,t){e.timesheetprojects=t},fetchExportedPdfs:function(e,t){e.downloadedPdfs=t},fetchDischargedPdfs:function(e,t){e.downloadedPdfs=t},retrieveDischargedPdfs:function(e,t){e.downloadedPdfs=t},fetchRFxTypes:function(e,t){e.rfxTypes=t},fetchProjectSectors:function(e,t){e.projectSectors=t,e.services=t},fetchProjectIntakeCategory:function(e,t){e.projectIntakeCategory=t,e.services=t},fetchProjectIntakeServices:function(e,t){e.projectIntakeServices=t,e.services=t},fetchProjectRfx:function(e,t){e.projectsRfx.set(t.projectId,t.content)},fetchProjectCategories:function(e,t){e.projectCategories=t},fetchClients:function(e,t){e.clients=t},fetchClient:function(){},fetchMOUs:function(e,t){e.mouList=t},addClient:function(){throw new Error("Not implemented!")},updateClient:function(){throw new Error("Not implemented!")},deleteClient:function(){throw new Error("Not implemented!")},fetchContacts:function(e,t){e.contacts=t},addContact:function(){throw new Error("Not implemented!")},updateContact:function(){throw new Error("Not implemented!")},deleteContact:function(){throw new Error("Not implemented!")},fetchUsers:function(e,t){e.users=t},addUser:function(){throw new Error("Not implemented!")},addMinistry:function(e,t){console.log("TODO - NOT SURE IF COMPLETE - addMinistry MUTATION called",{state:e,data:t})},updateUser:function(e,t){console.log("TODO",{users:e.users,data:t})},deleteUser:function(){throw new Error("Not implemented!")},fetchIntakeRequests:function(e,t){i["default"].set(e,"intakeRequests",Object(s["a"])(t))},fetchIntakeRequest:function(e,t){e.activeIntakeRequest=h["a"].constructFromObject(t)},clearActiveIntakeRequest:function(e,t){e.activeIntakeRequest=t},addIntakeRequest:function(e,t){e.activeIntakeRequest=h["a"].constructFromObject(t)},updateIntakeRequest:function(e,t){},deleteIntakeRequest:function(){},deleteMOUs:function(){},deleteFinanceCodes:function(){},updateProctLog:function(){},updateFinanceCodes:function(){},approveIntakeRequest:function(){throw new Error("Not implemented!")},assignContactToIntakeRequest:function(){throw new Error("Not implemented!")},createMOU:function(e,t){console.log("createMOU mutation",t),e.mouList.push(t)},fetchProjects:function(e,t){e.projects=[],t instanceof Array&&t.forEach((function(t){t.projectLeadUserId=t.leadUserId,t.projectBackupUserId=t.backupUserId,t.ministryInformation=t.ministryInformation;var r=e.projects.filter((function(e){return e.id===t.id}))||[];if(r.length>0){var a=e.projects.indexOf(r[0]);e.projects[a]=l()(e.projects[a],t)}else e.projects.push(t)}))},fetchProject:function(e,t){e.activeProject=t},fetchArchivedProjects:function(e,t){e.archivedProjects=t},fetchAllProjects:function(e,t){e.allProjects=[],t instanceof Array&&t.forEach((function(t){t.projectLeadUserId=t.leadUserId,t.projectBackupUserId=t.backupUserId,t.ministryInformation=t.ministryInformation;var r=e.allProjects.filter((function(e){return e.id===t.id}))||[];if(r.length>0){var a=e.allProjects.indexOf(r[0]);e.allProjects[a]=l()(e.allProjects[a],t)}else e.allProjects.push(t)}))},addProject:function(){throw new Error("Not implemented!")},updateProject:function(){},deleteProject:function(){throw new Error("Not implemented!")},assignResourceToProject:function(){throw new Error("Not implemented!")},assignContactToProject:function(){throw new Error("Not implemented!")},assignProjectLead:function(){},assignProjectBackup:function(){},fetchProjectContacts:function(e,t){e.activeProjectContacts=t},updateProjectContacts:function(){},updateProjectFinanceCodes:function(){},updateProcurementLog:function(){},addFinanceCodes:function(){},addProjectNotes:function(){},fetchProjectRFxData:function(e,t){console.log("fetchProjectRFxData",{data:t}),t&&0===t.length&&t.push(new x["a"]),e.activeProjectRfxData=t},addProjectRFxData:function(){},updateProjectRFxData:function(){},fetchTimesheets:function(e,t){var r=t.data,a=t.replace;r instanceof Array&&(!0===a?e.timesheets=r:r.forEach((function(t){var r=e.timesheets.filter((function(e){return e.id===t.id}))||[];if(r.length>0){var a=e.timesheets.indexOf(r[0]);e.timesheets[a]=l()(e.timesheets[a],t)}else e.timesheets.push(t)})))},fetchAllTimesheets:function(e,t){e.allTimesheets=t},fetchUserTimesheets:function(e,t){e.userTimesheets=t},fetchAllProcurementLog:function(e,t){e.allProcurementLog=t},fetchAllProjectNotes:function(e,t){e.allProjectNotes=t},getTimeLogOfSelectedDate:function(e,t){e.timeLogOfSelectedDate=t},addTimesheet:function(e,t){var r=t,a=e.timesheets.filter((function(e){return e.id===r.id}))||[];if(a.length>0){var n=e.timesheets.indexOf(a[0]);e.timesheets[n]=l()(e.timesheets[n],r)}else e.timesheets.push(r)},updateTimesheet:function(e,t){var r=t,a=e.timesheets.filter((function(e){return e.id===r.id}))||[];if(a.length>0){var n=e.timesheets.indexOf(a[0]);e.timesheets[n]=l()(e.timesheets[n],r)}else e.timesheets.push(r)},deleteTimesheet:function(e,t){var r=e.timesheets.filter((function(e){return e.id!==t.timesheetId}))||[];e.timesheets=r},addTimesheetEntry:function(){throw new Error("Not implemented!")},addWeekTimesheetEntries:function(){throw new Error("Not implemented!")},updateTimesheetEntry:function(){throw new Error("Not implemented!")},updateWeekTimesheetEntries:function(){throw new Error("Not implemented!")},deleteTimesheetEntry:function(){throw new Error("Not implemented!")},deleteWeekTimesheetEntries:function(){throw new Error("Not implemented!")},approveTimesheetEntry:function(){throw new Error("Not implemented!")},approveWeekTimesheetEntries:function(){throw new Error("Not implemented!")},addTimesheetEntryComment:function(){throw new Error("Not implemented!")},updateTimesheetEntryComment:function(){throw new Error("Not implemented!")},deleteTimesheetEntryComment:function(){throw new Error("Not implemented!")},archiveProject:function(e,t){console.log("archiveProject response",t)}},actions:{checkAuth:function(t){var r={user:e.helper.ls.get("user"),token:e.helper.ls.get("token")};t.commit("setAuth",r)},setTimesheetsWeek:function(e,t){e.commit("setTimesheetsWeek",{startDate:t.startDate,endDate:t.endDate})},verifyTokenServer:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/auth/verify")).then((function(e){var r=e.data;return t.commit("verifyTokenServer",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 2:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchMinistries:function(e){m["a"].get("".concat(y,"/ministry")).then((function(t){var r=t.data;e.commit("fetchMinistries",r)}))},fetchAllMinistries:function(e){m["a"].get("".concat(y,"/ministry/all")).then((function(t){var r=t.data;e.commit("fetchAllMinistries",r)}))},fetchAllFinanceCodes:function(e){m["a"].get("".concat(y,"/financecode/all")).then((function(t){var r=t.data;console.log("fincodes:",r),e.commit("fetchAllFinanceCodes",r)}))},addMinistry:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,n=m["a"].post("".concat(y,"/ministry"),a).then((function(e){var r=e.data;return t.commit("addMinistry",r),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(n));case 3:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateMinistries:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].patch("".concat(y,"/ministry/").concat(r.id,"/update"),r).then((function(e){return console.log("updateMinistires RESPONSE",{res:e}),Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchintakeRiskQuestions:function(e){m["a"].get("".concat(y,"/project-risk")).then((function(t){var r=t.data;e.commit("fetchintakeRiskQuestions",r)}))},fetchprojectRiskAnswers:function(e,t){m["a"].get("".concat(y,"/project-risk/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchprojectRiskAnswers",r)}))},fetchTimesheetById:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].get("".concat(y,"/timesheet/").concat(r.id),a).then((function(e){var r=e.data;return t.commit("fetchTimesheetById",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),financeExport:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/finance"),a).then((function(e){var r=e.data;return t.commit("fetchFinanceExport",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),downloadFinancePdf:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/downloadFinancePdf"),a).then((function(e){var r=e.data;return t.commit("downloadExportedPdf",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),dischargeFinanceRecords:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/dischargeFinanceRecord"),a).then((function(e){var r=e.data;return t.commit("downloadExportedPdf",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),regenerateFinanceRecords:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/reGenerateFinanceRecord"),a).then((function(e){var r=e.data;return t.commit("downloadExportedPdf",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),reinstateFinanceRecords:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/reinstateFinanceRecord"),a).then((function(e){var r=e.data;return t.commit("reinstateFinanceRecords",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchMouProjects:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r,e.next=3,m["a"].get("".concat(y,"/project/").concat(r.id,"/by-user-id")).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}));case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTimesheetEntriesByUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/timesheet/timesheetentriesByUser"),a).then((function(e){var r=e.data;return t.commit("fetchTimesheetEntriesByUser",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTimesheetEntries:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/timesheet/timesheetentries"),a).then((function(e){var r=e.data;return t.commit("fetchTimesheetEntries",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchRFxPhases:function(e){m["a"].get("".concat(y,"/rfx-phase")).then((function(t){var r=t.data;e.commit("fetchRFxPhases",r)}))},fetchRfxTypes:function(e){m["a"].get("".concat(y,"/rfx-type")).then((function(t){var r=t.data;e.commit("fetchRfxTypes",r)}))},fetchProjectRfx:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/project-rfx/").concat(r.id,"/by-project-id")).then((function(e){var a=e.data;return t.commit("fetchProjectRfx",{projectId:r.id,content:a}),Promise.resolve(a)})).catch((function(e){return Promise.reject(e)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchRFxTypes:function(e){m["a"].get("".concat(y,"/rfx-type")).then((function(t){var r=t.data;e.commit("fetchRFxTypes",r)}))},fetchProjectSectors:function(e){m["a"].get("".concat(y,"/project-sector")).then((function(t){var r=t.data;e.commit("fetchProjectSectors",r)}))},fetchProjectIntakeCategory:function(e){m["a"].get("".concat(y,"/project-intake-category")).then((function(t){var r=t.data;e.commit("fetchProjectIntakeCategory",r)}))},fetchProjectIntakeServices:function(e){m["a"].get("".concat(y,"/project-intake-service")).then((function(t){var r=t.data;e.commit("fetchProjectIntakeServices",r)}))},fetchClients:function(e){m["a"].get("".concat(y,"/client")).then((function(t){var r=t.data;e.commit("fetchClients",r)}))},fetchClient:function(e,t){m["a"].get("".concat(y,"/client/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchClient",r)}))},addClient:function(e,t){var r=t;m["a"].post("".concat(y,"/client"),r).then((function(t){var r=t.data;e.commit("addClient",r)}))},updateClient:function(e,t){var r=t;m["a"].patch("".concat(y,"/client/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateClient",r)}))},deleteClient:function(e,t){m["a"].delete("".concat(y,"/client/").concat(t.id)).then((function(t){var r=t.data;e.commit("updateClient",r)}))},addContact:function(e,t){var r=t;m["a"].post("".concat(y,"/contact"),r).then((function(t){var r=t.data;e.commit("addContact",r)}))},updateContact:function(e,t){var r=t;m["a"].patch("".concat(y,"/contact/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateContact",r)}))},updateContactPartial:function(e,t){var r=t;return m["a"].patch("".concat(y,"/contact/").concat(t.id,"/partial"),r)},deleteContact:function(e,t){m["a"].delete("".concat(y,"/contact/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteContact",r)}))},fetchUsers:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/user")).then((function(e){var r=e.data;t.commit("fetchUsers",r)}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addUser:function(e,t){var r=t;m["a"].post("".concat(y,"/user"),r).then((function(t){var r=t.data;e.commit("addUser",r)}))},updateUser:function(e,t){var r=t;m["a"].patch("".concat(y,"/user/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateUser",r)}))},deleteUser:function(e,t){m["a"].delete("".concat(y,"/user/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteUser",r)}))},fetchMOUs:function(e,t){m["a"].get("".concat(y,"/MOU")).then((function(t){var r=t.data;e.commit("fetchMOUs",r)}))},createMOU:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/MOU"),a).then((function(e){var r=e.data;return console.log("createMOU called with body",a),t.commit("createMOU",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchIntakeRequests:function(e){m["a"].get("".concat(y,"/intake")).then((function(t){var r=t.data;r.forEach((function(e){e.projectLeadId=e.leadUserId,e.projectBackupId=e.backupUserId,e.estimatedCompletionDate=v()(String(e.estimatedCompletionDate)).format("YYYY-MM-DD")})),e.commit("fetchIntakeRequests",r)}))},fetchIntakeRequest:function(e,t){m["a"].get("".concat(y,"/intake/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchIntakeRequest",r)}))},clearActiveIntakeRequest:function(e){e.commit("clearActiveIntakeRequest",new h["a"])},addIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/intake"),a).then((function(e){var r=e.data;return t.commit("addIntakeRequest",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=m["a"].patch("".concat(y,"/intake/").concat(r.id),r).then((function(e){var r=e.data;return t.commit("updateIntakeRequest",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(a));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateProctLog:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(r),a=m["a"].patch("".concat(y,"/procurement/").concat(r.id),r).then((function(e){var r=e.data;return t.commit("updateProctLog",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(a));case 3:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateFinanceCodes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("reqq:",r),a=m["a"].patch("".concat(y,"/financecode/").concat(r.id),r).then((function(e){var r=e.data;return t.commit("updateFinanceCodes",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(a));case 3:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateRfxPhase:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=m["a"].patch("".concat(y,"/rfx-phase/").concat(r.id),r).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(a));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateRfxType:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=m["a"].patch("".concat(y,"/rfx-type/").concat(r.id),r).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)})),e.abrupt("return",Promise.resolve(a));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].delete("".concat(y,"/intake/").concat(r.id));case 3:a=e.sent,n=a.data,t.commit("deleteIntakeRequest",n),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteMOUs:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].delete("".concat(y,"/MOU/").concat(r.id));case 3:a=e.sent,n=a.data,t.commit("deleteMOUs",n),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteFinanceCodes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].delete("".concat(y,"/financecode/").concat(r.id));case 3:a=e.sent,n=a.data,t.commit("deleteFinanceCodes",n),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteRfxPhase:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].delete("".concat(y,"/rfx-phase/").concat(r.id)).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e.response)}));case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteRfxType:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].delete("".concat(y,"/rfx-type/").concat(r.id)).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e.response)}));case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}(),approveIntakeRequest:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].post("".concat(y,"/intake/").concat(r.id,"/approve"),{categoryId:r.categoryId}).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),assignContactToIntakeRequest:function(e,t){m["a"].post("".concat(y,"/intake/").concat(t.id,"/assign-contact")).then((function(t){var r=t.data;e.commit("assignContactToIntakeRequest",r)}))},fetchProjects:function(e){m["a"].get("".concat(y,"/project")).then((function(t){var r=t.data;r=t.data.map((function(e){return e})),e.commit("fetchProjects",r)}))},fetchArchivedProjects:function(e){m["a"].get("".concat(y,"/project/archived")).then((function(t){var r=t.data;r=t.data.map((function(e){return e})),e.commit("fetchArchivedProjects",r)}))},fetchAllProjects:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/project/all")).then((function(e){var r=e.data;r=e.data.map((function(e){return e})),t.commit("fetchAllProjects",r)}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),archiveProject:function(e,t){var r=t.id,n=t.is_archived;if(!0!==n&&!1!==n)throw new Error("is_archived must be boolean, instead you provided: ".concat(Object(a["a"])(n)));return m["a"].patch("".concat(y,"/project/").concat(r,"/archive"),{is_archived:n}).then((function(t){var r=t.data;e.commit("archiveProject",r)}))},fetchProject:function(e,t){m["a"].get("".concat(y,"/project/").concat(t.id)).then((function(t){var r=t.data;e.commit("fetchProject",r)}))},addProject:function(e,t){var r=t;m["a"].post("".concat(y,"/project"),r).then((function(t){var r=t.data;e.commit("addProject",r)}))},updateProject:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].patch("".concat(y,"/project/").concat(r.id),a).then((function(e){var r=e.data;return t.commit("updateProject",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteProject:function(e,t){m["a"].delete("".concat(y,"/project/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteProject",r)}))},assignResourceToProject:function(e,t){m["a"].post("".concat(y,"/project/").concat(t.id,"/assign-resource")).then((function(t){var r=t.data;e.commit("deleteProject",r)}))},assignContactToProject:function(e,t){m["a"].post("".concat(y,"/project/").concat(t.id,"/assign-contact")).then((function(t){var r=t.data;e.commit("assignContactToProject",r)}))},assignProjectLead:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={userId:r.userId},e.next=3,m["a"].post("".concat(y,"/project/").concat(r.projectId,"/assign-lead"),a).then((function(e){var r=e.data;return t.commit("assignProjectLead",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),assignProjectBackup:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={userId:r.userId},e.next=3,m["a"].post("".concat(y,"/project/").concat(r.projectId,"/assign-backup"),a).then((function(e){var r=e.data;return t.commit("assignProjectBackup",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchProjectContacts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/contact/").concat(r.id,"/by-project-id")).then((function(e){var r=e.data;return t.commit("fetchProjectContacts",r),Promise.resolve(r)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateProjectContacts:function(e,t){var r=t.contacts;m["a"].patch("".concat(y,"/contact/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateProjectContacts",r)}))},updateProjectFinanceCodes:function(e,t){var r=t.financeCodes;m["a"].patch("".concat(y,"/client/").concat(t.id,"/finance-code"),r).then((function(t){var r=t.data;e.commit("updateProjectFinanceCodes",r)}))},fetchProjectCategories:function(e,t){m["a"].get("".concat(y,"/project/categories")).then((function(t){e.commit("fetchProjectCategories",t.data)}))},updateProcurementLog:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.procurementlog,e.next=3,m["a"].post("".concat(y,"/procurement"),a).then((function(e){var r=e.data;return t.commit("updateProcurementLog",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addRfxType:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.RfxType,e.next=3,m["a"].post("".concat(y,"/rfx-type"),a).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addRfxPhase:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.RfxPhase,e.next=3,m["a"].post("".concat(y,"/rfx-phase"),a).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addFinanceCodes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.FinanceCodes,e.next=3,m["a"].post("".concat(y,"/financecode"),a).then((function(e){var r=e.data;return t.commit("addFinanceCodes",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addProjectNotes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.projectNotes,e.next=3,m["a"].post("".concat(y,"/projectnotes"),a).then((function(e){var r=e.data;return t.commit("addProjectNotes",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchProjectRFxData:function(e,t){m["a"].get("".concat(y,"/project-rfx/").concat(t.id,"/by-project-id")).then((function(t){var r=t.data;e.commit("fetchProjectRFxData",r)}))},addProjectRFxData:function(e,t){var r=t,a=m["a"].post("".concat(y,"/project-rfx"),r).then((function(t){var r=t.data;return e.commit("addProjectRFxData",r),Promise.resolve(t.data)}));return Promise.resolve(a)},updateProjectRFxData:function(e,t){var r=t;m["a"].patch("".concat(y,"/project-rfx/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateProjectRFxData",r)}))},fetchTimesheets:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("selectedStartDate"),n=sessionStorage.getItem("selectedEndDate"),s="projectId=".concat(r.projectId,"&startDate=").concat(a,"&endDate=").concat(n),r.replace=r.replace||!1,e.next=6,m["a"].get("".concat(y,"/timesheet?").concat(s));case 6:return i=e.sent,t.commit("fetchTimesheets",{data:i.data,replace:r.replace}),e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchAllTimesheets:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/timesheet/all"));case 2:return r=e.sent,t.commit("fetchAllTimesheets",r.data),e.abrupt("return",Promise.resolve(r.data));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchUserTimesheets:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/timesheet/user"));case 2:return r=e.sent,t.commit("fetchUserTimesheets",r.data),e.abrupt("return",Promise.resolve(r.data));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchAllProcurementLog:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/procurement/").concat(r.id));case 2:return a=e.sent,t.commit("fetchAllProcurementLog",a.data),e.abrupt("return",Promise.resolve(a.data));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchAllProjectNotes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get("".concat(y,"/projectnotes/").concat(r.id));case 2:return a=e.sent,t.commit("fetchAllProjectNotes",a.data),e.abrupt("return",Promise.resolve(a.data));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateRiskAnalysis:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].patch("".concat(y,"/project-risk/").concat(r.projectId,"/update"),a).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTimesheetProjects:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/timesheetprojects"),a).then((function(e){var r=e.data;return t.commit("fetchTimesheetProjects",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchExportedPdfs:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/exportedPdfs"),a).then((function(e){var r=e.data;return t.commit("fetchExportedPdfs",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),retrieveDischargedPdfs:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/project/dischargedPdfs"),a).then((function(e){var r=e.data;return t.commit("fetchDischargedPdfs",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addBatchTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/timesheet/batch"),a).then((function(e){var r=e.data;return t.commit("addTimesheet",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addLightTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/timesheet/light"),a).then((function(e){var r=e.data;return t.commit("addTimesheet",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),getLightTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/timesheet/getLight"),a).then((function(e){var r=e.data;return t.commit("getTimeLogOfSelectedDate",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.next=3,m["a"].post("".concat(y,"/timesheet"),a).then((function(e){var r=e.data;return t.commit("addTimesheet",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.payload,e.next=3,m["a"].patch("".concat(y,"/timesheet/").concat(r.id),a).then((function(e){var r=e.data;return t.commit("updateTimesheet",r),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteTimesheet:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].delete("".concat(y,"/timesheet/").concat(r.id)).then((function(e){var a=e.data;return t.commit("deleteTimesheet",{timesheetId:r.id,content:e.data}),Promise.resolve(a)})).catch((function(e){return Promise.reject(e.response)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),addTimesheetEntry:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,e.prev=1,e.next=4,m["a"].post("".concat(y,"/timesheet-entry"),a);case 4:n=e.sent,t.commit("addTimesheetEntry",n.data),e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",e.t0);case 11:return e.abrupt("return",Promise.resolve());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,r){return e.apply(this,arguments)}return t}(),addWeekTimesheetEntries:function(e,t){var r=t;m["a"].post("".concat(y,"/timesheet"),r).then((function(t){var r=t.data;e.commit("addWeekTimesheetEntries",r)}))},updateTimesheetEntry:function(e,t){var r=t;m["a"].patch("".concat(y,"/timesheet-entry/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateTimesheetEntry",r)}))},updateWeekTimesheetEntries:function(e,t){var r=t;m["a"].patch("".concat(y,"/timesheet/").concat(t.id),r).then((function(t){var r=t.data;e.commit("updateWeekTimesheetEntries",r)}))},deleteTimesheetEntry:function(e,t){m["a"].delete("".concat(y,"/timesheet-entry/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteTimesheetEntry",r)}))},deleteWeekTimesheetEntries:function(e,t){m["a"].delete("".concat(y,"/timesheet/").concat(t.id)).then((function(t){var r=t.data;e.commit("deleteWeekTimesheetEntries",r)}))},approveTimesheetEntry:function(e,t){m["a"].post("".concat(y,"/timesheet-entry/").concat(t.id,"/approve")).then((function(t){var r=t.data;e.commit("approveTimesheetEntry",r)}))},approveWeekTimesheetEntries:function(e,t){m["a"].post("".concat(y,"/timesheet/").concat(t.id)).then((function(t){var r=t.data;e.commit("approveWeekTimesheetEntries",r)}))},addTimesheetEntryComment:function(e,t){var r=t;m["a"].post("".concat(y,"/timesheet-entry/").concat(t.id,"/comment"),r).then((function(t){var r=t.data;e.commit("addTimesheetEntryComment",r)}))},updateTimesheetEntryComment:function(e,t){var r=t;m["a"].patch("".concat(y,"/timesheet-entry/").concat(t.id,"/comment"),r).then((function(t){var r=t.data;e.commit("updateTimesheetEntryComment",r)}))},deleteTimesheetEntryComment:function(e,t){m["a"].delete("".concat(y,"/timesheet-entry/").concat(t.id,"/comment")).then((function(t){var r=t.data;e.commit("deleteTimesheetEntryComment",r)}))}},getters:{getProjectContactByType:function(e){return function(t){return e.activeProjectContacts.find((function(e){return e.contactType===t}))}}}});t["a"]=g}).call(this,r("c8ba"))},4603:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"projectSectorName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="4678"},4712:function(e,t,r){"use strict";var a=r("bc3a"),n=r.n(a),s=n.a.create();s.interceptors.request.use((function(e){return e.headers.get["Content-Type"]="application/json",e.headers.post["Content-Type"]="application/json",e.headers.put["Content-Type"]="application/json",e.headers.patch["Content-Type"]="application/json",e.headers.delete["Content-Type"]="application/json",e.headers.common.Authorization="Bearer ".concat(sessionStorage.getItem("keycloak_token")),e})),t["a"]=s},"4d87":function(e,t,r){e.exports=r.p+"img/logo.6ce21ad0.svg"},"4df0":function(e,t,r){},"4dfd":function(e,t,r){"use strict";var a=r("71c2"),n=r.n(a);n.a},"505e":function(e,t,r){},"54bb":function(e,t,r){"use strict";var a=r("0b70"),n=r.n(a);n.a},5629:function(e,t,r){e.exports=r.p+"img/contactinfo.8b99e9f9.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("a481"),r("6b54"),r("4917"),r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=r("953d"),s=r.n(n),i=r("9483");Object(i["a"])("".concat("https://timemachine-api-aifsul-prod.pathfinder.gov.bc.ca","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("d5e8"),r("15f5"),r("d1e7");var o=r("c1df"),c=r.n(o),l=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),u=r("bb716");r("da64");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={primary:"#003366",background:"#003366",secondary:"#424242",tertiary:"#F0D299",quaternary:"#65799D",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#648C47",warning:"#e6a100",btnPrimary:"#003366",btnSecondary:"#424242",btnTertiary:"#F0D299",btnQuaternary:"#65799D",menuSelected:"#d7eaff",approved:"#1c9900"};a["default"].use(u["a"],{theme:f({},m),options:{customProperties:!0},iconfont:"md"});var p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",e._b({attrs:{fixed:"",app:"","mini-variant":e.mini},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},"v-navigation-drawer",e.loadDefaultMenuStyle(),!1),[a("v-btn",{staticClass:"navdraw-mini-expander",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleMenuStyle()}}},[a("v-icon",[e._v(e._s(e.mini?"chevron_right":"chevron_left"))])],1),a("v-list",[e._l(e.menu,(function(t){return[e.shouldDisplayMenuItem(t)?a("div",{key:JSON.stringify(t)},[t.header?a("v-subheader",[e._v("\n            "+e._s(t.header)+"\n          ")]):t.divider?a("v-divider",{key:JSON.stringify(t)}):t.items instanceof Array?a("v-list-group",{key:JSON.stringify(t),attrs:{group:t.group,value:"true"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-tile",{key:JSON.stringify(t),attrs:{to:t.href,title:t.title,disabled:t.disabled,router:"",ripple:""}},[t.icon?a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(e.$t(t.title)))])],1),a("v-list-tile-action",[a("v-icon")],1)],1)]},proxy:!0}],null,!0)}):a("v-list-tile",{key:JSON.stringify(t),attrs:{to:t.href,title:t.title,disabled:t.disabled,router:"",ripple:""}},[t.icon?a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(e.$t(t.title)))])],1)],1)],1):e._e()]}))],2)],1),e.isToolbarHide?e._e():a("v-toolbar",{staticClass:"app-toolbar",attrs:{app:"",fixed:"",color:"background"}},[a("v-toolbar-side-icon",{attrs:{dark:""},nativeOn:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"App-toolbar-title"},[a("img",{staticClass:"app-logo",attrs:{src:r("4d87"),alt:"avatar"}})]),a("div",{staticClass:"app-title"},[e._v("Time Machine")]),a("v-spacer"),e.userName?a("div",{staticClass:"user-name"},[e._v("Hi, "+e._s(e.userName))]):e._e()],1),a("v-content",[a("v-container",{attrs:{"pa-0":"",fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-top":""}},[a("router-view")],1)],1)],1)],1)},v=[],h=r("ef3c"),b=h["a"],x=r("2877"),y=r("6544"),g=r.n(y),j=r("7496"),k=r("8336"),C=r("a523"),w=r("549c"),_=r("ce7e"),P=r("132d"),S=r("a722"),O=r("8860"),R=r("56b0"),I=r("ba95"),$=r("40fe"),T=r("5d23"),D=r("f774"),N=r("9910"),F=r("e0c7"),V=r("71d9"),E=r("706c"),A=r("2a7f"),B=Object(x["a"])(b,p,v,!1,null,null,null),M=B.exports;g()(B,{VApp:j["a"],VBtn:k["a"],VContainer:C["a"],VContent:w["a"],VDivider:_["a"],VIcon:P["a"],VLayout:S["a"],VList:O["a"],VListGroup:R["a"],VListTile:I["a"],VListTileAction:$["a"],VListTileContent:T["a"],VListTileTitle:T["c"],VNavigationDrawer:D["a"],VSpacer:N["a"],VSubheader:F["a"],VToolbar:V["a"],VToolbarSideIcon:E["a"],VToolbarTitle:A["a"]});r("7f7f");var L=r("8c4f"),U=r("0116"),q=r("4360"),W=function(e){var t=q["a"].getters.SECURITY_AUTH;if(t.authenticated){var r=!1;return e.forEach((function(e){t.hasRealmRole(e)&&(r=!0)})),r}return!1},Y=function(){var e=q["a"].getters.SECURITY_AUTH;e.logout(),q["a"].dispatch("authLogout")},z=function(){var e=q["a"].getters.SECURITY_AUTH;return{Authorization:"Bearer ".concat(e.token)}},H={init:U["a"],roles:W,logout:Y,header:z},Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"page-container custom-dashboard-container",attrs:{"grid-list-xl":"",fluid:""}},[a("confirm",{ref:"confirm"}),a("v-flex",{attrs:{md12:""}},[a("h1",{staticClass:"mx-0"},[e._v("My Dashboard")])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"dummy-dashboard",attrs:{md12:"","px-2":""}},[a("img",{attrs:{src:r("8699")},on:{click:e.goToMockup}})])],1)],1)},J=[],G=(r("96cf"),r("3b8d")),X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{style:{zIndex:200},attrs:{id:"Confirm","content-class":"intake-dialog","max-width":"390",persistent:e.persistantValue},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:e.color,dense:"",flat:""}},[r("v-icon",[e._v(e._s(e.icon))]),r("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))])],1),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}]},[r("div",[e._v(e._s(e.message))])]),r("v-card-actions",{staticClass:"pt-0 clear-margin"},[r("v-spacer"),r("v-btn",{attrs:{color:"primary darken-1",flat:"flat"},nativeOn:{click:function(t){return e.agree(t)}}},[e._v("Yes")]),r("v-btn",{attrs:{color:"grey",flat:"flat"},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Cancel")])],1)],1)],1)},Z=[],K=(r("725a"),{data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,type:null,color:"primary",icon:null,persistantValue:!1}},methods:{revertback:function(){this.$emit("close")},open:function(e,t){var r=this;return this.dialog=!0,"info"===e||"infoAssign"===e?("infoAssign"===e&&(this.persistantValue=!0),this.title="Confirmation",""===t?this.message="Are you sure to confirm this?":(this.message=t,this.color="primary",this.icon="info")):"danger"===e?(this.title="Delete",this.message=t||"Are you sure you want to delete this record?",this.color="red",this.icon="delete"):"warning"===e&&(this.title="Warning",this.message="Are you sure to delete this?",this.color="primary",this.icon="warning"),new Promise((function(e,t){r.resolve=e,r.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}}),ee=K,te=r("b0af"),re=r("99d9"),ae=r("169a"),ne=Object(x["a"])(ee,X,Z,!1,null,null,null),se=ne.exports;g()(ne,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VDialog:ae["a"],VIcon:P["a"],VSpacer:N["a"],VToolbar:V["a"],VToolbarTitle:A["a"]});r("b0fb");var ie={components:{Confirm:se},methods:{goToMockup:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","This is an upcoming feature, Would you like to see an interactive mockup for the upcoming dashboard page?");case 2:if(!e.sent){e.next=4;break}window.open("https://xd.adobe.com/view/cf0b2fe2-65dd-4ecd-4085-bd256d678250-b93a/?fullscreen","_blank");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},oe=ie,ce=r("0e8f"),le=Object(x["a"])(oe,Q,J,!1,null,null,null);le.exports;g()(le,{VContainer:C["a"],VFlex:ce["a"],VLayout:S["a"]});var ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-layout",{attrs:{"d-flex":"","align-center":"","justify-center":"",row:"",wrap:""}},[e._v("\n    Authorizing...\n  ")])],1)},de=[],fe={data:function(){return{valid:!0}},methods:{}},me=fe,pe=Object(x["a"])(me,ue,de,!1,null,null,null),ve=pe.exports;g()(pe,{VContainer:C["a"],VLayout:S["a"]});var he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-form"},[r("snackbar",{ref:"snackbar"}),r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:""}},[[r("v-expansion-panel",{staticClass:"mt-3",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("label",{staticClass:"sub-header-large"},[e._v("Project Overview")])])]},proxy:!0}])},[r("v-card",{staticClass:"baseinfostyle"},[r("v-card-text",[r("project-base-info",{ref:"projectBaseInfo",attrs:{project:e.project}})],1)],1),r("v-spacer"),r("v-spacer")],1)],1),r("v-expansion-panel",{staticClass:"mt-3",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("label",{staticClass:"sub-header-large"},[e._v("Notes")])])]},proxy:!0}])},[r("v-card",[r("div",{staticClass:"note-div"},[r("v-card-text",[e._l(e.$store.state.allProjectNotes,(function(t){return r("v-layout",{key:t.id},[t.parentId?e._e():r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"row"},[r("div",{staticClass:"column"},[r("div",{staticClass:"card"},[r("div",{staticClass:"headerdivstyle"},[r("span",{staticClass:"headerspan",domProps:{innerHTML:e._s(t.user.contact.fullName)}}),r("span",{staticClass:"headerdate",domProps:{innerHTML:e._s(new Date(t.noteTime).toString().slice(0,15))}})]),r("br"),r("span",{staticClass:"main-note",domProps:{innerHTML:e._s(t.note)}}),r("br"),e._l(e.$store.state.allProjectNotes,(function(a){return r("v-layout",{key:a.id},[a.parentId&&a.parentId==t.id?r("div",{staticStyle:{width:"100%"}},[r("br"),r("span",{staticClass:"reply-person",domProps:{innerHTML:e._s(a.user.contact.fullName)}}),r("span",{staticClass:"reply-note-time",domProps:{innerHTML:e._s(new Date(a.noteTime).toString().slice(0,15))}}),r("br"),r("span",{staticClass:"reply-note",domProps:{innerHTML:e._s(a.note)}})]):e._e()])})),r("v-layout",{staticClass:"replylayout"},[r("v-btn",{staticClass:"replybutton",attrs:{flat:"",large:"",color:"primary"},on:{click:function(r){return e.replynotes(t.id,t.user.contact.fullName)}}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}})]),e._v("\n                                      REPLY\n                                    ")])],1)],2)])]),r("br"),r("project-notes",{ref:t.id,refInFor:!0})],1)],1)],1)})),r("v-flex",{attrs:{md12:""}},[r("project-notes",{ref:"projectNoteNew",on:{closeNotes:e.closeNotes}}),r("v-flex",{staticClass:"create-note",attrs:{xs3:"","offset-xs9":"","align-end":""}},[r("v-btn",{attrs:{color:"btnPrimary",dark:""},on:{click:function(t){return e.newnotes(1)}}},[e._v("Create Note")])],1)],1)],2)],1)])],1)],1),r("div",[r("v-tabs",{staticClass:"mt-4",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[r("v-tab",{attrs:{ripple:"",href:"#rfx"}},[e._v("RFx Type and Phase")]),r("v-tab",{attrs:{ripple:"",href:"#contacts"}},[e._v("Contacts")]),e.project.client&&!e.project.client.isNonMinistry?r("v-tab",{attrs:{ripple:"",href:"#finance"}},[e._v("Finance Codes")]):e._e(),r("v-tab",{attrs:{ripple:"",href:"#risk"},on:{click:function(t){return e.initializeRisk()}}},[e._v("Risk")]),r("v-tab",{attrs:{ripple:"",id:"procId",href:"#procurement"}},[e._v("Procurement Log")]),"procurement"===e.activeTab?r("v-flex",{attrs:{"justify-end":"","align-end":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"prepend-inner-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1):e._e(),r("v-tab-item",{attrs:{value:"rfx"}},[e._l(e.projectRfxData,(function(t,a){return r("v-expansion-panel",{key:t.id,staticClass:"rfx-summary-panel",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("RFx Type and Phase #"+e._s(a+1))])])],1)]},proxy:!0}],null,!0)},[r("v-card",[r("v-card-text",[r("project-rfx",{ref:"rfxForm",refInFor:!0,attrs:{rfxData:t,project:e.project}})],1)],1)],1)],1)})),r("v-card",[r("v-flex",{attrs:{xs12:""}},[r("div",[r("v-flex",{attrs:{md12:"","py-3":"","px-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.addNewRFx}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v("Add Another RFx Type\n                          ")],1)],1)],1)])],1)],2),r("v-tab-item",{staticClass:"contacts",attrs:{value:"contacts"}},[r("v-card",[r("v-card-text",[r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Client Lead")]),r("project-contact-info",{ref:"projectLead",attrs:{contact:e.projectContactData("clientlead"),contactNameLabel:"Client Lead Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Executive Sponsor")]),r("project-contact-info",{ref:"projectSponsor",attrs:{contact:e.projectContactData("clientsponsor"),contactNameLabel:"Executive Sponsor Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Financial Contact")]),r("project-contact-info",{ref:"projectFinancier",attrs:{contact:e.projectContactData("clientfinance"),contactNameLabel:"Financial Contact Name"}})],1),e._l(e.AllContactData,(function(t,a){return r("v-flex",{key:a,attrs:{xs12:"",md6:"","my-3":"",value:0}},[r("h3",{staticClass:"v-form-container"},[e._v("Additional Contact")]),r("project-additional-contact-info",{ref:"additionalcontactinfo",refInFor:!0,attrs:{additionalContact:t,contact:t,contactNameLabel:"Contact Name",isRequired:!1}})],1)}))],2),r("v-card",[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"contact-button-div"},[r("v-btn",{attrs:{color:"primary"},on:{click:e.addNewContact}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v("Add Contacts\n                              ")],1)],1)])],1),r("v-layout",[r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.saveProjectContacts}},[e._v("Save")])],1)],1)])])],1)],1)])],1)],1),r("v-tab-item",{attrs:{value:"finance"}},[r("v-card",[r("v-card-text",[e.project&&e.project.client?r("project-finance-info",{ref:"projectFinanceInfo",attrs:{financeInfo:e.project.client,"codes-required":!0}}):e._e(),r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.saveFinanceCodes}},[e._v("Save")])],1)],1)])])],1)],1)],1),r("v-tab-item",{attrs:{value:"risk"}},[r("v-card",[r("v-card-text",[e.project?r("project-risk-assessment",{ref:"projectRiskAssessment",attrs:{projectId:e.projectId}}):e._e()],1)],1)],1),r("v-tab-item",{attrs:{value:"procurement"}},[r("v-expansion-panel",{staticClass:"mt-4",attrs:{value:0}},[r("v-expansion-panel-content",[r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h4",{staticClass:"projects-header"},[e._v("\n                              Procurement Log\n                            ")])]),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("procurement-log",{ref:"ProcurementLog",on:{close:e.close}}),r("v-btn",{staticClass:"add-timesheet-button",attrs:{color:"btnPrimary",dark:""},on:{click:e.newProcurementLog}},[e._v("Add Log")])],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("procurement-log-table",{ref:"procurementtable",attrs:{search:e.search}})],1)],1)],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1)],1)},be=[],xe=(r("f576"),r("28a5"),r("768b")),ye=r("7bb1"),ge=r("6f86"),je=r("d225"),ke=r("b0b4"),Ce=r("308d"),we=r("6bb5"),_e=r("013f"),Pe=r("4e2b"),Se=r("e8d8"),Oe=function(e){function t(){var e,r;Object(je["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(Ce["a"])(this,(e=Object(we["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(_e["a"])(r),"id",""),Object(l["a"])(Object(_e["a"])(r),"contactType",""),Object(l["a"])(Object(_e["a"])(r),"userId",""),Object(l["a"])(Object(_e["a"])(r),"fullName",""),Object(l["a"])(Object(_e["a"])(r),"orgName",""),Object(l["a"])(Object(_e["a"])(r),"orgPosition",""),Object(l["a"])(Object(_e["a"])(r),"email",""),Object(l["a"])(Object(_e["a"])(r),"phoneNumber",""),Object(l["a"])(Object(_e["a"])(r),"addressLine1",""),Object(l["a"])(Object(_e["a"])(r),"addressLine2",""),Object(l["a"])(Object(_e["a"])(r),"city",""),Object(l["a"])(Object(_e["a"])(r),"province",""),Object(l["a"])(Object(_e["a"])(r),"country",""),Object(l["a"])(Object(_e["a"])(r),"postalCode",""),Object(l["a"])(Object(_e["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(_e["a"])(r),"dateModified",new Date),r}return Object(Pe["a"])(t,e),Object(ke["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,Se["a"].setProperties(e,r)),r}}]),t}(Se["a"]),Re=function(e){function t(){var e,r;Object(je["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(Ce["a"])(this,(e=Object(we["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(_e["a"])(r),"id",""),Object(l["a"])(Object(_e["a"])(r),"roleName",""),Object(l["a"])(Object(_e["a"])(r),"contactType",""),Object(l["a"])(Object(_e["a"])(r),"userId",""),Object(l["a"])(Object(_e["a"])(r),"fullName",""),Object(l["a"])(Object(_e["a"])(r),"orgName",""),Object(l["a"])(Object(_e["a"])(r),"orgPosition",""),Object(l["a"])(Object(_e["a"])(r),"email",""),Object(l["a"])(Object(_e["a"])(r),"phoneNumber",""),Object(l["a"])(Object(_e["a"])(r),"addressLine1",""),Object(l["a"])(Object(_e["a"])(r),"addressLine2",""),Object(l["a"])(Object(_e["a"])(r),"city",""),Object(l["a"])(Object(_e["a"])(r),"province",""),Object(l["a"])(Object(_e["a"])(r),"country",""),Object(l["a"])(Object(_e["a"])(r),"postalCode",""),Object(l["a"])(Object(_e["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(_e["a"])(r),"dateModified",new Date),r}return Object(Pe["a"])(t,e),Object(ke["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,Se["a"].setProperties(e,r)),r}}]),t}(Se["a"]),Ie=r("c0a4"),$e=r.n(Ie),Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"ProcurementLog","max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"ProcurementLogs",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",[r("v-card-text",{staticClass:"card-contents"},[r("v-flex",{attrs:{md12:"",row:"",wrap:""}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Add New Log")]),r("v-spacer"),r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},on:{click:function(t){return e.closelog()}}},[r("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])],1),r("v-divider",{staticClass:"header-divider"})],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{items:e.itemList,"item-value":"id","item-text":"logType",label:"Select a Log Type"},model:{value:e.logType,callback:function(t){e.logType=t},expression:"logType"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Risk Owner"},model:{value:e.riskOwnerName,callback:function(t){e.riskOwnerName=t},expression:"riskOwnerName"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{attrs:{name:"description-of-the-issue",label:"Description of the Issue","no-resize":""},model:{value:e.issueDescription,callback:function(t){e.issueDescription=t},expression:"issueDescription"}})],1)]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{readonly:"",rules:e.requiredRule,label:"Date to Client","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.dateToClient,callback:function(t){e.dateToClient=t},expression:"dateToClient"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(t){e.menu1=!1}},model:{value:e.dateToClient,callback:function(t){e.dateToClient=t},expression:"dateToClient"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{items:e.notificationMethodList,"item-value":"id","item-text":"notificationMethod",label:"Method of Notification"},model:{value:e.notificationMethod,callback:function(t){e.notificationMethod=t},expression:"notificationMethod"}})],1)])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:e.rfxPhases,label:"Current Phase","item-value":"rfxPhaseName","item-text":"rfxPhaseName"},model:{value:e.phaseImpactName,callback:function(t){e.phaseImpactName=t},expression:"phaseImpactName"}})],1)])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Client Decision"},model:{value:e.clientDecision,callback:function(t){e.clientDecision=t},expression:"clientDecision"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{readonly:"",rules:e.requiredRule,label:"Follow Up Date","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.followUpDate,callback:function(t){e.followUpDate=t},expression:"followUpDate"}},a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(t){e.menu2=!1}},model:{value:e.followUpDate,callback:function(t){e.followUpDate=t},expression:"followUpDate"}})],1)],1)])],1),r("v-flex",{attrs:{md12:""}},[r("v-flex",{staticClass:"buttondiv",attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:e.saveProcurementLog}},[e._v("ADD LOG")])],1)],1)],1)],1)],1)],1)],1)],1)},De=[],Ne=(r("7514"),r("085a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{class:[e.top?"snackbar-top":""],attrs:{top:"",fixed:"","auto-height":"",value:e.open,color:e.color}},[e.haveMultipleErrors?r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.messages,(function(t){return r("v-flex",{key:t.message,attrs:{xs12:"","text-xs-center":"","py-0":""}},[r("v-icon",{attrs:{color:"white"}},[e._v(e._s(e.icon))]),r("span",{staticStyle:{"vertical-align":"text-bottom"}},[e._v(e._s(t.message))])],1)})),1):r("div",[r("v-icon",{staticClass:"snackbar-v-icon",attrs:{color:"white"}},[e._v(e._s(e.icon))]),r("span",{staticStyle:{"vertical-align":"text-bottom"}},[e._v(e._s(e.message))])],1)],1)}),Fe=[],Ve=r("5118"),Ee={data:function(){return{top:!1,message:null,open:!1,color:null,icon:null,haveMultipleErrors:!1,messages:[]}},methods:{displaySnackbar:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.haveMultipleErrors=!1,this.top=!1,"success"===t?(this.color="success",this.icon="check_circle"):"error"===t?(this.color="error",this.icon="error"):"info"===t?(this.color="info",this.icon="info"):"warning"===t&&(this.color="warning",this.icon="warning"),this.open=!0,this.message=r,Object(Ve["setTimeout"])((function(){a.open=!1}),3e3);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),displaySnackbarTop:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.top=!0,this.haveMultipleErrors=!1,"success"===t?(this.color="success",this.icon="check_circle"):"error"===t?(this.color="error",this.icon="error"):"info"===t?(this.color="info",this.icon="info"):"warning"===t&&(this.color="warning",this.icon="warning"),this.open=!0,this.message=r,Object(Ve["setTimeout"])((function(){a.open=!1}),3e3);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),displayMultipleErrorSnackbar:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"error"===t&&(this.haveMultipleErrors=!0,this.color="error",this.icon="error",this.messages=r,this.open=!0),Object(Ve["setTimeout"])((function(){a.open=!1}),3e3);case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}},Ae=Ee,Be=(r("9a1c"),r("2db4")),Me=Object(x["a"])(Ae,Ne,Fe,!1,null,null,null),Le=Me.exports;g()(Me,{VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VSnackbar:Be["a"]});var Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showSpinner?r("div",{staticClass:"text-xs-center overlay"},[r("v-progress-circular",{attrs:{size:50,indeterminate:"",color:"primary"}})],1):e._e()},qe=[],We=(r("fb94"),{data:function(){return{showSpinner:!1}},methods:{open:function(){this.showSpinner=!0},close:function(){this.showSpinner=!1}}}),Ye=We,ze=r("490a"),He=Object(x["a"])(Ye,Ue,qe,!1,null,null,null),Qe=He.exports;function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}g()(He,{VProgressCircular:ze["a"]});var Xe={computed:{projectRfx:function(){return this.$store.state.activeProjectRfxData},rfxPhases:function(){return this.$store.state.rfxPhases}},components:{Snackbar:Le,Spinner:Qe},data:function(){return this.initData()},watch:{},props:{timeEntry:Object},methods:{closelog:function(){this.initData(),this.$emit("close"),this.dialog=!1},saveProcurementLog:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.state.activeUser.refId,r=this.$store.state.users.find((function(e){return e.referenceId===t})),a={logType:this.logType,riskOwner:this.riskOwnerName,descriptionOfIssue:this.issueDescription,dateToClient:""===this.dateToClient?void 0:this.dateToClient,notificationMethod:this.notificationMethod,phaseImpactName:this.phaseImpactName,clientDecision:this.clientDecision,followUpDate:""===this.followUpDate?void 0:this.followUpDate,projectId:this.$store.state.activeProject.id,isResolved:this.isResolved,userId:r.id},!this.id){e.next=9;break}return a.id=this.id,e.next=7,this.$store.dispatch("updateProctLog",{financecode:a}).then((function(){n.$refs.snackbar.displaySnackbar("success","Updated");var e=n.$router.currentRoute.params,t=e.id||void 0;n.$store.dispatch("fetchAllProcurementLog",{id:t}),n.closeDialog()}),(function(e){try{var t=e.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",t)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 7:e.next=11;break;case 9:return e.next=11,this.$store.dispatch("updateProcurementLog",{procurementlog:a}).then((function(){n.$refs.snackbar.displaySnackbar("success","Updated"),n.closeDialog()}),(function(e){try{var t=e.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",t)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},open:function(){this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},openWithValues:function(e){this.id=e.id,this.logType=e.logType,this.riskOwnerName=e.riskOwner,this.issueDescription=e.descriptionOfIssue,this.dateToClient=e.dateToClient.substring(0,10),this.notificationMethod=e.notificationMethod,this.phaseImpactName=e.phaseImpactName,this.clientDecision=e.clientDecision,this.followUpDate=e.followUpDate.substring(0,10),this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},closeDialog:function(){this.issueDescription="",this.$emit("close"),this.dialog=!1},reset:function(){this.dateToClient="",this.followUpDate="",this.riskOwnerName="",this.issueDescription="",this.clientDecision="",this.notificationMethod="",this.phaseImpactName="",this.logType=""},initData:function(){var e=Object.assign({},this.$props.timeEntry);e.userId=this.$store.state.activeUser.id;return{id:void 0,activeTab:"weekly",recordType:1,valid:!0,requiredRule:[function(e){return!!e||"This field required"}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],dialog:!1,menu1:!1,menu2:!1,form:Ge({},e),dateFormatted:void 0,dateToClient:"",followUpDate:"",phaseImpactName:"",riskOwnerName:"",issueDescription:"",isResolved:!1,logType:"",itemList:[{id:"Contact Update",logType:"Contact Update"},{id:"Project Lead",logType:"Project Lead"},{id:"RFX Update",logType:"RFX Update"},{id:"Risk Assessment",logType:"Risk Assessment"}],notificationMethod:"",notificationMethodList:[{id:"Email",notificationMethod:"Email"},{id:"In person",notificationMethod:"In person"},{id:"Phone",notificationMethod:"Phone"}],clientDecision:""}}}},Ze=Xe,Ke=(r("5d89"),r("12b2")),et=r("2e4b"),tt=r("4bd4"),rt=r("e449"),at=r("b56d"),nt=r("2677"),st=r("a844"),it=Object(x["a"])(Ze,Te,De,!1,null,"08b4c843",null),ot=it.exports;g()(it,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VCardTitle:Ke["a"],VDatePicker:et["a"],VDialog:ae["a"],VDivider:_["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VMenu:rt["a"],VSelect:at["a"],VSpacer:N["a"],VTextField:nt["a"],VTextarea:st["a"]});var ct,lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("v-form",{ref:"projectBaseInfo",attrs:{id:"projectBaseInfo","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":""}},[r("v-btn",{attrs:{disabled:!e.valid||e.saveProjectLoading,loading:e.saveProjectLoading,color:"primary"},on:{click:e.onSave}},[e._v("Save")])],1)],1)])]),r("v-flex",{attrs:{xs12:""}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-checkbox",{staticClass:"team-wide-check",attrs:{label:"This is a Teamwide Project"},on:{change:function(t){return e.onTeamWideProject()}},model:{value:e.form.teamWideProject,callback:function(t){e.$set(e.form,"teamWideProject",t)},expression:"form.teamWideProject"}}),r("v-combobox",{attrs:{items:e.mouList,label:"Assign or Create MOU","persistent-hint":"","item-text":"name","search-input":e.mouSearch},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createMOU(t)},"update:searchInput":function(t){e.mouSearch=t},"update:search-input":function(t){e.mouSearch=t}},scopedSlots:e._u([e.mouSearch&&e.mouSearch.length?{key:"no-data",fn:function(){return[r("v-list-tile",[r("v-list-tile-content",[r("v-list-tile-title",[e._v('\n                      No results matching "'),r("strong",[e._v(e._s(e.mouSearch))]),e._v('".\n                      Press '),r("kbd",[e._v("enter")]),e._v(" to create a new one\n                    ")])],1)],1)]},proxy:!0}:null],null,!0),model:{value:e.project.mou,callback:function(t){e.$set(e.project,"mou",t)},expression:"project.mou"}})],1)])],1),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Name"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container pl-0"},[r("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Deadline","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.completionDate,callback:function(t){e.$set(e.form,"completionDate",t)},expression:"form.completionDate"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1}},model:{value:e.form.completionDate,callback:function(t){e.$set(e.form,"completionDate",t)},expression:"form.completionDate"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-container",{staticStyle:{padding:"0px !important"},attrs:{fluid:"",row:"",wrap:"","align-start":"","justify-end":"","fill-height":""}},[r("v-flex",{attrs:{md3:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"2%"}},[e._v("Non-Ministry")])]),r("v-flex",{attrs:{md1:""}},[r("v-checkbox",{on:{change:function(t){return e.ministryCheck(t)}},model:{value:e.form.client.isNonMinistry,callback:function(t){e.$set(e.form.client,"isNonMinistry",t)},expression:"form.client.isNonMinistry"}})],1),r("v-flex",{attrs:{md8:""}},[e.form.client.isNonMinistry?r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Non Ministry Name"},model:{value:e.form.client.nonMinistryName,callback:function(t){e.$set(e.form.client,"nonMinistryName",t)},expression:"form.client.nonMinistryName"}}):e._e(),e.form.client.isNonMinistry?e._e():r("v-select",{staticClass:"required",attrs:{items:e.ministries,label:"Ministry",rules:e.requiredRule,"item-value":"id","item-text":"ministryName"},model:{value:e.form.client.ministry.id,callback:function(t){e.$set(e.form.client.ministry,"id",t)},expression:"form.client.ministry.id"}})],1)],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Branch",readonly:""},model:{value:e.form.client.orgDivision,callback:function(t){e.$set(e.form.client,"orgDivision",t)},expression:"form.client.orgDivision"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.amountRule,"prepend-inner-icon":"attach_money",label:"Contract Amount",oninput:"validity.valid||(value='');",value:e._f("withCommas")(e.form.contractValue)},on:{blur:function(t){return e.form.contractValue=parseFloat(t.target.value.toString().replace(/,/g,""))}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{rules:e.mouRule,"prepend-inner-icon":"attach_money",label:"MOU Amount",oninput:"validity.valid||(value='');",value:e._f("withCommas")(e.form.mouAmount)},on:{blur:function(t){return e.form.mouAmount=parseFloat(t.target.value.toString().replace(/,/g,""))}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{class:e.form.teamWideProject?"":"required",attrs:{disabled:e.form.teamWideProject,items:e.userList,rules:e.requiredTeamRule,label:"Project Lead","item-value":"id","item-text":"contact.fullName"},nativeOn:{click:function(t){return e.getProjectLead(e.form.leadUserId)}},model:{value:e.form.leadUserId,callback:function(t){e.$set(e.form,"leadUserId",t)},expression:"form.leadUserId"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{disabled:e.form.teamWideProject,items:e.userList,label:"Project Backup","item-value":"id","item-text":"contact.fullName"},model:{value:e.form.backupUserId,callback:function(t){e.$set(e.form,"backupUserId",t)},expression:"form.backupUserId"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{attrs:{disabled:!e.canEditProjectCategories,items:e.projectCategories,label:"Project Category","item-value":"id","item-text":"description"},model:{value:e.form.categoryId,callback:function(t){e.$set(e.form,"categoryId",t)},expression:"form.categoryId"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",[r("v-container",{attrs:{fluid:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"4%"}},[e._v("Reprocurement?")]),r("v-radio-group",{attrs:{row:""},model:{value:e.form.isReprocurement,callback:function(t){e.$set(e.form,"isReprocurement",t)},expression:"form.isReprocurement"}},[r("v-radio",{attrs:{label:" Yes",value:!0,"form.isReprocurement":""}}),r("v-radio",{attrs:{label:" No",value:!1,"form.isReprocurement":""}})],1)],1)],1)]),e.form.isReprocurement?r("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{rules:e.requiredRule,label:"Date of Procurement","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}},a))]}}],null,!1,1003440785),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu2=!1}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}})],1):e._e(),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[e.form.isReprocurement?r("v-textarea",{staticClass:"required",attrs:{name:"background",label:"Background of project","no-resize":"",rows:"4",rules:e.requiredRule},model:{value:e.form.previousContractBackground,callback:function(t){e.$set(e.form,"previousContractBackground",t)},expression:"form.previousContractBackground"}}):e._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"impact",label:"Impact if Project fails","no-resize":"",rows:"4",rules:e.requiredRule},model:{value:e.form.projectFailImpact,callback:function(t){e.$set(e.form,"projectFailImpact",t)},expression:"form.projectFailImpact"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"success",label:"Overview of success","no-resize":"",rows:"4",rules:e.requiredRule},model:{value:e.form.projectSuccess,callback:function(t){e.$set(e.form,"projectSuccess",t)},expression:"form.projectSuccess"}})],1)])],1)],1)},ut=[],dt=(r("6762"),r("3d84"),r("aae1")),ft=r("4603"),mt=r("99e3");function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ht={components:{Snackbar:Le},props:{nextPanel:Function,panelName:String,project:Object,ministry:Object},computed:{dateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors},userList:function(){return this.$store.state.users},ministries:function(){return this.$store.state.ministries},mouList:function(){return this.$store.state.mouList},projectCategories:function(){return this.$store.state.projectCategories}},data:function(){var e=this,t=Object.assign({},this.$props.project),r=t.projectSector||null;r||(t.projectSector=new ft["a"]);var a=t.client||null;a||(t.client=new mt["a"]);var n=["psb_admin","psb_intake_user"],s=this.$store.state.activeRoles.role.some((function(e){return n.includes(e.toLowerCase())}));return{valid:!0,requiredTeamRule:[function(t){return!!(void 0!==t&&""!==t&&t||!e.form||e.form.teamWideProject)||"This field is required"}],requiredRule:[function(e){return!!e||"This field is required"}],form:vt({},t),selectedLeadUser:"",oldLeadUserID:void 0,oldBackupUserID:void 0,menu1:!1,menu2:!1,ministryname:t.client.ministry?t.client.ministry.id:t.client.nonMinistryName,saveProjectLoading:!1,ministryInformation:this.$store.state.ministryInformation,mouSearch:null,amountRule:[function(e){if(!e)return"This field is required";if(0===e||"0"===e)return"Field cannot be zero";var t=e.toString().match(/^[0-9,_.-]*$/g,"");return!!t||"Field must just be a number."}],mouRule:[function(e){if(!e)return!0;var t=e.toString().match(/^[0-9,_.-]*$/g,"");return!!t||"Field must just be a number."}],canEditProjectCategories:s}},watch:{valid:function(e){this.$store.state.ministryInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new ft["a"])},ministry:function(e){this.form=e;var t=this.form.client.ministry||null;t||(this.form.client.ministry=new dt["a"])}},methods:(ct={ministryCheck:function(e){var t=this.form.client.ministry||null;t||(this.form.client.ministry=new dt["a"])},thousandSeprator:function(e){return""!==e||void 0!==e||0!==e||"0"!==e||null!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e},onTeamWideProject:function(){this.form.teamWideProject?(this.oldLeadUserID=this.form.leadUserId,this.oldBackupUserID=this.form.backupUserId,this.form.leadUserId=void 0,this.form.backupUserId=void 0):(this.form.leadUserId=this.oldLeadUserID,this.form.backupUserId=this.oldBackupUserID),this.$refs.projectBaseInfo.resetValidation()},formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},onBlurNumber:function(e){this.visible=!1,this.temp=this.amount,this.amount=this.thousandSeprator(this.amount)},onFocusText:function(){this.visible=!0,this.amount=this.temp}},Object(l["a"])(ct,"thousandSeprator",(function(e){return""!==e||void 0!==e||0!==e||"0"!==e||null!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e})),Object(l["a"])(ct,"parseDate",(function(e){if(!e)return null;var t=e.split("/"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))})),Object(l["a"])(ct,"getProjectLead",(function(e){this.selectedLeadUser=e})),Object(l["a"])(ct,"onSave",(function(){var e=this,t=this;if(this.$refs.projectBaseInfo.validate()){for(var r=0;r<this.$store.state.ministries.length;r++)this.form.client&&this.form.client.ministry&&this.$store.state.ministries[r].id==this.form.client.ministry.id&&(this.form.client.ministry.ministryName=this.$store.state.ministries[r].ministryName);this.form.client.isNonMinistry||(this.form.client.NonMinistryName=void 0),this.$store.state.ministryInformation=!0;var a=Object.assign({},this.form);this.saveProjectLoading=!0,this.$store.dispatch("updateProject",a).then((function(){e.saveProjectLoading=!1,t.$refs.snackbar.displaySnackbar("success","Updated"),t.$store.dispatch("fetchProjects"),t.$store.dispatch("fetchAllProjects")}),(function(r){if(e.saveProjectLoading=!1,r&&r.response&&r.response.data&&r.response.data.error){t.form.leadUserId=t.selectedLeadUser;var a=r.response.data.error.message;t.$refs.snackbar.displaySnackbar("error",a)}else t.form.leadUserId=t.selectedLeadUser,t.$refs.snackbar.displaySnackbar("error","Failed to update project.")}))}})),Object(l["a"])(ct,"createMOU",function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.project.mou&&" "!==this.project.mou){e.next=2;break}return e.abrupt("return");case 2:if(!this.project.mou){e.next=9;break}if(t=this.$store.state.mouList.find((function(e){return e.name===r.project.mou})),"undefined"!==typeof t){e.next=9;break}if(t=this.$store.state.mouList.find((function(e){return e.name===r.project.mou.name})),"undefined"!==typeof t){e.next=9;break}return e.next=9,this.$store.dispatch("createMOU",{name:this.project.mou});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()),Object(l["a"])(ct,"fetchData",(function(){this.$store.dispatch("fetchUsers"),this.$store.dispatch("fetchProjectCategories")})),ct),created:function(){this.fetchData()}},bt=ht,xt=r("ac7c"),yt=r("2b5d"),gt=r("67b6"),jt=r("43a6"),kt=Object(x["a"])(bt,lt,ut,!1,null,null,null),Ct=kt.exports;g()(kt,{VBtn:k["a"],VCheckbox:xt["a"],VCombobox:yt["a"],VContainer:C["a"],VDatePicker:et["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VListTile:I["a"],VListTileContent:T["a"],VListTileTitle:T["c"],VMenu:rt["a"],VRadio:gt["a"],VRadioGroup:jt["a"],VSelect:at["a"],VTextField:nt["a"],VTextarea:st["a"]});var wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"newNote","max-width":"40%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"newNotes",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",{staticStyle:{width:"100%"}},[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{row:"",wrap:""}},[e.replyNoteName?r("v-flex",{staticClass:"replyheaderdiv",attrs:{md12:""}},[r("div",{staticClass:"replytoheader"},[e._v("Reply to: "+e._s(e.replyNoteName))])]):e._e(),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{attrs:{name:"project-description",label:"Please input your note below","no-resize":""},model:{value:e.userNote,callback:function(t){e.userNote=t},expression:"userNote"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:function(t){return e.savenote()}}},[e._v("Save Note")])],1)],1)],1)],1)],1)],1)],1)],1)},_t=[],Pt={computed:{projectRfx:function(){return this.$store.state.activeProjectRfxData}},components:{Snackbar:Le,Spinner:Qe},data:function(){return this.initData()},watch:{},props:{timeEntry:Object},methods:{savenote:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$store.state.activeUser.refId,r=this.$store.state.users.find((function(e){return e.referenceId===t})),1!=this.flag&&(this.parentNoteId=this.flag),a={note:this.userNote,projectId:this.$store.state.activeProject.id,userId:r.id,parentId:this.parentNoteId},e.next=6,this.$store.dispatch("addProjectNotes",{projectNotes:a}).then((function(){var e=n.$router.currentRoute.params,t=e.id||void 0;n.$store.dispatch("fetchAllProjectNotes",{id:t}),n.$refs.snackbar.displaySnackbar("success","Updated"),n.closeDialog()}),(function(e){try{var t=e.response.data.error.message;n.$refs.snackbar.displaySnackbar("error",t)}catch(r){n.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},open:function(e,t){this.replyNoteName=t,this.flag=e,this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},closeDialog:function(){this.$emit("closeNotes"),this.dialog=!1},reset:function(){},initData:function(){var e=Object.assign({},this.$props.timeEntry);e.userId=this.$store.state.activeUser.id;return{flag:void 0,valid:!0,requiredRule:[function(e){return!!e||"This field required"}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],dialog:!1,userNote:"",replyNoteName:void 0,parentNoteId:void 0}}}},St=Pt,Ot=(r("7c7a"),Object(x["a"])(St,wt,_t,!1,null,"779e98e0",null)),Rt=Ot.exports;g()(Ot,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VDialog:ae["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VTextarea:st["a"]});var It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-form",{ref:"projectContact",attrs:{id:"projectSponsor projectLead","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:e.contactNameLabel},model:{value:e.form.fullName,callback:function(t){e.$set(e.form,"fullName",t)},expression:"form.fullName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.emailRules,label:"Email Address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:"Organization"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:"Position"},model:{value:e.form.orgPosition,callback:function(t){e.$set(e.form,"orgPosition",t)},expression:"form.orgPosition"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{class:e.inputClass,attrs:{rules:e.phoneRule,label:"Phone Number",mask:"phone"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1)])],1)],1)},$t=[];r("c911");function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt={components:{},props:{contact:Object,contactNameLabel:String,isRequired:Boolean},data:function(){var e=this,t=Object.assign({},new Oe,this.$props.contact);return{valid:!0,requiredRule:this.$props.isRequired?[function(e){return!!e||"This field is required"}]:[],emailPattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,emailRules:this.$props.isRequired?[function(e){return!!e||"This field is required"},function(t){return e.emailPattern.test(t)||"Email must be valid"}]:[function(t){return!t||e.emailPattern.test(t)||"Email must be valid"}],phoneRule:this.$props.isRequired?[function(e){return!!e||"This field is required"},function(e){return e.length>=10||"Invalid Phone"}]:[function(e){return!e||e.length>=10||"Invalid Phone"}],contactInformation:this.$store.state.contactInformation,form:Dt({},t),inputClass:this.$props.isRequired?"required":""}},watch:{valid:function(e){this.$store.state.contactInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(e){this.form=e||new Oe}},methods:{onNextClicked:function(){return this.$refs.projectContact.validate()?this.$store.state.contactInformation=!0:this.$store.state.contactInformation=!1,this.$store.state.contactInformation},reset:function(){this.$refs.projectContact.reset()},Validate:function(){this.$refs.projectContact.validate()}}},Ft=Nt,Vt=Object(x["a"])(Ft,It,$t,!1,null,null,null),Et=Vt.exports;g()(Vt,{VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VTextField:nt["a"]});var At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("v-form",{ref:"form",attrs:{id:"project-rfx","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{xs12:"","px-4":""}},[r("div",{staticClass:"v-form-actions"},[r("v-btn",{staticClass:"ma-0 save-rfx-btn",attrs:{color:"primary",disabled:e.saveRFxBtnLoading,loading:e.saveRFxBtnLoading},on:{click:e.saveRFxForm}},[e._v("Save")])],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:e.rfxTypes,rules:e.required,label:"RFx Type","item-value":"id","item-text":"rfxTypeName"},model:{value:e.rfxForm.rfxType.id,callback:function(t){e.$set(e.rfxForm.rfxType,"id",t)},expression:"rfxForm.rfxType.id"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",{staticClass:"required",attrs:{items:e.rfxPhases,rules:e.required,label:"Current Phase","item-value":"id","item-text":"rfxPhaseName"},model:{value:e.rfxForm.rfxPhase.id,callback:function(t){e.$set(e.rfxForm.rfxPhase,"id",t)},expression:"rfxForm.rfxPhase.id"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"inputClass required",attrs:{rules:e.required,label:"RFx Name"},model:{value:e.rfxForm.rfxName,callback:function(t){e.$set(e.rfxForm,"rfxName",t)},expression:"rfxForm.rfxName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"rfx-overview",label:"Summary of RFx","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.rfxOverview,callback:function(t){e.$set(e.rfxForm,"rfxOverview",t)},expression:"rfxForm.rfxOverview"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"client-responsibilities",label:"Client Responsibilities","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.clientResponsibilities,callback:function(t){e.$set(e.rfxForm,"clientResponsibilities",t)},expression:"rfxForm.clientResponsibilities"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"psd-responsibilities",label:"PSD Responsibilities","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.psdResponsibilities,callback:function(t){e.$set(e.rfxForm,"psdResponsibilities",t)},expression:"rfxForm.psdResponsibilities"}})],1)])],1)],1)},Bt=[];function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ut={props:{rfxData:Object,project:Object},components:{Snackbar:Le},data:function(){var e=Object.assign({},this.$props.rfxData);return{required:[function(e){return!!e||"This field is required"}],rfxForm:Lt({},e),valid:!0,saveRFxBtnLoading:!1}},computed:{rfxTypes:function(){return this.$store.state.rfxTypes},rfxPhases:function(){return this.$store.state.rfxPhases}},methods:{saveRFxForm:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate()&&(t=Object.assign({},this.rfxForm),t.project=this.project,t&&t.project&&t.project.id&&(this.saveRFxBtnLoading=!0,t.id?(this.$store.dispatch("updateProjectRFxData",t),this.$refs.snackbar.displaySnackbar("success","Updated"),this.saveRFxBtnLoading=!1):this.$store.dispatch("addProjectRFxData",t).then((function(e){r.saveRFxBtnLoading=!1,r.$refs.snackbar.displaySnackbar("success","Saved"),e.id&&(r.rfxForm.id=e.id)}))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},qt=Ut,Wt=Object(x["a"])(qt,At,Bt,!1,null,null,null),Yt=Wt.exports;g()(Wt,{VBtn:k["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VSelect:at["a"],VTextField:nt["a"],VTextarea:st["a"]});var zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("v-form",{ref:"projectFinance",attrs:{id:"projectFinanceInfo"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"finance-code-block"},[r("h3",{staticClass:"finance-header"},[e._v("\n            Finance Codes\n          ")]),r("span",{staticClass:"mb-4 d-block"},[e._v("\n             Please note: To complete the intake form these fields are optional. However, a project cannot be assigned without finance codes.\n           ")])])])]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Client No. (3 characters)",rules:[e.rules.clientNoRules],maxlength:"3"},model:{value:e.financeInfo.clientNo,callback:function(t){e.$set(e.financeInfo,"clientNo",t)},expression:"financeInfo.clientNo"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Responsibility Center (5 characters)",rules:[e.rules.responsibilityCenterRules],maxlength:"5"},model:{value:e.financeInfo.responsibilityCenter,callback:function(t){e.$set(e.financeInfo,"responsibilityCenter",t)},expression:"financeInfo.responsibilityCenter"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Service Center (5 characters)",rules:[e.rules.serviceCenterRules],maxlength:"5"},model:{value:e.financeInfo.serviceCenter,callback:function(t){e.$set(e.financeInfo,"serviceCenter",t)},expression:"financeInfo.serviceCenter"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"STOB (4 characters)",rules:[e.rules.stobRules],maxlength:"4"},model:{value:e.financeInfo.stob,callback:function(t){e.$set(e.financeInfo,"stob",t)},expression:"financeInfo.stob"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Project Code (7 characters)",rules:[e.rules.projectCodeRules],maxlength:"7"},model:{value:e.financeInfo.projectCode,callback:function(t){e.$set(e.financeInfo,"projectCode",t)},expression:"financeInfo.projectCode"}})],1)])],1)],1)},Ht=[];r("fce1");function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gt={props:{financeInfo:Object,codesRequired:{type:Boolean,default:!1}},data:function(){var e=this,t=Object.assign({},this.$props.financeInfo);return{valid:!0,rules:{clientNoRules:function(t){return e.showValidationMessage(t,3)},responsibilityCenterRules:function(t){return e.showValidationMessage(t,5)},serviceCenterRules:function(t){return e.showValidationMessage(t,5)},stobRules:function(t){return e.showValidationMessage(t,4)},projectCodeRules:function(t){return e.showValidationMessage(t,7)}},form:Jt({},t)}},watch:{financeInfo:function(e){this.form=e}},methods:{showValidationMessage:function(e,t){return!(this.codesRequired&&!e||e.length&&e.length!==t)||"Exactly ".concat(t," characters required")},validate:function(){return this.$refs.projectFinance.validate()}}},Xt=Gt,Zt=Object(x["a"])(Xt,zt,Ht,!1,null,null,null),Kt=Zt.exports;g()(Zt,{VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VTextField:nt["a"]});var er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"project-risk-edit",attrs:{row:"",wrap:"","py-2":""}},[r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),r("v-flex",{staticClass:"mb-4"},[r("label",{staticClass:"primary-heading sub-header-large"},[e._v("Risk Assessment")]),r("div",{staticClass:"all-risk-scores"},[e.intakeScore&&e.intakeScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("Intake Risk Score:  ")]),r("span",{class:"level-"+e.intakeScore.level},[e._v(e._s(e.intakeScore.level)+" ( "+e._s(e.intakeScore.percentage)+"% )")])]):e._e(),e.psbScore&&e.psbScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("PSB Risk Score:  ")]),r("span",{class:"level-"+e.psbScore.level},[e._v(e._s(e.psbScore.level)+" ( "+e._s(e.psbScore.percentage)+"% )")])]):e._e(),e.totalScore&&e.totalScore.level?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("Total Risk Score:  ")]),r("span",{class:"level-"+e.totalScore.level},[e._v(e._s(e.totalScore.level)+" ( "+e._s(e.totalScore.percentage)+"% )")])]):e._e(),e.needSpo?r("div",{staticClass:"risk-items"},[r("span",{staticClass:"bold"},[e._v("SPO Engagement Need?  ")]),r("span",[e._v(e._s(e.needSpo))])]):e._e()])]),r("v-form",{ref:"projectRiskAssessment",staticClass:"project-risk",attrs:{id:"project-risk-assessment","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.editScreen?r("div",[e._l(e.intakeRiskQuestions,(function(t){return r("v-flex",{key:t.id,attrs:{sm12:""}},[r("v-flex",{attrs:{sm12:""}},[1==t.questionNo?r("div",[r("h3",[e._v(e._s(e.categoryList[t.category-1].text))]),r("br")]):e._e(),e.categoryList[t.category-1].showStatus||1==t.questionNo?r("div",[r("div",{staticClass:"question",domProps:{innerHTML:e._s(t.question)}}),t.answer&&t.answer[0]&&t.answer[0].answer.length<16?r("v-radio-group",{attrs:{row:"",rules:e.requireRadioButtondRule},on:{change:function(t){return e.calculateData()}},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.upateCategoryStatus(t,n)}}})})),1):e._e(),t.answer&&t.answer[0]&&t.answer[0].answer.length>15?r("v-radio-group",{attrs:{rules:e.requireRadioButtondRule,column:""},on:{change:function(t){return e.calculateData()}},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.upateCategoryStatus(t,n)}}})})),1):e._e()],1):e._e()])],1)})),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onSave}},[e._v("Save")]),r("v-btn",{attrs:{color:"secondary"},on:{click:e.onCancel}},[e._v("cancel")])],1)],1)])])],2):r("div",{staticClass:"project-risk-anaysis"},[r("v-flex",{attrs:{md12:""}},[r("v-btn",{staticClass:"edit-btn",attrs:{color:"primary"},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-expansion-panel",{attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("SIZE & SCOPE")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[1==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("PROCESS COMPLEXITY")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[2==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("CAPACITY")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[3==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1),r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("v-flex",{attrs:{xs11:""}},[r("label",{staticClass:"sub-header-large"},[e._v("UNIQUE ATTRIBUTES")])])],1)]},proxy:!0}])},[r("v-card",[r("v-card-text",e._l(e.projectRiskAnswers,(function(t){return r("v-flex",{key:t.id,staticClass:"risk-analysis",attrs:{sm12:""}},[4==t.category?r("div",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-flex",{attrs:{sm11:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{ripple:!1},on:{click:e.editProjectRisk}},[e._v("edit")])],1),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)],1)],1):e._e()])})),1)],1)],1)],1)],1)])],1)},tr=[],rr=(r("55dd"),r("75fc"));r("ea3a");function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sr={components:{Snackbar:Le,Spinner:Qe},props:{intakeRisk:Array,projectId:String},computed:{intakeRiskQuestions:function(){return this.$store.state.intakeRiskQuestions},projectRiskAnswers:function(){return this.$store.state.projectRiskAnswers}},data:function(){var e=Object.assign({},this.$props.intakeRisk);return{editScreen:!1,valid:!0,categoryList:[{id:1,text:"SIZE & SCOPE",showStatus:!0},{id:2,text:"PROCESS COMPLEXITY",showStatus:!0},{id:3,text:"CAPACITY",showStatus:!0},{id:4,text:"UNIQUE ATTRIBUTES",showStatus:!0}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],form:nr({},e),intakeRiskAssessment:this.$store.state.intakeRiskAssessment,intakeScore:void 0,psbScore:void 0,totalScore:void 0,spoScore:void 0,needSpo:"No"}},watch:{},methods:{updateInitalData:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=function(e){var t=a.projectRiskAnswers.filter((function(t){return t.questionId===a.intakeRiskQuestions[e].id}));t&&t[0]&&(a.intakeRiskQuestions[e].selectedAnswerId=t[0].answerid,a.intakeRiskQuestions[e].score=t[0].score,a.intakeRiskQuestions[e].analysisId=t[0].id);for(var r=0;r<a.intakeRiskQuestions[e].answer.length;r++)a.intakeRiskQuestions[e].answer[r].id===a.intakeRiskQuestions[e].selectedAnswerId&&a.upateCategoryStatus(a.intakeRiskQuestions[e],r)},r=0;r<this.intakeRiskQuestions.length;r++)t(r);this.calculateData();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),prepareRiskAnalysis:function(){for(var e=this,t=[],r=0,a=function(a){var n=e.intakeRiskQuestions[a],s=0,i=n.answer.filter((function(e){return e.id===n.selectedAnswerId}));i&&i[0]&&(s=i[0].score);var o=n.analysisId?n.analysisId:null;t[r]={questionId:n.id,answerId:n.selectedAnswerId,score:s,id:o},r++},n=0;n<this.intakeRiskQuestions.length;n++)a(n);return t},onSave:function(){var e=this,t=this.prepareRiskAnalysis();this.$refs.spinner.open();var r=this.$store.state.activeProject.id,a=!1;"YES"===this.needSpo&&(a=!0);var n=0;"High"===this.intakeScore.level?n=1:"Medium"===this.intakeScore.level?n=2:"Low"===this.intakeScore.level&&(n=3);var s={projectId:r,risk:t,scores:{IntakeriskScore:this.intakeScore?this.intakeScore.percentage:void 0,psbRiskScore:this.psbScore?this.psbScore.percentage:void 0,riskScore:this.totalScore?this.totalScore.percentage:void 0,intakeRiskLevel:n,isSPOEngagement:a}};this.$store.dispatch("updateRiskAnalysis",s).then((function(t){e.$store.state.projectRiskAnswers=t,e.updateInitalData(),e.$refs.snackbar.displaySnackbar("success","Successfully saved risk analysis."),e.$refs.spinner.close()}),(function(t){if(e.$refs.spinner.close(),t&&t.response&&t.response.data){var r=t.response.data.error.message;e.$refs.snackbar.displaySnackbar("error",r)}else e.$refs.snackbar.displaySnackbar("error","Risk analysis Error")})),this.editScreen=!1,this.updateInitalData()},onCancel:function(){this.updateInitalData(),this.editScreen=!1},editProjectRisk:function(){this.updateInitalData(),this.editScreen=!0},upateCategoryStatus:function(e,t){var r=this;if(1===e.questionNo&&0===t?this.categoryList[e.category-1].showStatus=!1:1===e.questionNo&&(this.categoryList[e.category-1].showStatus=!0),!this.categoryList[e.category-1].showStatus&&1===e.questionNo)for(var a=this.intakeRiskQuestions.filter((function(t){return t.category===r.categoryList[e.category-1].id})),n=0;n<a.length;n++)1!==a[n].questionNo&&(a[n].selectedAnswerId=null,a[n].score=0)},getRiskLevel:function(e){var t="Low";return e>50?t="High":e>25&&(t="Medium"),t},calculateItemScore:function(e){var t=0,r=Object(rr["a"])(e).map((function(e){var r=e.answer.map((function(e){return e.score}));r.sort((function(e,t){return t-e})),t+=r[0];var a=e.answer.filter((function(t){return t.id===e.selectedAnswerId}));return a&&a[0]&&"undefined"!==typeof a[0].score?a[0].score:0})).reduce((function(e,t){return e+t}),0),a=(r/t*100).toFixed(2);return{score:r,totalPossibleScore:t,percentage:a,level:this.getRiskLevel(a)}},calculateRiskScore:function(){this.intakeRiskQuestions&&(this.intakeScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(e){return!e.is_PSB}))),this.psbScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(e){return e.is_PSB}))),this.totalScore=this.calculateItemScore(this.intakeRiskQuestions),this.spoScore=this.calculateItemScore(this.intakeRiskQuestions.filter((function(e){return e.isStrategicContact}))),this.needSpo=this.spoScore.score>15?"YES":"NO")},calculateData:function(){this.calculateRiskScore()}}},ir=sr,or=(r("cb06"),r("cd55")),cr=r("49e2"),lr=Object(x["a"])(ir,er,tr,!1,null,"706382bd",null),ur=lr.exports;g()(lr,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VExpansionPanel:or["a"],VExpansionPanelContent:cr["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VRadio:gt["a"],VRadioGroup:jt["a"]});var dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-form",{ref:"projectContact"},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Role"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:e.contactNameLabel},model:{value:e.form.fullName,callback:function(t){e.$set(e.form,"fullName",t)},expression:"form.fullName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Email Address","error-messages":e.emailError()},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Organization"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Position"},model:{value:e.form.orgPosition,callback:function(t){e.$set(e.form,"orgPosition",t)},expression:"form.orgPosition"}})],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Phone Number","error-messages":e.phoneError(),mask:"phone"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1)])],1)],1)},fr=[];function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vr={components:{},props:{contact:Object,contactNameLabel:String},data:function(){var e=Object.assign({},new Oe,this.$props.contact);return{form:pr({},e)}},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(e){this.form=e||new Oe}},methods:{emailError:function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return this.form.email&&this.form.email.length>0?e.test(this.form.email)?"":"Email must be valid":""},phoneError:function(){return this.form.phoneNumber&&this.form.phoneNumber.length>0?this.form.phoneNumber.length>=10?"":"Invalid Phone":""},reset:function(){this.$refs.projectContact.reset(),this.form.phoneNumber=""}}},hr=vr,br=Object(x["a"])(hr,dr,fr,!1,null,null,null),xr=br.exports;g()(br,{VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VTextField:nt["a"]});var yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("spinner",{ref:"spinner"}),r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-container",{attrs:{fluid:""}},[r("v-radio-group",{attrs:{row:""},model:{value:e.isResolved,callback:function(t){e.isResolved=t},expression:"isResolved"}},[r("v-radio",{attrs:{label:"Logs In Progress",value:!1,isResolved:""}}),r("v-radio",{attrs:{label:"Resolved Logs",value:!0,isResolved:""}})],1)],1),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.allProcLogs,"hide-actions":"","disable-initial-sort":"","aria-multiline":"true",search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[r("procurement-log",{ref:"ProcurementLog"}),r("span",{staticClass:"clickable",on:{click:function(r){return e.viewRequest(t.item.id)}}},[e._v(e._s(t.item.logType))])],1),r("td",{staticClass:"text-xs-left"},[r("procurement-log",{ref:"ProcurementLog"}),r("span",{staticClass:"clickable",on:{click:function(r){return e.viewRequest(t.item.id)}}},[e._v(e._s(t.item.descriptionOfIssue.toString().slice(0,30)+"...")+"\n            ")])],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.dateToClient)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.notificationMethod))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.riskOwner))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.phaseImpactName))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.clientDecision))]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.followUpDate?new Date(t.item.followUpDate).toString().slice(3,15):"")+"\n          ")]),r("td",{staticClass:"text-xs-left",attrs:{width:"10%"}},[e.isResolved?e._e():r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return e.resolveLog(t.item.id)}}},[e._v("RESOLVE")])],1)]}}])})],r("v-divider")],2)],1)},gr=[],jr={props:{title:String,search:String},components:{Snackbar:Le,Spinner:Qe,Confirm:se,ProcurementLog:ot},data:function(){return{isResolved:!1,logList:this.fetchData(),selectedLeadUser:"",selectedProjectBackup:"",unResolved:[]}},computed:{headers:function(){var e=[{text:"Log Type",value:"logType",align:"left",sortable:!1,width:"10%"},{text:"Description of Issue",value:"issueDescription",sortable:!1,width:"20%"},{text:"Date To Client",value:"dateToClient",sortable:!1,width:"10%"},{text:"Method of Notification",value:"notificationMethod",sortable:!1,width:"10%"},{text:"Decision Maker",value:"riskOwner",sortable:!1,width:"10%"},{text:"Phase Impact",value:"phaseImpactName",sortable:!1,width:"10%"},{text:"Client Decision",value:"clientDecision",sortable:!1,width:"10%"},{text:"Resolution or Follow Up Date",value:"followUpDate",sortable:!1,width:"12%"}];return this.isResolved||(e[1].width="15%",e[7].width="12%",e.push({text:"Action",width:"15%"})),e},allProcLogs:function(){if(this.isResolved){var e=this.$store.state.allProcurementLog.filter((function(e){return 1==e.isResolved}));return e}var t=this.$store.state.allProcurementLog.filter((function(e){return 0==e.isResolved}));return t}},created:function(){this.fetchData()},methods:{resolveLog:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure you want to resolve this log?");case 2:if(!e.sent){e.next=7;break}return r=this.$store.state.allProcurementLog.find((function(e){return e.id==t})),r.isResolved=!0,e.next=7,this.$store.dispatch("updateProctLog",{procurementlog:r}).then((function(){a.$refs.snackbar.displaySnackbar("success","Resolved")}),(function(e){try{var t=e.response.data.error.message;a.$refs.snackbar.displaySnackbar("error",t)}catch(r){a.$refs.snackbar.displaySnackbar("error","Failed to Resolve")}}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),close:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.fetchData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewRequest:function(e){var t=this.$store.state.allProcurementLog.find((function(t){return t.id==e}));this.$refs.ProcurementLog.reset(),this.$refs.ProcurementLog.openWithValues(t)},fetchData:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$refs.spinner&&this.$refs.spinner.open(),t=this.$router.currentRoute.params,r=t.id||void 0,e.next=5,this.$store.dispatch("fetchAllProcurementLog",{id:r});case 5:return a=e.sent,e.next=8,this.$store.dispatch("fetchProjectRFxData",{id:r});case 8:return e.sent,this.$refs.spinner&&this.$refs.spinner.close(),e.abrupt("return",a[0]);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},kr=jr,Cr=(r("8388"),r("8fea")),wr=Object(x["a"])(kr,yr,gr,!1,null,"619dde11",null),_r=wr.exports;g()(wr,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VContainer:C["a"],VDataTable:Cr["a"],VDivider:_["a"],VRadio:gt["a"],VRadioGroup:jt["a"],VToolbar:V["a"],VToolbarTitle:A["a"]});r("11901");a["default"].use(ye["a"]);var Pr={CLIENT_CONTACT:"clientcontact"},Sr={components:{ProjectBaseInfo:Ct,projectNotes:Rt,ProjectContactInfo:Et,ProjectRfx:Yt,ProjectFinanceInfo:Kt,Snackbar:Le,ProjectAdditionalContactInfo:xr,projectRiskAssessment:ur,ProcurementLogTable:_r,ProcurementLog:ot},props:{title:String,ProcurementLog:{type:Function,default:function(){}}},$_veeValidate:{validator:"new"},computed:{project:function(){return this.$store.state.activeProject},projectRfxData:function(){return this.$store.state.activeProjectRfxData}},data:function(){return{additionalContact:[new Re],search:"",activeTab:void 0,rfxData:[new ge["a"]],projectId:"",enabled:!0,initialLoad:!0,color:$e.a,selectedTab:"tab-1",projectcomments:this.$store.state.allProjectNotes,allContacts:[],contactCount:this.$store.state.activeProjectContacts.filter((function(e){return"clientcontact"===e.contactType})).length,AllContactData:this.$store.state.activeProjectContacts.filter((function(e){return"clientcontact"===e.contactType}))}},watch:{enabled:function(){this.enabled||this.$refs.projectClient.reset()},getcustdata:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;this.$store.dispatch("fetchProjectContacts",{id:t})}},methods:{addNewContact:function(){this.contactCount=this.contactCount+1;var e={id:void 0,contactType:"",userId:"",fullName:"",orgName:"",orgPosition:"",email:"",phoneNumber:"",addressLine1:"",addressLine2:"",city:"",province:"",country:"",postalCode:"",roleName:""};this.AllContactData.push(e)},close:function(){this.$refs.procurementtable.close()},closeNotes:function(){},projectnotes:function(){return this.$store.state.allProjectNotes},newProcurementLog:function(){this.$refs.ProcurementLog.reset(),this.$refs.ProcurementLog.open()},replynotes:function(e,t){var r=e;this.$refs[r][0].reset(),this.$refs[r][0].open(e,t)},newnotes:function(e){this.$refs.projectNoteNew.reset(),this.$refs.projectNoteNew.open(e,void 0)},projectContactData:function(e){var t=this.$store.getters.getProjectContactByType(e);return t&&t.id?t:new Oe},fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;void 0!==t&&(this.projectId=t,this.$store.dispatch("fetchProject",{id:this.projectId}),this.$store.dispatch("fetchProjectRFxData",{id:this.projectId}),this.$store.dispatch("fetchProjectContacts",{id:this.projectId}),this.$store.dispatch("fetchprojectRiskAnswers",{id:this.projectId}),this.$store.dispatch("fetchAllProcurementLog",{id:this.projectId})),this.$store.dispatch("fetchAllProjectNotes",{id:this.projectId}),this.$store.dispatch("fetchintakeRiskQuestions")},formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},addNewRFx:function(){var e=this.validateRFXForm();e&&this.projectRfxData.push(new ge["a"])},validateRFXForm:function(){return!this.$refs.rfxForm||0===this.$refs.rfxForm.map((function(e){return e.$refs.form.validate()})).filter((function(e){return!e})).length},saveProjectContacts:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(this.$refs.projectLead.Validate(),this.$refs.projectSponsor.Validate(),this.$refs.projectFinancier.Validate(),t=this.$refs.projectLead.form||void 0,r=this.$refs.projectSponsor.form||void 0,a=this.$refs.projectFinancier.form||void 0,n=this.$refs.projectClient?this.$refs.projectClient.form:void 0,void 0!==n&&(n.contactType=Pr.CLIENT_CONTACT),s=0;s<this.contactCount;s++)this.$refs.additionalcontactinfo[s]&&(this.$refs.additionalcontactinfo[s].form.contactType="clientcontact",this.allContacts.push(this.$refs.additionalcontactinfo[s].form));if(i=[t,r,n,a].filter((function(e){return void 0!==e})),i=i.concat(this.allContacts),!(i instanceof Array&&i.length>0)){e.next=15;break}return e.next=14,this.$store.dispatch("updateProjectContacts",{id:this.projectId,contacts:i});case 14:this.$refs.snackbar.displaySnackbar("success","Saved");case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveFinanceCodes:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.projectFinanceInfo.financeInfo||void 0,!this.$refs.projectFinanceInfo.validate()){e.next=5;break}if(!(this.project&&this.project.client&&this.project.client.id)){e.next=5;break}return e.next=5,this.$store.dispatch("updateProjectFinanceCodes",{id:this.project.client.id,financeCodes:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","Updated")}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initializeRisk:function(){this.$refs.projectRiskAssessment.updateInitalData(),this.$refs.projectRiskAssessment.editScreen=!1}},created:function(){0===this.projectRfxData.length&&this.addNewRFx(),this.fetchData()}},Or=Sr,Rr=(r("efc5"),r("71a3")),Ir=r("c671"),$r=r("fe57"),Tr=Object(x["a"])(Or,he,be,!1,null,"6ecc485c",null),Dr=Tr.exports;g()(Tr,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VContainer:C["a"],VExpansionPanel:or["a"],VExpansionPanelContent:cr["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VSpacer:N["a"],VTab:Rr["a"],VTabItem:Ir["a"],VTabs:$r["a"],VTextField:nt["a"]});var Nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"intake-form"},[a("snackbar",{ref:"snackbar"}),a("spinner",{ref:"spinner"}),a("v-form",[a("v-layout",[a("v-flex",{staticClass:"intake-form-header-div",attrs:{md12:""}},[a("h1",{staticClass:"intake-form-header"},[e._v("Intake Form")]),a("div",{staticClass:"intake-sub-header"},[e._v("Complete the intake form to submit your project")])])],1),a("v-container",[a("v-stepper",{attrs:{"alt-labels":""},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{class:e.editall?"stepper-color":"",attrs:{editable:e.isEditPInnfo,"edit-icon":"1",complete:e.e1>1,step:1},on:{click:function(t){return e.checkedit(1)}}},[e._v("\n            Procurement Project\n            "),a("br"),e._v("Information\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:e.editall?"stepper-color":"",attrs:{editable:e.isEditMBInfo,"edit-icon":"2",complete:e.e1>2,step:2},on:{click:function(t){return e.checkedit(2)}}},[e._v("Ministry/Branch Information")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:e.editall?"stepper-color":"",attrs:{editable:e.isEditRiskInfo,"edit-icon":"3",complete:e.e1>3,step:3},on:{click:function(t){return e.checkedit(3)}}},[e._v("\n            Risk\n            "),a("br"),e._v("Assessment\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:e.editall?"stepper-color":"",attrs:{editable:e.isEditContactInfo,"edit-icon":"4",complete:e.e1>4,step:4},on:{click:function(t){return e.checkedit(4)}}},[e._v("\n            Contact\n            "),a("br"),e._v("Information\n          ")]),a("v-divider",{staticClass:"first-divider"}),a("v-divider",{staticClass:"second-divider"}),a("v-stepper-step",{class:e.editall?"stepper-color":"",attrs:{editable:e.isEditContactInfo,"edit-icon":"5",complete:e.e1>4,step:"5"},on:{click:function(t){return e.checkedit(5)}}},[e._v("\n            Review\n            "),a("br"),e._v("& Submit\n          ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("2a68")}}),a("label",{staticClass:"sub-header-large"},[e._v("Project Information")])])]},proxy:!0}])},[a("v-card",[a("v-card-text",[a("intake-base-info",{ref:"intakeBaseInfo",attrs:{project:e.intakeRequest},on:{next:function(t){return e.nextButtonClick(2)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("a616")}}),a("label",{staticClass:"sub-header-large"},[e._v("Ministry / Branch Information")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(1)}}},[e._v("< Project Information")]),a("v-card",[a("v-card-text",[a("ministry-branch-info",{ref:"intakeClientInfo",attrs:{ministry:e.intakeRequest.client},on:{next:function(t){return e.nextButtonClick(3)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("a616")}}),a("label",{staticClass:"sub-header-large"},[e._v("Risk Assessment")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(2)}}},[e._v("< Ministry / Branch Information")]),a("v-card",[a("v-card-text",[a("intake-risk-assessment",{ref:"intakeRiskAssessment",attrs:{intakeRisk:e.intakeRiskQuestions},on:{next:function(t){return e.nextButtonClick(4)}}})],1)],1)],1),a("v-stepper-content",{attrs:{step:"4"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("img",{attrs:{src:r("5629")}}),a("label",{staticClass:"sub-header-large"},[e._v("Contact Information")])])]},proxy:!0}])},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(3)}}},[e._v("< Risk Assessment")]),a("div",{staticClass:"intake-contact-layout"},[a("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[a("span",{staticClass:"intake-base-info-header-content"},[e._v("Contact Information")])]),a("v-card",[a("v-card-text",[a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[e._v("Client Lead Contact Information")]),a("project-contact-info",{ref:"projectLead",attrs:{contact:e.getClientInfo(e.CLIENT_LEAD),contactNameLabel:"Client Lead Name",isRequired:!0},on:{next:function(t){return e.nextButtonClick(5)}}})],1),a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[e._v("Executive Sponsor Contact Information")]),a("project-contact-info",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name",isRequired:!0},on:{next:function(t){return e.nextButtonClick(5)}}})],1),a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",{staticClass:"v-form-container"},[e._v("Financial Contact Information")]),a("project-contact-info",{ref:"projectFinance",attrs:{contact:e.getClientInfo(e.CLIENT_FINANCE),contactNameLabel:"Financial Contact Name"},on:{next:function(t){return e.nextButtonClick(5)}}})],1),e._l(e.contactData,(function(t,r){return a("v-flex",{key:r,attrs:{xs12:"",md6:"","my-3":"",value:0},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"primary-heading"},[a("v-flex",{attrs:{xs11:""}})],1)]},proxy:!0}],null,!0)},[a("v-card",[a("v-card-text",[a("h3",{staticClass:"v-form-container"},[e._v("Additional Contact Information")]),a("project-additional-contact-info",{ref:"additionalcontactinfo",refInFor:!0,attrs:{additionalContact:t,contact:e.getClientInfo(e.CLIENT_CONTACT),contactNameLabel:"Contact Name",isRequired:!1},on:{next:function(t){return e.nextButtonClick(5)}}})],1)],1)],1)}))],2),a("v-card",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"contact-button-div"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.addNewContact}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v("Add Contact\n                          ")],1)],1)])],1),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[a("v-flex",{attrs:{"md-12":"","mt-4":""}},[a("v-btn",{attrs:{disabled:!(e.$store.state.projectInformation&&e.$store.state.ministryInformation&&this.$store.state.intakeRiskQuestions),color:"primary"},on:{click:function(t){return e.nextButtonClick(5)}}},[e._v("Next")])],1)],1)])])],1)],1)])],1)],1)],1),a("v-stepper-content",{attrs:{step:"5"}},[a("v-btn",{staticClass:"back-link",attrs:{flat:"",large:"",color:"primary"},on:{click:function(t){return e.backfn(4)}}},[e._v("< Contact Information")]),a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}},[a("intake-review",{ref:"intakeReview",attrs:{intakeValues:e.reviewSubmit},on:{switch:e.moveToComponent}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","py-2":""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[5==e.e1?a("v-flex",{attrs:{md12:"","mt-4":""}},[a("v-btn",{attrs:{color:"default"},on:{click:e.discard}},[e._v("Discard")]),a("v-btn",{attrs:{disabled:!(e.$store.state.projectInformation&&e.$store.state.ministryInformation&&e.$store.state.contactInformation),color:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1):e._e()],1)])])],1)],1)],1)},Fr=[],Vr=r("320c"),Er=r.n(Vr),Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"custom-project-base-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content",staticStyle:{"text-align":"center"}},[e._v("Procurement Project Information")])]),r("v-form",{ref:"intakeBaseInfo",staticClass:"intake-base-info",attrs:{id:"intake-base-info","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Name"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-select",e._g({directives:[{name:"open-on-focus",rawName:"v-open-on-focus"}],staticClass:"required",attrs:{items:e.projectSectors,rules:e.requiredRule,label:"Project Sector","item-value":"id","item-text":"projectSectorName"},model:{value:e.form.projectSector.id,callback:function(t){e.$set(e.form.projectSector,"id",t)},expression:"form.projectSector.id"}},e.checksectorid()))],1)]),r("v-flex",{attrs:{md6:""}}),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[e.form.projectSector.id==e.otherSectorId?r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Other Project Sector Name"},model:{value:e.form.otherProjectSectorName,callback:function(t){e.$set(e.form,"otherProjectSectorName",t)},expression:"form.otherProjectSectorName"}}):e._e()],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{readonly:"",rules:e.requiredRule,label:"Desired Date of Completion","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.estimatedCompletionDate,callback:function(t){e.$set(e.form,"estimatedCompletionDate",t)},expression:"form.estimatedCompletionDate"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(t){e.menu1=!1}},model:{value:e.form.estimatedCompletionDate,callback:function(t){e.$set(e.form,"estimatedCompletionDate",t)},expression:"form.estimatedCompletionDate"}})],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.amountRule,"prepend-inner-icon":"attach_money",label:"Contract Amount",oninput:"validity.valid||(value='');",value:e._f("withCommas")(e.form.estimatedContractValue)},on:{blur:function(t){return e.form.estimatedContractValue=parseFloat(t.target.value.toString().replace(/,/g,""))}}})],1)]),r("v-flex",{attrs:{md6:""}},[r("div",[r("v-container",{attrs:{fluid:""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"4%"}},[e._v("Reprocurement?")]),r("v-radio-group",{attrs:{row:""},model:{value:e.form.isReprocurement,callback:function(t){e.$set(e.form,"isReprocurement",t)},expression:"form.isReprocurement"}},[r("v-radio",{attrs:{label:" Yes",value:!0,"form.isReprocurement":""}}),r("v-radio",{attrs:{label:" No",value:!1,"form.isReprocurement":""}})],1)],1)],1)]),r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"v-form-container pl-0",staticStyle:{width:"95%","margin-left":"5%"}},[e.form.isReprocurement?r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{readonly:"",rules:e.requiredRule,label:"Date original contract ends","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}},a))]}}],null,!1,2916681121),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu2=!1}},model:{value:e.form.dateOfReprocurement,callback:function(t){e.$set(e.form,"dateOfReprocurement",t)},expression:"form.dateOfReprocurement"}})],1):e._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[e.form.isReprocurement?r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What is the background from the previous contract?","no-resize":"",rules:e.requiredRule},model:{value:e.form.previousContractBackground,callback:function(t){e.$set(e.form,"previousContractBackground",t)},expression:"form.previousContractBackground"}}):e._e()],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What is the potential impact of this procurement project failing?","no-resize":"",rules:e.requiredRule},model:{value:e.form.projectFailImpact,callback:function(t){e.$set(e.form,"projectFailImpact",t)},expression:"form.projectFailImpact"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"What does success look like for this procurement project?","no-resize":"",rules:e.requiredRule},model:{value:e.form.projectSuccess,callback:function(t){e.$set(e.form,"projectSuccess",t)},expression:"form.projectSuccess"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("Next")])],1)],1)])])],1)],1)},Br=[],Mr=(r("a599"),function(e){function t(){var e,r;Object(je["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(Ce["a"])(this,(e=Object(we["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(_e["a"])(r),"id",""),Object(l["a"])(Object(_e["a"])(r),"projectIntakeCategoryName",""),r}return Object(Pe["a"])(t,e),Object(ke["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,Se["a"].setProperties(e,r)),r}}]),t}(Se["a"])),Lr=function(e){function t(){var e,r;Object(je["a"])(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Object(Ce["a"])(this,(e=Object(we["a"])(t)).call.apply(e,[this].concat(n))),Object(l["a"])(Object(_e["a"])(r),"id",""),Object(l["a"])(Object(_e["a"])(r),"ProjectIntakeServiceName",""),r}return Object(Pe["a"])(t,e),Object(ke["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,Se["a"].setProperties(e,r)),r}}]),t}(Se["a"]);function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wr={components:{},props:{nextPanel:Function,panelName:String,project:Object},computed:{computedDateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors},projectIntakeCategories:function(){return this.$store.state.projectIntakeCategory},projectIntakeService:function(){return this.$store.state.projectIntakeServices}},data:function(){var e=Object.assign({},this.$props.project);e.isReprocurement=!1;var t=e.projectSector||null;t||(e.projectSector=new ft["a"]);var r=null;r||(e.projectIntakeCategory=new Mr);var a=null;a||(e.projectIntakeServices=new Lr);var n=e.client||null;return n||(e.client=new mt["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field required"}],amountRule:[function(e){if(!e)return"This field is required";if(0===e||"0"===e)return"Field cannot be zero";var t=e.toString().match(/^[0-9,_.-]*$/g,"");return!!t||"Field must just be a number."}],form:qr({},e),menu1:!1,menu2:!1,dateFormatted:void 0,projectInformation:this.$store.state.projectInformation,row:null,otherSectorId:null}},watch:{valid:function(e){this.$store.state.projectInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new ft["a"])}},methods:{thousandSeprator:function(e){return""!==e||void 0!==e||0!==e||"0"!==e||null!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e},checksectorid:function(){var e=this.$store.state.projectSectors.filter((function(e){return"Other"===e.projectSectorName}));e[0]&&(this.otherSectorId=e[0].id)},formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(n,"/").concat(s,"/").concat(a)},parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},onNextClicked:function(){this.$refs.intakeBaseInfo.validate()&&"CA$0.00"!=this.form.estimatedContractValue&&(this.form.isReprocurement||(this.form.dateOfReprocurement=void 0,this.form.previousContractBackground=void 0),this.$emit("next"),this.$store.state.projectInformation=!0,window.scrollTo({top:0,behavior:"smooth"}))},reset:function(){this.$refs.intakeBaseInfo.reset()},submitForm:function(){var e=this.form;this.$store.dispatch("addIntakeRequest",e)},sectorFocus:function(e){e.target.click()}}},Yr=Wr,zr=Object(x["a"])(Yr,Ar,Br,!1,null,null,null),Hr=zr.exports;g()(zr,{VBtn:k["a"],VContainer:C["a"],VDatePicker:et["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VMenu:rt["a"],VRadio:gt["a"],VRadioGroup:jt["a"],VSelect:at["a"],VTextField:nt["a"],VTextarea:st["a"]});var Qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"branch-info-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content"},[e._v("Ministry / Branch Information")])]),r("v-form",{ref:"intakeClientInfo",attrs:{id:"intake-client-info","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[e.form.isNonMinistry?e._e():r("v-select",{directives:[{name:"open-on-focus",rawName:"v-open-on-focus"}],staticClass:"required",attrs:{items:e.ministries,label:"Ministry",rules:e.requiredRule,"item-value":"id","item-text":"ministryName"},model:{value:e.form.ministry.id,callback:function(t){e.$set(e.form.ministry,"id",t)},expression:"form.ministry.id"}}),e.form.isNonMinistry?r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Non Ministry Name"},model:{value:e.form.nonMinistryName,callback:function(t){e.$set(e.form,"nonMinistryName",t)},expression:"form.nonMinistryName"}}):e._e(),r("v-container",{staticClass:"mb-4 mt-0",staticStyle:{padding:"0px !important","margin-top":"-10px"},attrs:{fluid:"",row:"",wrap:"","align-start":"","justify-end":"","fill-height":""}},[r("label",{staticClass:"v-label theme--light",staticStyle:{"margin-left":"2%"}},[e._v("Non-Ministry")]),r("v-checkbox",{model:{value:e.form.isNonMinistry,callback:function(t){e.$set(e.form,"isNonMinistry",t)},expression:"form.isNonMinistry"}})],1)],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{label:"Branch",rules:e.requiredRule},model:{value:e.form.orgDivision,callback:function(t){e.$set(e.form,"orgDivision",t)},expression:"form.orgDivision"}})],1)]),r("v-flex",{attrs:{sm6:""}}),r("v-flex",{attrs:{xs12:""}},[r("h3",{staticClass:"finance-header",staticStyle:{"margin-left":"3%"}},[e._v("Address Information")])]),r("v-flex",{attrs:{xs12:""}},[r("generic-contact-info",{attrs:{contact:e.form}})],1),e.form.isNonMinistry?e._e():r("v-flex",{attrs:{xs12:"","pt-2":""}},[r("project-finance-info",{attrs:{financeInfo:e.form}})],1),r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("Next")])],1)],1)])])],1)],1)},Jr=[],Gr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{sm12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Address Line 1"},model:{value:e.contact.addressLine1,callback:function(t){e.$set(e.contact,"addressLine1",t)},expression:"contact.addressLine1"}})],1)]),r("v-flex",{attrs:{sm12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Address Line 2"},model:{value:e.contact.addressLine2,callback:function(t){e.$set(e.contact,"addressLine2",t)},expression:"contact.addressLine2"}})],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"City"},model:{value:e.contact.city,callback:function(t){e.$set(e.contact,"city",t)},expression:"contact.city"}})],1)]),r("v-flex",{attrs:{sm6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Postal"},model:{value:e.contact.postalCode,callback:function(t){e.$set(e.contact,"postalCode",t)},expression:"contact.postalCode"}})],1)])],1)},Xr=[],Zr={props:{contact:Object},data:function(){return{valid:!0,requiredRule:[function(e){return!!e||"This field is required"}]}}},Kr=Zr,ea=Object(x["a"])(Kr,Gr,Xr,!1,null,null,null),ta=ea.exports;function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}g()(ea,{VFlex:ce["a"],VLayout:S["a"],VTextField:nt["a"]});var na={components:{ProjectFinanceInfo:Kt,GenericContactInfo:ta},props:{nextPanel:Function,panelName:String,ministry:Object},computed:{ministries:function(){return this.$store.state.ministries}},data:function(){var e=Object.assign({},this.$props.ministry);e.isNonMinistry=!1;var t=e.ministry||null;return t||(e.ministry=new dt["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field required"}],form:aa({},e),ministryInformation:this.$store.state.ministryInformation}},watch:{valid:function(e){this.$store.state.ministryInformation=e},ministry:function(e){this.form=e;var t=this.form.ministry||null;t||(this.form.ministry=new dt["a"])}},methods:{onNextClicked:function(){this.$refs.intakeClientInfo.validate()&&(this.form.isNonMinistry?this.form.ministry=void 0:this.form.NonMinistryName=void 0,this.$emit("next"),this.$store.state.ministryInformation=!0)},reset:function(){this.$refs.intakeClientInfo.reset()}}},sa=na,ia=(r("cb87"),Object(x["a"])(sa,Qr,Jr,!1,null,"041c47eb",null)),oa=ia.exports;g()(ia,{VBtn:k["a"],VCheckbox:xt["a"],VContainer:C["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VSelect:at["a"],VTextField:nt["a"]});var ca=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"risk-info-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"intake-base-info-header-content"},[e._v("Risk Assessment")])]),r("v-form",{ref:"intakeRiskAssessment",staticStyle:{"margin-left":"30px","margin-top":"20px"},attrs:{id:"intake-risk-assessment","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e._l(e.intakeRiskQuestion,(function(t){return r("v-flex",{key:t.id,attrs:{sm12:""}},[r("v-flex",{attrs:{sm12:""}},[1==t.questionNo?r("div",[r("h2",[e._v(e._s(e.categoryList[t.category-1].text))]),r("br")]):e._e(),e.categoryList[t.category-1].showStatus||1==t.questionNo?r("div",[r("div",{staticClass:"question",domProps:{innerHTML:e._s(t.question)}}),t.answer&&t.answer[0]&&t.answer[0].answer.length<16?r("v-radio-group",{attrs:{row:""},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.updateCategoryStatus(t,n)}}})})),1):e._e(),t.answer&&t.answer[0]&&t.answer[0].answer.length>15?r("v-radio-group",{attrs:{column:""},model:{value:t.selectedAnswerId,callback:function(r){e.$set(t,"selectedAnswerId",r)},expression:"item.selectedAnswerId"}},e._l(t.answer,(function(a,n){return r("v-radio",{key:a.id,staticClass:"answer",attrs:{label:a.answer,value:a.id},on:{change:function(r){return e.updateCategoryStatus(t,n)}}})})),1):e._e()],1):e._e()])],1)})),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{"md-12":"","mt-4":""}},[r("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("Next")])],1)],1)])])],2)],1)},la=[];r("2a685");function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fa={components:{},props:{intakeRisk:Array,nextPanel:Function,panelName:String},computed:{intakeRiskQuestion:function(){return this.$store.state.intakeRiskQuestions.filter((function(e){return!e.is_PSB}))}},data:function(){var e=Object.assign({},this.$props.intakeRisk);return{valid:!0,categoryList:[{id:1,text:"SIZE & SCOPE",showStatus:!1},{id:2,text:"PROCESS COMPLEXITY",showStatus:!1},{id:3,text:"CAPACITY",showStatus:!1},{id:4,text:"UNIQUE ATTRIBUTES",showStatus:!1}],form:da({},e),intakeRiskAssessment:this.$store.state.intakeRiskAssessment}},watch:{},beforeMount:function(){for(var e=0;e<this.$store.state.intakeRiskQuestions.length;e++)delete this.$store.state.intakeRiskQuestions[e].score,delete this.$store.state.intakeRiskQuestions[e].selectedAnswerId},methods:{getRiskLevel:function(e){var t="Low";return e>50?t="High":e>25&&(t="Medium"),t},calculateItemScore:function(e){var t=0,r=Object(rr["a"])(e).map((function(e){var r=e.answer.map((function(e){return e.score}));r.sort((function(e,t){return t-e})),t+=r[0];var a=e.answer.filter((function(t){return t.id===e.selectedAnswerId}));return a&&a[0]&&"undefined"!==typeof a[0].score?a[0].score:0})).reduce((function(e,t){return e+t}),0),a=(r/t*100).toFixed(2);return{score:r,totalPossibleScore:t,percentage:a,level:this.getRiskLevel(a)}},calculateRiskScore:function(){return this.calculateItemScore(this.intakeRiskQuestion)},updateCategoryStatus:function(e,t){1===e.questionNo&&0===t?(this.categoryList[e.category-1].showStatus=!1,e.showStatus=!1):1===e.questionNo&&(this.categoryList[e.category-1].showStatus=!0,e.showStatus=!0)},onNextClicked:function(){this.$refs.intakeRiskAssessment.validate()&&(this.$store.state.intakeRisk=!0,this.$emit("next"))},reset:function(){this.$data.requireRadioButtondRule=this.data.requireRadioButtondRule,this.$refs.intakeRiskAssessment.reset()}}},ma=fa,pa=(r("72ed"),Object(x["a"])(ma,ca,la,!1,null,"3c348112",null)),va=pa.exports;g()(pa,{VBtn:k["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VRadio:gt["a"],VRadioGroup:jt["a"]});var ha=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"review-submit"},[r("v-layout",{staticClass:"custom-project-base-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"intake-base-info-header",attrs:{md12:""}},[r("span",{staticClass:"spanheader"},[e._v("Review Submit")])]),r("v-expansion-panel",{attrs:{expand:""},model:{value:e.panelState,callback:function(t){e.panelState=t},expression:"panelState"}},[r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Project Information")])]},proxy:!0}])},[r("v-card",[r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Project Name")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.projectName))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Project Sector")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.getProjectSector()))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Desired Date of Completion")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.estimatedCompletionDate))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Contract Amount")])]),r("v-flex",{attrs:{sm12:""}},[e._v("$"+e._s(e._f("withCommas")(e.$props.intakeValues.estimatedContractValue)))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Reprocurement?")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.checkBoolenValues(e.$props.intakeValues.isReprocurement)))])],1),e.$props.intakeValues.isReprocurement?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Date original contract ends")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.dateOfReprocurement))])],1):e._e(),e.$props.intakeValues.isReprocurement?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("What is the background from the previous contract?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.previousContractBackground))])],1):e._e(),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("What is the potential impact of this procurement project failing?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.projectFailImpact))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(1)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("What does success look like for this procurement project?")])]),r("v-flex",{staticClass:"parastyling",attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.projectSuccess))])],1)],1)],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Ministry/Branch Information")])]},proxy:!0}])},[r("v-card",[e.$props.intakeValues.client?r("v-card-text",{staticClass:"pl-4"},[r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Non-Ministry")])]),r("v-flex",{attrs:{sm12:""}},[e._v("\n                "+e._s(e.checkBoolenValues(e.$props.intakeValues.client.isNonMinistry))+"\n              ")])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Ministry")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.getMinistry()))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Branch")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.orgDivision))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Address Line 1")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.addressLine1))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Address Line 2")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.addressLine2))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("City")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.city))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Postal")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.postalCode))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Client No.")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.clientNo))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Responsibility Center")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.responsibilityCenter))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Service Center")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.serviceCenter))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("STOB")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.stob))])],1),r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(2)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Project Code")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.$props.intakeValues.client.projectCode))])],1)],1):e._e()],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Risk Assessment")])]},proxy:!0}])},[r("v-card",[e.$props.intakeValues.risk?r("v-card-text",{staticClass:"pl-4"},e._l(e.$props.intakeValues.risk,(function(t){return r("v-flex",{key:t.id},[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(3)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("b",[r("div",{staticClass:"question-text",domProps:{innerHTML:e._s(t.question)}})])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.answer))])],1)})),1):e._e()],1)],1),r("v-expansion-panel-content",{staticClass:"expansionpanel",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"panel-header"},[e._v("Contact Information")])]},proxy:!0}])},[r("v-card",[e.$props.intakeValues.contacts?r("v-card-text",{staticClass:"pl-4"},e._l(e.$props.intakeValues.contacts,(function(t,a){return r("v-flex",{key:a,staticClass:"contacts"},[t.fullName?r("h3",[e._v(e._s(e.getContactType(t.contactType)))]):e._e(),t.fullName?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Name")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.fullName))])],1):e._e(),t.email?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Email Address")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.email))])],1):e._e(),t.orgName?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Organization")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.orgName))])],1):e._e(),t.orgPosition?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Position Title")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(t.orgPosition))])],1):e._e(),t.phoneNumber?r("v-flex",[r("v-btn",{staticClass:"edit-link",attrs:{color:"primary"},on:{click:function(t){return e.editItem(4)}}},[e._v("edit")]),r("v-flex",{attrs:{sm12:""}},[r("h4",[e._v("Phone Number")])]),r("v-flex",{attrs:{sm12:""}},[e._v(e._s(e.maskPhone(t.phoneNumber)))])],1):e._e()],1)})),1):e._e()],1)],1),r("v-card",{staticClass:"printdiv"},[r("v-btn",{attrs:{flat:"",icon:""},on:{click:function(t){return e.print()}}},[r("v-icon",[e._v("print")]),e._v("PRINT THIS FORM ")],1)],1)],1)],1)],1)},ba=[];r("a305");function xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ga={components:{},props:{intakeValues:{}},computed:{},mounted:function(){},data:function(){var e=Object.assign({},this.$props.intakeValues);return{form:ya({},e),panelState:[!0]}},watch:{},methods:{maskPhone:function(e){var t=e.replace(/\D/g,"").match(/(\d{3})(\d{3})(\d{4})/);return"(".concat(t[1],") ").concat(t[2],"-").concat(t[3])},editItem:function(e){this.$emit("switch",e)},checkBoolenValues:function(e){return e?"Yes":"No"},getContactType:function(e){return"clientfinance"===e?"Client Finance":"clientlead"===e?"Client Lead":"clientsponsor"===e?"Client Sponsor":"clientcontact"===e?"Client Contact":""},getProjectSector:function(){var e=Object.assign({},this.$props.intakeValues.projectSector);if(e.id){var t=this.$store.state.projectSectors.filter((function(t){return t.id===e.id}));if(t[0])return t[0].projectSectorName}else if(this.$props.intakeValues.otherProjectSectorName)return this.$props.intakeValues.otherProjectSectorName;return""},getMinistry:function(){if(this.$props.intakeValues.client.isNonMinistry)return this.$props.intakeValues.client.nonMinistryName?this.$props.intakeValues.client.nonMinistryName:"";var e=Object.assign({},this.$props.intakeValues.client.ministry);if(e.id){var t=this.$store.state.ministries.filter((function(t){return t.id===e.id}));if(t[0])return t[0].ministryName}return""},print:function(){this.expandAll(),setTimeout(window.print,500)},expandAll:function(){this.panelState=[!0,!0,!0,!0,!0]}}},ja=ga,ka=(r("8d1e"),Object(x["a"])(ja,ha,ba,!1,null,"4cf80017",null)),Ca=ka.exports;g()(ka,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VExpansionPanel:or["a"],VExpansionPanelContent:cr["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"]});r("e63d");function wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}a["default"].use(ye["a"]);var Pa={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo",RISK_ASSESSMENT:"intakeRisk"},Sa={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact",CLIENT_FINANCE:"clientfinance"},Oa={components:{IntakeBaseInfo:Hr,MinistryBranchInfo:oa,ProjectContactInfo:Et,ProjectAdditionalContactInfo:xr,intakeRiskAssessment:va,intakeReview:Ca,Snackbar:Le,Spinner:Qe},$_veeValidate:{validator:"new"},data:function(){return _a({additionalContact:[new Re],projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,intakeRiskQuestions:this.$store.state.intakeRiskQuestions,editall:!1,valid:!1,enabled:!1,isEditPInnfo:!1,isEditMBInfo:!1,isEditContactInfo:!1,isEditRiskInfo:!1},Pa,{},Sa,{e1:1,reviewSubmit:[],allContacts:[],contactCount:0,contactData:[]})},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{addNewContact:function(){this.contactCount=this.contactCount+1,this.contactData.push(new Re)},moveToComponent:function(e){this.checkedit(e,!0)},checkedit:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&this.e1<e&&!this.editall&&(e=this.e1),this.editall?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0,this.isEditContactInfo=!0):1===e||"1"===e?(this.e1=1,this.isEditMBInfo=!1,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):2===e||"2"===e?(this.e1=2,this.isEditPInnfo=!0,this.isEditMBInfo=!1,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):3===e||"3"===e?(this.e1=3,this.isEditPInnfo=!0,this.isEditMBInfo=!0,this.isEditContactInfo=!1,this.isEditRiskInfo=!1):4===e||"4"===e?(this.e1=4,this.isEditPInnfo=!0,this.isEditMBInfo=!0,this.isEditRiskInfo=!0):this.e1=5,t&&(this.e1=e)},fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;void 0!==t?this.$store.dispatch("fetchIntakeRequest",{id:e.id}):this.$store.dispatch("clearActiveIntakeRequest")},getRiskAnalysis:function(){for(var e=this,t=[],r=0,a=!1,n=0,s="",i=function(i){n=0,s="";var o=e.$store.state.intakeRiskQuestions[i];if("undefined"!==typeof o.selectedAnswerId||o.selectedAnswerId){var c=o.answer.filter((function(e){return e.id===o.selectedAnswerId}));c&&c[0]&&(n=c[0].score,s=c[0].answer),1===o.questionNo?(a=o.showStatus,t[r]={questionId:o.id,answerId:o.selectedAnswerId,score:n,question:o.question,answer:s},r++):a&&(t[r]={questionId:o.id,answerId:o.selectedAnswerId,score:n,question:o.question,answer:s},r++)}},o=0;o<this.$store.state.intakeRiskQuestions.length;o++)i(o);return t},submitForm:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s,i,o,c,l,u,d,f=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(this.$refs.projectLead.onNextClicked(),this.$refs.projectSponsor.onNextClicked(),this.$refs.projectFinance.onNextClicked(),t=this.getRiskAnalysis(),r=this.$refs.intakeRiskAssessment.calculateRiskScore(),a=0,"High"===r.level?a=1:"Medium"===r.level?a=2:"Low"===r.level&&(a=3),n=Er()({},this.$refs.intakeBaseInfo.form,{client:this.$refs.intakeClientInfo.form,contacts:[],risk:t,IntakeriskScore:r.percentage,riskScore:r.percentage,psbRiskScore:0,isSPOEngagement:!1,intakeRiskLevel:a}),this.$refs.intakeClientInfo.form.intakeRiskLevel=r.level,s=this.$refs.projectLead.form||void 0,i=this.$refs.projectSponsor.form||void 0,o=this.$refs.projectFinance.form||void 0,this.enabled&&(c=this.$refs.projectContact.form||void 0),void 0!==s&&(s.contactType=Sa.CLIENT_LEAD),void 0!==i&&(i.contactType=Sa.CLIENT_SPONSOR),void 0!==o&&(o.contactType=Sa.CLIENT_FINANCE),void 0!==c&&(c.contactType=Sa.CLIENT_CONTACT),l=[s,i,o,c].filter((function(e){return void 0!==e})),u=[],d=0;d<this.allContacts.length;d++)""!=this.allContacts[d].email&&u.push(this.allContacts[d]);l=l.concat(u),l instanceof Array&&l.length>0&&n.contacts instanceof Array&&(n.contacts=n.contacts.concat(l)),this.contacts=[],this.contactData=[],this.$store.state.projectInformation&&this.$store.state.ministryInformation&&this.$store.state.contactInformation&&this.$store.state.intakeRisk&&(this.$refs.spinner.open(),n.estimatedContractValue=n.estimatedContractValue,this.$store.dispatch("addIntakeRequest",n).then((function(){f.$refs.snackbar.displaySnackbar("success","Project Intake Form Submited."),f.$refs.spinner.close(),f.$router.push("intake-success")}),(function(e){if(f.$refs.spinner.close(),e&&e.response&&e.response.data){var t=e.response.data.error.message;f.$refs.snackbar.displaySnackbar("error",t)}else f.$refs.snackbar.displaySnackbar("error","Intake Request Error")})));case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),discard:function(){this.$refs.intakeBaseInfo.reset(),this.$refs.intakeClientInfo.reset(),this.$refs.projectLead.reset(),this.$refs.projectSponsor.reset(),this.$refs.projectFinance.reset(),this.$refs.projectContact.reset(),this.$refs.intakeRiskAssessment.reset()},getClientInfo:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return r},backfn:function(e){e-1===1?(this.isEditPInnfo=!0,this.isEditRiskInfo=!1,this.isEditContactInfo=!1):e-1===2?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditContactInfo=!1):e-1===3?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0):(this.isEditMBInfo=!1,this.isEditPInnfo=!1,this.isEditRiskInfo=!1,this.isEditContactInfo=!1),this.e1=e,window.scrollTo({top:0,behavior:"smooth"})},nextButtonClick:function(e){if(5===e){this.allContacts=[];for(var t=0;t<this.contactCount;t++){"additionalcontactinfo".concat(t.toString());this.$refs.additionalcontactinfo[t].form.contactType="clientcontact",this.allContacts.push(this.$refs.additionalcontactinfo[t].form)}var r=this.$refs.projectLead.onNextClicked(),a=this.$refs.projectSponsor.onNextClicked(),n=this.$refs.projectFinance.onNextClicked();r&&a&&n&&(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0,this.isEditContactInfo=!0,this.editall=!0,this.e1=e);var s=this.getRiskAnalysis(),i=s.map((function(e){return e.score})),o=0;0!=i.length&&(o=i.reduce((function(e,t){return e+t})));var c,l=Er()({},this.$refs.intakeBaseInfo.form,{client:this.$refs.intakeClientInfo.form,contacts:[],risk:s,riskScore:o}),u=this.$refs.projectLead.form||void 0,d=this.$refs.projectSponsor.form||void 0,f=this.$refs.projectFinance.form||void 0;this.enabled&&(c=this.$refs.projectContact.form||void 0),void 0!==u&&(u.contactType=Sa.CLIENT_LEAD),void 0!==d&&(d.contactType=Sa.CLIENT_SPONSOR),void 0!==f&&(f.contactType=Sa.CLIENT_FINANCE),void 0!==c&&(c.contactType=Sa.CLIENT_CONTACT);var m=[u,d,f,c].filter((function(e){return void 0!==e}));m=m.concat(this.allContacts),m instanceof Array&&m.length>0&&l.contacts instanceof Array&&(l.contacts=l.contacts.concat(m)),this.$store.state.projectInformation&&this.$store.state.ministryInformation&&this.$store.state.contactInformation&&(l.estimatedContractValue=l.estimatedContractValue,this.reviewSubmit=l)}else e-1===1?(this.isEditPInnfo=!0,this.isEditRiskInfo=!1,this.isEditContactInfo=!1):e-1===2?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditContactInfo=!1):e-1===3?(this.isEditMBInfo=!0,this.isEditPInnfo=!0,this.isEditRiskInfo=!0):(this.isEditMBInfo=!1,this.isEditPInnfo=!1,this.isEditRiskInfo=!1,this.isEditContactInfo=!1),this.e1=e;window.scrollTo({top:0,behavior:"smooth"})}},created:function(){this.fetchData()}},Ra=Oa,Ia=(r("c0df"),r("7e85")),$a=r("e516"),Ta=r("9c54"),Da=r("56a4"),Na=Object(x["a"])(Ra,Nr,Fr,!1,null,null,null),Fa=Na.exports;g()(Na,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VContainer:C["a"],VDivider:_["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VStepper:Ia["a"],VStepperContent:$a["a"],VStepperHeader:Ta["a"],VStepperItems:Ta["b"],VStepperStep:Da["a"]});var Va=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[r("v-form",{staticStyle:{background:"#f1f1f1"},attrs:{id:"intake-client-info","lazy-validation":""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-card",{staticStyle:{width:"100%"}},[r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{staticClass:"outer-layout",attrs:{row:"",wrap:"","py-2":""}},[r("v-flex",{staticClass:"inner-div-content",attrs:{md12:""}},[r("span",{staticClass:"intake-intro-header"},[e._v("BC Procurement Intake Form")])]),r("v-flex",{attrs:{md12:"","row-wrap":""}},[r("span",{staticClass:"sub-content-span"},[e._v("Procurement Services, on behalf of Government, provides its clients in the\n                    Province and the Broader Public Sector (BPS) "),r("br"),e._v("assistance to obtain the\n                    best rates, terms and conditions when buying goods, services and/or\n                    construction.")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-header-span"},[e._v("Before you begin, please ensure you have the following which will help you in\n                    completing the intake process:")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v("• Finance/Accounting Codes")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v("• Names of the Lead and Executive Sponsor for this procurement")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v("• The expected date of the contract execution or contract start\n                    date")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v("• Estimated contract value for this procurement")])]),r("v-flex",{attrs:{md12:""}},[r("span",{staticClass:"content-span"},[e._v("• A general understanding of the procurement project in order to\n                    complete an initial risk assessment")])]),r("v-flex",{attrs:{md12:""}}),r("v-flex",{staticClass:"start-button-div",attrs:{"md-12":"","mt-4":""}},[r("v-btn",{staticClass:"start-button-style",attrs:{color:"primary"},on:{click:e.onStart}},[e._v("START")])],1)],1)],1)],1)],1)])])],1)],1)},Ea=[],Aa={components:{},props:{},computed:{},data:function(){return{}},watch:{},methods:{onStart:function(){this.$router.push("intake")}}},Ba=Aa,Ma=(r("6afe"),Object(x["a"])(Ba,Va,Ea,!1,null,"c336120a",null)),La=Ma.exports;g()(Ma,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"]});var Ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("h1",{staticClass:"projects-header"},[e._v("View "+e._s(e.selected))]),r("v-radio-group",{attrs:{row:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[r("v-radio",{attrs:{label:"New Finance Report",value:"New Finance Report"}}),r("v-radio",{attrs:{label:"Finance Records",value:"Finance Records"}}),r("v-radio",{attrs:{label:"Discharged",value:"Discharged"}})],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},["New Finance Report"===e.selected?r("projects-table",{ref:"projectFinanceExport"}):e._e(),"Finance Records"===e.selected?r("finance-records",{ref:"projectFinanceRecords"}):e._e(),"Discharged"===e.selected?r("project-discharged-finance-records",{ref:"ProjectDischargedFinanceRecords"}):e._e()],1)],1),r("v-flex",{attrs:{md12:""}})],1)},qa=[],Wa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h1",{staticClass:"projects-header"})])],1):e._e(),r("v-divider"),r("v-layout",{staticStyle:{width:"50%"}},[r("v-flex",{staticStyle:{float:"left"},attrs:{"md-2":""}},[r("ProjectCalendarMonth",{ref:"TimeCalendarMonthly",on:{changedMonth:e.changedMonth}})],1),r("v-flex",{attrs:{"md-10":""}})],1),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","multiple-select":e.singleSelect,"disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.t_selectedMous))]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.t_documentPath)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.t_documentPath.toString().slice(0,10)))]),r("td",{staticClass:"text-xs-left"},[t.item.is_archived?e._e():r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({staticClass:"downloadButton",attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.regeneratePDF(t.item.isNonMinistry,t.item.t_documentNo)}}},n),[r("v-icon",[e._v("save_alt")])],1)]}}],null,!0)},[r("span",[e._v("Download")])])],1),r("td",{staticClass:"text-xs-left"},[r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return e.dischargePDF(t.item.t_documentNo)}}},[e._v("DISCHARGE")])],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],r("v-divider")],2)],1)},Ya=[],za=(r("c5f6"),r("e511")),Ha=r.n(za),Qa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-top":-15,"nudge-right":0,lazy:"",transition:"scale-transition","offset-y":"","full-width":"",left:"","min-width":"285px","max-width":"285px"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-layout",{attrs:{column:""}},[r("v-flex",{attrs:{my1:"","justify-center":""}},[r("div",{staticClass:"month-picker-container"},[r("v-btn-toggle",{staticClass:"v-btn-toggle--selected",staticStyle:{flex:"0 0 auto !important"}},[r("v-btn",{attrs:{flat:"",disabled:e.disabledatepicker},on:{click:function(t){return e.setPreviousMonth(e.calendarText)}}},[r("v-icon",[e._v("arrow_left")])],1),r("v-btn",{attrs:{flat:"",disabled:e.disabledatepicker},on:{click:e.toggleDatePicker}},[r("span",{staticStyle:{"padding-left":"1rem","padding-right":"1rem"}},[e._v(e._s(e.calendarText))])]),r("v-btn",{attrs:{flat:"",disabled:e.disabledatepicker},on:{click:function(t){return e.setNextMonth(e.calendarText)}}},[r("v-icon",[e._v("arrow_right")])],1)],1)],1),r("div",{class:"date-picker-month date-picker-wrapper "+e.getDatePickerClass()},[r("v-date-picker",{staticClass:"timesheets-date-picker",attrs:{"first-day-of-week":"1"},on:{input:e.setTimesheetsWeek},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)])],1)]}}])})},Ja=[],Ga=r("2f62");function Xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ka={props:{title:String,addTimeRecord:Function},data:function(){return{calendarText:this.getCalendarText(),selectedDate:c()().format("YYYY-MM-DD"),showDatePicker:!1,disabledatepicker:!1,calendarMonth:"",calendarYear:""}},watch:{timesheetsWeek:{handler:function(){this.setCalendarText()}}},computed:Za({},Object(Ga["b"])(["timesheetsWeek"])),methods:{reset:function(){console.log("hi its working")},disableWeekPicker:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabledatepicker=e},getCalendarText:function(){var e=[];return e[1]="Jan",e[2]="Feb",e[3]="Mar",e[4]="Apr",e[5]="May",e[6]="Jun",e[7]="Jul",e[8]="Aug",e[9]="Sep",e[10]="Oct",e[11]="Nov",e[12]="Dec",this.calendarMonth="0"===parseInt((new Date).getMonth())?12:parseInt((new Date).getMonth()),this.calendarYear=(new Date).getFullYear(),this.$emit("changedMonth","".concat(this.calendarYear,"-").concat(this.calendarMonth)),"".concat(e["0"===parseInt((new Date).getMonth())?12:parseInt((new Date).getMonth())]," ").concat((new Date).getFullYear())},setCalendarText:function(){this.calendarText=this.getCalendarText()},setPreviousMonth:function(e){var t={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},r=e.split(" "),a="Jan"===r[0]?12:parseInt(t[r[0]])-1;this.calendarMonth="0".concat(a).slice(-2),this.calendarYear="Jan"===r[0]?parseInt(r[1])-1:r[1],this.hideDatePicker();var n=this.getMonthName(a);this.calendarText="".concat(n," ").concat(this.calendarYear),this.$emit("changedMonth","".concat(this.calendarYear,"-").concat(this.calendarMonth))},setNextMonth:function(e){var t={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},r=e.split(" "),a="Dec"===r[0]?1:parseInt(t[r[0]])+1;this.calendarMonth="0".concat(a).slice(-2),this.calendarYear="Dec"===r[0]?parseInt(r[1])+1:r[1],this.hideDatePicker();var n=this.getMonthName(a);this.calendarText="".concat(n," ").concat(this.calendarYear),this.$emit("changedMonth","".concat(this.calendarYear,"-").concat(this.calendarMonth))},getMonthName:function(e){var t=[];return t[1]="Jan",t[2]="Feb",t[3]="Mar",t[4]="Apr",t[5]="May",t[6]="Jun",t[7]="Jul",t[8]="Aug",t[9]="Sep",t[10]="Oct",t[11]="Nov",t[12]="Dec",t[e]},setTimesheetsWeek:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c()(e).day(1);e=e.slice(0,-3);var a=e.split("-"),n=[];if(n[1]="Jan",n[2]="Feb",n[3]="Mar",n[4]="Apr",n[5]="May",n[6]="Jun",n[7]="Jul",n[8]="Aug",n[9]="Sep",n[10]="Oct",n[11]="Nov",n[12]="Dec",!r)return"Change Week";t&&this.toggleDatePicker(),this.calendarText="".concat(n[parseInt(a[1])]," ").concat(a[0]),this.$emit("changedMonth","".concat(a[0],"-").concat(a[1]))},toggleDatePicker:function(){this.showDatePicker=!this.showDatePicker},hideDatePicker:function(){this.showDatePicker=!1},getDatePickerClass:function(){return this.showDatePicker?"date-picker-active":""}}},en=Ka,tn=(r("3e80"),r("a609")),rn=Object(x["a"])(en,Qa,Ja,!1,null,null,null),an=rn.exports;g()(rn,{VBtn:k["a"],VBtnToggle:tn["a"],VDatePicker:et["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VMenu:rt["a"]});r("0da4");var nn={props:{title:String,selectedItem:Number},components:{Snackbar:Le,Confirm:se,Spinner:Qe,ProjectCalendarMonth:an},data:function(){return{singleSelect:!1,selected:[],selectedProjects:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,selectedDate:"",headers:[{text:"MOU(s)",value:"selectedMous",align:"left",sortable:!0},{text:"PDF Name",value:"recordName",sortable:!0},{text:"Export Month",value:"pdfdate",sortable:!0},{text:"Download File",value:"download",sortable:!0},{text:"Discharge File",value:"discharge"}],projectsList:[]}},computed:{projects:function(){return this.projectsList},userList:function(){return this.$store.state.users}},methods:{changedMonth:function(e){this.date=e,this.getAllProjectList()},dischargePDF:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to discharge this pdf?");case 2:if(!e.sent){e.next=5;break}r=this,t.length&&(r.$refs.spinner.open(),r.$store.dispatch("dischargeFinanceRecords",{documentNo:t}).then((function(e){0===e.length?(r.$refs.snackbar.displaySnackbar("error","Unable to discharge this record"),r.$refs.spinner.close()):a.fetchData()})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),regeneratePDF:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this,r.length&&null==t?(a.$refs.spinner.open(),a.$store.dispatch("regenerateFinanceRecords",{documentNo:r}).then((function(e){0===e.length?(a.$refs.snackbar.displaySnackbar("error","Unable to download this record"),a.$refs.spinner.close()):(a.exportToPDF(r),n.fetchData())}))):r.length&&a.exportToPDF(r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),getvalue:function(e){var t=Math.floor(e)/1e3<1?"".concat(parseFloat(Math.floor(e)/1e3,1),"k"):"".concat(parseInt(Math.floor(e)/1e3),"k");return t.toString()},getAllProjectList:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,r={selectedDate:this.date},t.$refs.spinner&&t.$refs.spinner.open(),e.next=5,this.$store.dispatch("fetchExportedPdfs",r).then((function(e){t.$refs.spinner&&t.$refs.spinner.close(),t.projectsList=e}),(function(e){try{var r=e.response.data.error.message;t.$refs.snackbar.displaySnackbar("error",r)}catch(a){}t.$refs.spinner&&t.$refs.spinner.close()}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllProjectIds:function(){return this.selectedProjects},getDateInYYYYMMDD:function(e){var t="".concat(e.getFullYear()),r="0".concat(e.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(e.getDate());return a=a.substr(a.length-2),"".concat(t,"-").concat(r,"-").concat(a)},fetchData:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchAllProjects");case 2:this.getAllProjectList();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatDate:function(e){var t=e.split("T");return t?t[0]:e},datefilter:function(e){this.$refs.menu.save(e),this.selectedDate=e,this.getAllProjectList()},dataForPdfCreation:function(){return{}},exportToPDF:function(e){var t=this,r=0,a=this,n=[],s=[];e.length&&(a.$refs.spinner.open(),a.$store.dispatch("downloadFinancePdf",{documentNo:e}).then((function(){if(a.$store.state.downloadFinancePdf.forEach((function(e){var t=JSON.parse(e.exportData);e.isNonMinistry?s.push(t):n.push(t),a.$refs.spinner.close()})),0!==n.length||0!==s.length){if(n.length>0){for(var e=new Ha.a({putOnlyUsedFonts:!0,orientation:"portrait"}),i=["Client","Responsibility","Service Line","STOB","Project","Amount"],o=0;o<n.length;o++){0!=o&&e.addPage();var c=void 0;c=n[o].userFinanceCodes||0!==o?n[o].userFinanceCodes.map((function(e){return[e.clientNo?e.clientNo:"",e.responsibilityCenter?e.responsibilityCenter:"",e.serviceCenter?e.serviceCenter:"",e.stob?e.stob:"",e.projectCode?e.projectCode:"","Project"!==e.type?"-$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]})):n.map((function(e){return[e.clientNo?e.clientNo:"",e.responsibilityCenter?e.responsibilityCenter:"",e.serviceCenter?e.serviceCenter:"",e.stob?e.stob:"",e.projectCode?e.projectCode:"","$".concat(e.totalAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]}));e.internal.pageSize.height;var l=20;e.setFontSize(11),e.setFontStyle("bold"),e.text("MOU: ",l,20);var u=void 0;u=n[o].billingCount?n[o].billingCount?"".concat(n[o].mouName,"-").concat(n[o].billingCount):n[o].mouName:n[o].mouName?n[o].mouName:"",e.text(u,l+35,20),e.text("SAP",l+150,20),e.setFontSize(18),e.setFontStyle("normal");var d=e.autoTable(i,c,{theme:"plain",tableWidth:"auto",margin:{top:60},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"},columnStyles:{5:{halign:"right"}},didParseCell:function(e){"head"===e.section&&"Amount"===e.cell.raw&&(e.cell.styles.halign="right")}});e.setFontSize(11),e.setFontStyle("bold");var f=d.autoTable.previous;e.text("Amount Check",l+117,f.finalY+10),e.setFontSize(12),e.text("$0.00",l+163,f.finalY+10),e.addPage(),e.setFontStyle("normal"),e.setFontSize(11),e.text("Ministry of Citizens' Services",l+50,15),e.text("Procurement and Supply, Procurement Services Branch(Stategic and Advisory Services)",30,21),e.text("PO Box 9476 Stn Prov Govt",l+50,27),e.text("Victoria BC V8W 9W6",l+55,33),e.text("Ministry of Citizens' Services",15,55),e.text("OCIO - Technology Solutions",15,61),e.text(n[o].dateCreated.toString().slice(0,10),l+125,55),e.text(u,l+125,61),e.text(n[o].userFinanceCodes?n[o].userFinanceCodes[0].clientNo?n[o].userFinanceCodes[0].clientNo:"":n[o].clientNo?n[o].clientNo:"",l+125,70),e.text(n[o].userFinanceCodes?n[o].userFinanceCodes[0].responsibilityCenter?n[o].userFinanceCodes[0].responsibilityCenter:"":n[o].responsibilityCenter?n[o].responsibilityCenter:"",l+125,76),e.text(n[o].userFinanceCodes?n[o].userFinanceCodes[0].serviceCenter?n[o].userFinanceCodes[0].serviceCenter:"":n[o].serviceCenter?n[o].serviceCenter:"",l+125,82),e.text(n[o].userFinanceCodes?n[o].userFinanceCodes[0].stob?n[o].userFinanceCodes[0].stob:"":n[o].stob?n[o].stob:"",l+125,88),e.text(n[o].userFinanceCodes?n[o].userFinanceCodes[0].projectCode?n[o].userFinanceCodes[0].projectCode:"":n[o].projectCode?n[o].projectCode:"",l+125,94),e.setFontSize(12),e.setFontStyle("bold"),e.text("Notification of Charges",l+50,105),e.setFontStyle("normal"),e.setFontSize(11),n[o].leadUser?(e.text(n[o].financeName?n[o].financeName:"",40,115),e.text(n[o].mouName?n[o].mouName:"",40,122),e.text(n[o].leadUser?n[o].leadUser:"",40,129)):(e.text(n[o].projectName,40,115),e.text(n[o].reference?n[o].reference:"",40,122),e.text(n[o].contact?n[o].contact:"",40,129)),e.setFontStyle("bold"),e.text("Date",l+110,55),e.text("MOU",l+110,61),e.text("Client  ",l+108,70),e.text("Responsibility",l+93,76),e.text("ServiceLine",l+97,82),e.text("STOB",l+107,88),e.text("ProjectsCode",l+93,94),e.text("Program",15,115),e.text("Reference",15,122),e.text("Contact",15,129),e.text("Contact",15,200),e.text("Number of Pages",15,220),e.setFontStyle("normal"),e.autoTable({margin:{top:150,left:120,right:40},theme:"plain",colSpan:2,tableWidth:"auto",cellWidth:"wrap",columnStyles:{0:{cellWidth:"auto",halign:"right"},1:{cellWidth:"auto",halign:"right"}},styles:{fontSize:11,fontStyle:"bold"},body:[["Fees:","$".concat(n[o].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))],["Expenses:","$".concat(n[o].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))],["Total:","$".concat(n[o].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]]}),e.text(n[o].contact?n[o].contact:"",l+38,200),e.text("Ministry of Citizens' Services",l+38,205);var m=t.date.split("-"),p=t.getDateInYYYYMMDD(new Date(parseInt(m[0],10),parseInt(m[1],10),0));e.text("Includes Time and Expenses up to ".concat(new Date(p).toString().slice(4,15)),l+35,230),e.setFontStyle("italic"),e.text("Processed by Inter-Ministry Electronic Chargeback System. Charges have already been made to ",15,260),e.text("your account and, unless you disagree with the charges no further action required by you",15,265),e.addPage(),e.setFontStyle("normal"),e.setFontStyle("bold"),e.text("Billing Details",15,15),e.setFontStyle("normal");var v=["Date","Description","Type","Resource","Hours","Rate","Amount"],h=n[o].details.map((function(e){return[e.entryDate,e.description?e.description:"",e.type,e.resource?e.resource:"",e.hours?e.hours:"","Expense"===e.type?e.rate?e.rate:"":e.rate?e.rate:"0",e.amount?"$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$0"]})),b=e.autoTable(v,h,{theme:"plain",tableWidth:"auto",margin:{top:30},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"},columnStyles:{6:{halign:"right"}},didParseCell:function(e){"head"===e.section&&"Amount"===e.cell.raw&&(e.cell.styles.halign="right")}}),x=b.autoTable.previous;if(e.setFontStyle("bold"),void 0!==n[o].mouEstimate){var y=e.autoTable({margin:{top:10,left:96},theme:"plain",colSpan:2,tableWidth:"auto",cellWidth:"wrap",columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto",halign:"right"}},styles:{fontSize:11,fontStyle:"bold"},body:[["Total Current Fees:","$".concat(n[o].fees?n[o].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Expenses:","$".concat(n[o].expenses?n[o].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Billing:","$".concat(n[o].totalAmount?n[o].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Previous Billings:","$".concat(n[o].prevBillAmount?n[o].prevBillAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Billings to Date:","$".concat(n[o].totalBillingToDate?n[o].totalBillingToDate.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["MOU Estimate:","$".concat(n[o].mouEstimate?n[o].mouEstimate.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Balance Remaining on MOU:","$".concat(n[o].balanceMou?n[o].balanceMou.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")]]}),g=y.autoTable.previous;e.setPage(x.startPageNumber-1),e.setFontStyle("normal");var j=0===r?parseInt(g.startPageNumber.toString())+parseInt(g.pageCount.toString())-1:parseInt(g.startPageNumber.toString())+parseInt(g.pageCount.toString())-1-r;r=parseInt(r.toString())+parseInt(j.toString()),e.text(j.toString(),58,220)}else e.text("Total Amount",l+117,x.finalY+10),e.setFontSize(12),e.text("$".concat(n[o].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l+155,x.finalY+10)}e.save(n[0].documentPath)}var k=0;if(s.length>0){for(var C=0,w=20,_=new Ha.a({putOnlyUsedFonts:!0,orientation:"portrait"}),P=0;P<s.length;P++){0!=P?_.addPage():_.setFontStyle("bold"),_.setFontSize(44),_.setFont("Times New Roman"),_.text("INVOICE",C+70,w+15),_.setFontSize(9),_.line(C+37,w+25,37,w+45),_.line(C+65,w+25,65,w+45),_.line(C+90,w+25,90,w+45),_.line(C+140,w+25,140,w+45),_.line(C+10,w+25,180,w+25),_.text("INVOICE DATE",C+10,w+30),_.text("CUSTOMER #",C+38,w+30),_.text("INVOICE #",C+66,w+30),_.text("HST REGISTRATION #",C+91,w+30),_.text("TERMS OF PAYMENT",C+141,w+30),_.setFontStyle("normal"),_.text(s[P].dateCreated.toString().slice(0,10),C+10,w+40),_.text("",C+38,w+40),_.text("",C+93,w+40),_.text("NET CASH 30 DAYS",C+143,w+40),_.line(C+10,w+45,180,w+45);_.internal.pageSize.height;var S=20;_.setFontStyle("bold"),_.text("IN ACCOUNT WITH",C+10,w+50),_.setFontSize(12),_.setFontStyle("normal"),_.text(s[P].contact?s[P].contact:"",C+10,w+54),_.setFontSize(11),_.text("As per Procurement Service Agreement "+s[P].mouName+" dated "+new Date(s[P].projectCreated).toDateString().substring(4,15).replace(/([^\s]*\s[^\s]*)\s/,"$1,").replace(",",", ")+" between",C+10,w+80),_.text("Procurement Services Branch and ",C+10,w+85),_.text(s[P].contact?s[P].contact:"",C+65,w+85),_.text("Specifically we are removing the part between the parentheses",C+10,w+90),_.text("Time:",C+145,w+100),_.text("Expense:",C+145,w+105),_.text("$".concat(s[P].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),C+160,w+100),_.text("$".concat(s[P].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),C+160,w+105),_.setFontSize(10);var O=20;_.line(C+10,O+w+195,180,O+w+195),_.setFontSize(9),_.text("Ministry of Citizens Services",C+10,O+w+205),_.text("Procurement and Supply,procurement",C+10,O+w+210),_.text("PO Box 9452 Stn Prov Govt",C+10,O+w+215),_.text("Victoria BC V8W 9V7",C+10,O+w+220),_.text("• Make cheque payable to Ministry of Finance",C+70,O+w+205),_.text("• Interest will be charged on overdue accounts in",C+70,O+w+210),_.text("accordance with applicable regulations",C+70,O+w+215),_.text("• Do not mail cash",C+70,O+w+220),_.text("• A Service fee of $20 minimum will be charged for",C+70,O+w+225),_.text("dishonoured cheques",C+70,O+w+230),_.text("• Please quote invoice number",C+70,O+w+235),_.text("• Do not alter invoice amounts",C+70,O+w+240),_.text("• Inquiries: (250)-952-4435 OR QPInvoices@gov.bc.ca",C+70,O+w+245),_.setFontStyle("bold"),_.text("MAIL CHEQUE TO",C+10,O+w+200),_.text("NOTICE",C+70,O+w+200),_.text("TOTAL",C+157,O+w+230),_.text("SUBTOTAL",C+150,O+w+200),_.text("$".concat(s[P].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),C+173,O+w+230),_.text("$".concat(s[P].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),C+173,O+w+200);var R=void 0;R=s[P].billingCount?s[P].billingCount?"".concat(s[P].mouName,"-").concat(s[P].billingCount):s[P].mouName:s[P].mouName?s[P].mouName:"",0==P&&_.text(R,C+66,w+40),_.setFontSize(18),_.addPage(),_.setFontSize(11),_.setFontStyle("bold"),_.text("Billing Details",15,15),_.setFontStyle("normal");var I=["Date","Description","Type","Resource","Hours","Rate","Amount"],$=s[P].details.map((function(e){return[e.entryDate,e.description?e.description:"",e.type,e.resource?e.resource:"",e.hours?e.hours:"","Expense"===e.type?e.rate?e.rate:"":e.rate?e.rate:"0",e.amount?"$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$0"]})),T=_.autoTable(I,$,{theme:"plain",tableWidth:"auto",margin:{top:30},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"},columnStyles:{6:{halign:"right"}},didParseCell:function(e){"head"===e.section&&"Amount"===e.cell.raw&&(e.cell.styles.halign="right")}}),D=T.autoTable.previous;if(_.setFontStyle("bold"),void 0!==s[P].mouEstimate){var N=_.autoTable({margin:{top:10,left:96},theme:"plain",colSpan:2,tableWidth:"auto",cellWidth:"wrap",columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto",halign:"right"}},styles:{fontSize:11,fontStyle:"bold"},body:[["Total Current Fees:","$".concat(s[P].fees?s[P].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Expenses:","$".concat(s[P].expenses?s[P].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Billing:","$".concat(s[P].totalAmount?s[P].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Previous Billings:","$".concat(s[P].prevBillAmount?s[P].prevBillAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Billings to Date:","$".concat(s[P].totalBillingToDate?s[P].totalBillingToDate.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")]]}),F=N.autoTable.previous;_.setPage(D.startPageNumber-1),_.setFontStyle("normal");var V=0===r?parseInt(F.startPageNumber.toString())+parseInt(F.pageCount.toString())-1:parseInt(F.startPageNumber.toString())+parseInt(F.pageCount.toString())-1-r;r=parseInt(r.toString())+parseInt(V.toString())}else _.text("Total Amount",S+117,D.finalY+10),_.setFontSize(12),_.text("$".concat(s[P].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),S+155,D.finalY+10);for(var E=_.internal.getNumberOfPages()-k,A=1+k;A<=E+k;A++)_.setPage(A),_.setFontSize(12),_.text("Page "+(A-k)+" of "+E,C+85,20+w+250);k+=E}_.save(s[0].documentPath)}}})))},getMonthAndYear:function(e){if(e.length>0){var t=new Date("".concat(e.toString(),"-01")).toString().slice(4,7),r=new Date("".concat(e.toString(),"-01")).toString().slice(11,15),a="".concat(t," ").concat(r);return a}var n=(new Date).toISOString().slice(0,7);return n}},created:function(){this.fetchData()}},sn=nn,on=(r("4dfd"),r("3a2f")),cn=Object(x["a"])(sn,Wa,Ya,!1,null,null,null),ln=cn.exports;g()(cn,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VDataTable:Cr["a"],VDivider:_["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:on["a"]});var un=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h1",{staticClass:"projects-header"})])],1):e._e(),r("v-divider"),r("v-layout",[r("v-flex",{attrs:{"md-2":""}},[r("ProjectCalendarMonth",{ref:"TimeCalendarMonthly",on:{changedMonth:e.changedMonth}})],1),r("v-flex",{attrs:{"md-10":""}},[r("div",{staticClass:"start-button-div"},[r("v-btn",{staticClass:"start-button-style",attrs:{color:"primary",disabled:this.selectedProjects&&0===this.selectedProjects.length},on:{click:e.exportToPDF}},[e._v("Export Finances (PDF)")])],1)])],1),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable project-export-table",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","multiple-select":e.singleSelect,"disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[t.item.checkBox?r("v-checkbox",{on:{change:function(r){return e.updateSelectedProjects(r,t.item.key)}}}):e._e()],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.mou.name))]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s([t.item.client.isNonMinistry?t.item.client.nonMinistryName:t.item.client.ministry.ministryName,t.item.orgDivision].join(" "))+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.dateModified)))])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],r("v-divider")],2)],1)},dn=[],fn=(r("ac4d"),r("8a81"),r("5df3"),r("f400"),{props:{title:String,selectedItem:Number},components:{Snackbar:Le,Confirm:se,Spinner:Qe,ProjectCalendarMonth:an},data:function(){return{singleSelect:!1,selected:[],selectedProjects:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,selectedDate:"",headers:[{text:" ",value:" ",align:"left",sortable:!0},{text:"MOU Name",value:"mou.name",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0}],projectsList:[]}},computed:{projects:function(){return this.projectsList},userList:function(){return this.$store.state.users}},methods:{changedMonth:function(e){this.date=e,this.getAllProjectList()},updateSelectedProjects:function(e,t){var r=this;if(e){var a=this.projectsList.filter((function(e){return e.key===t}));a.forEach((function(e){r.selectedProjects.push(e)}))}else this.selectedProjects=this.selectedProjects.filter((function(e){return e.key!==t}))},groupBy:function(e,t){var r=new Map;e.forEach((function(e){var a=t(e),n=r.get(a);n?n.push(e):r.set(a,[e])}));var a=[],n=!0,s=!1,i=void 0;try{for(var o,c=r[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)for(var l=Object(xe["a"])(o.value,2),u=l[0],d=l[1],f=d,m=u,p=0;p<f.length;p++){var v=f[p];v.key=m,v.checkBox=0===p,a.push(v)}}catch(h){s=!0,i=h}finally{try{n||null==c.return||c.return()}finally{if(s)throw i}}return a},getAllProjectList:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,r={selectedDate:this.date},t.$refs.spinner&&t.$refs.spinner.open(),e.next=5,this.$store.dispatch("fetchTimesheetProjects",r).then((function(e){var r=t.$store.state.allProjects.filter((function(t){return e.some((function(e){return e.id===t.id}))}));t.projectsList=a.groupBy(r,(function(e){return e.mou.id})),t.$refs.spinner&&t.$refs.spinner.close()}),(function(e){try{var r=e.response.data.error.message;t.$refs.snackbar.displaySnackbar("error",r)}catch(a){}t.$refs.spinner&&t.$refs.spinner.close()}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllProjectIds:function(){return this.selectedProjects},getDateInYYYYMMDD:function(e){var t="".concat(e.getFullYear()),r="0".concat(e.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(e.getDate());return a=a.substr(a.length-2),"".concat(t,"-").concat(r,"-").concat(a)},fetchData:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.datefilter(this.date);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatDate:function(e){var t=e.split("T");return t?t[0]:e},datefilter:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectedProjects=[],this.$refs.menu&&this.$refs.menu.save(t),this.selectedDate=t,0!==this.$store.state.allProjects.length){e.next=8;break}return e.next=6,this.$store.dispatch("fetchAllProjects").then((function(){r.getAllProjectList()}));case 6:e.next=9;break;case 8:this.getAllProjectList();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),dataForPdfCreation:function(){return{}},exportToPDF:function(){var e=this,t=0,r=this.getAllProjectIds(),a=this;r=r.map((function(e){return{projectId:e.id,isNonMinistry:e.client.isNonMinistry}}));var n=[],s=[];r.length&&(a.$refs.spinner.open(),a.$store.dispatch("financeExport",{selectedProjects:r,selectedDate:this.date}).then((function(){if(e.selectedProjects=[],a.$store.state.financeExport[0]&&!a.$store.state.financeExport[0].length||a.$refs.spinner.close(),a.$store.state.financeExport[0].forEach((function(e){var t=JSON.parse(e.exportData);n.push(t),a.$refs.spinner.close()})),a.$store.state.financeExport[1].forEach((function(e){var t=JSON.parse(e.exportData);s.push(t),a.$refs.spinner.close()})),0!==n.length||0!==s.length){if(n.length>0){for(var r=new Ha.a({putOnlyUsedFonts:!0,orientation:"portrait"}),i=["Client","Responsibility","Service Line","STOB","Project","Amount"],o=0;o<n.length;o++){0!=o&&r.addPage();var c=n[o].userFinanceCodes.map((function(e){return[e.clientNo?e.clientNo:"",e.responsibilityCenter?e.responsibilityCenter:"",e.serviceCenter?e.serviceCenter:"",e.stob?e.stob:"",e.projectCode?e.projectCode:"","Project"!==e.type?"-$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]})),l=(r.internal.pageSize.height,20);r.setFontSize(11),r.setFontStyle("bold"),r.text("MOU ",l,20),r.text("".concat(n[o].mouName,"-").concat(n[o].billingCount),l+35,20),r.text("SAP",l+150,20),r.setFontSize(18),r.setFontStyle("normal");var u=r.autoTable(i,c,{theme:"plain",tableWidth:"auto",margin:{top:60},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"},columnStyles:{5:{halign:"right"}},didParseCell:function(e){"head"===e.section&&"Amount"===e.cell.raw&&(e.cell.styles.halign="right")}});r.setFontSize(11),r.setFontStyle("bold");var d=u.autoTable.previous;r.text("Amount Check",l+117,d.finalY+10),r.setFontSize(12),r.text("$0.00",l+163,d.finalY+10),r.addPage(),r.setFontStyle("normal"),r.setFontSize(11),r.text("Ministry of Citizens' Services",l+50,15),r.text("Procurement and Supply, Procurement Services Branch(Stategic and Advisory Services)",30,21),r.text("PO Box 9476 Stn Prov Govt",l+50,27),r.text("Victoria BC V8W 9W6",l+55,33),r.text("Ministry of Citizens' Services",15,55),r.text("OCIO - Technology Solutions",15,61),r.text(n[o].dateCreated.toString().slice(0,10),l+125,55),r.text("".concat(n[o].mouName,"-").concat(n[o].billingCount),l+125,61),r.text(n[o].userFinanceCodes[0].clientNo?n[o].userFinanceCodes[0].clientNo:"",l+125,70),r.text(n[o].userFinanceCodes[0].responsibilityCenter?n[o].userFinanceCodes[0].responsibilityCenter:"",l+125,76),r.text(n[o].userFinanceCodes[0].serviceCenter?n[o].userFinanceCodes[0].serviceCenter:"",l+125,82),r.text(n[o].userFinanceCodes[0].stob?n[o].userFinanceCodes[0].stob:"",l+125,88),r.text(n[o].userFinanceCodes[0].projectCode?n[o].userFinanceCodes[0].projectCode:"",l+125,94),r.setFontSize(12),r.setFontStyle("bold"),r.text("Notification of Charges",l+50,105),r.setFontStyle("normal"),r.setFontSize(11),r.text(n[o].financeName?n[o].financeName:"",40,115),r.text(n[o].mouName?n[o].mouName:"",40,122),r.text(n[o].leadUser?n[o].leadUser:"",40,129),r.setFontStyle("bold"),r.text("Date",l+110,55),r.text("MOU",l+110,61),r.text("Client  ",l+108,70),r.text("Responsibility",l+93,76),r.text("ServiceLine",l+97,82),r.text("STOB",l+107,88),r.text("ProjectsCode",l+93,94),r.text("Program",15,115),r.text("Reference",15,122),r.text("Contact",15,129),r.text("Contact",15,200),r.text("Number of Pages",15,220),r.setFontStyle("normal"),r.autoTable({margin:{top:150,left:120,right:40},theme:"plain",colSpan:2,tableWidth:"auto",cellWidth:"wrap",columnStyles:{0:{cellWidth:"auto",halign:"right"},1:{cellWidth:"auto",halign:"right"}},styles:{fontSize:11,fontStyle:"bold"},body:[["Fees:","$".concat(n[o].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))],["Expenses:","$".concat(n[o].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))],["Total:","$".concat(n[o].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]]}),r.text(n[o].contact?n[o].contact:"",l+38,200),r.text("Ministry of Citizens' Services",l+38,205);var f=e.date.split("-"),m=e.getDateInYYYYMMDD(new Date(parseInt(f[0],10),parseInt(f[1],10),0));r.text("Includes Time and Expenses up to ".concat(new Date(m).toString().slice(4,15)),l+35,230),r.setFontStyle("italic"),r.text("Processed by Inter-Ministry Electronic Chargeback System. Charges have already been made to ",15,260),r.text("your account and, unless you disagree with the charges no further action required by you",15,265),r.addPage(),r.setFontStyle("normal"),r.setFontStyle("bold"),r.text("Billing Details",15,15),r.setFontStyle("normal");var p=["Date","Description","Type","Resource","Hours","Rate","Amount"],v=n[o].details.map((function(e){return[e.entryDate,e.description?e.description:"",e.type,e.resource?e.resource:"",e.hours?e.hours:"","Expense"===e.type?e.rate?e.rate:"":e.rate?e.rate:"0",e.amount?"$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$0"]})),h=r.autoTable(p,v,{theme:"plain",tableWidth:"auto",margin:{top:30},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"},columnStyles:{6:{halign:"right"}},didParseCell:function(e){"head"===e.section&&"Amount"===e.cell.raw&&(e.cell.styles.halign="right")}});r.setFontStyle("normal");var b=h.autoTable.previous;console.log("pos:",b),r.setFontStyle("bold");var x=r.autoTable({margin:{top:10,left:96},theme:"plain",colSpan:2,tableWidth:"auto",cellWidth:"wrap",columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto",halign:"right"}},styles:{fontSize:11,fontStyle:"bold"},body:[["Total Current Fees:","$".concat(n[o].fees?n[o].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Expenses:","$".concat(n[o].expenses?n[o].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Billing:","$".concat(n[o].totalAmount?n[o].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Previous Billings:","$".concat(n[o].prevBillAmount?n[o].prevBillAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Billings to Date:","$".concat(n[o].totalBillingToDate?n[o].totalBillingToDate.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["MOU Estimate:","$".concat(n[o].mouEstimate?n[o].mouEstimate.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Balance Remaining on MOU:","$".concat(n[o].balanceMou?n[o].balanceMou.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")]]}),y=x.autoTable.previous;r.setPage(b.startPageNumber-1),r.setFontStyle("normal");var g=0===t?parseInt(y.startPageNumber.toString())+parseInt(y.pageCount.toString())-1:parseInt(y.startPageNumber.toString())+parseInt(y.pageCount.toString())-1-t;t=parseInt(t.toString())+parseInt(g.toString()),r.text(g.toString(),58,220)}r.save(n[0].documentPath),e.getAllProjectList()}var j=0;if(s.length>0){for(var k=0,C=20,w=new Ha.a({putOnlyUsedFonts:!0,orientation:"portrait"}),_=0;_<s.length;_++){0!=_?w.addPage():w.setFontStyle("bold"),w.setFontSize(44),w.setFont("Times New Roman"),w.text("INVOICE",k+70,C+15),w.setFontSize(9),w.line(k+37,C+25,37,C+45),w.line(k+65,C+25,65,C+45),w.line(k+90,C+25,90,C+45),w.line(k+140,C+25,140,C+45),w.line(k+10,C+25,180,C+25),w.text("INVOICE DATE",k+10,C+30),w.text("CUSTOMER #",k+38,C+30),w.text("INVOICE #",k+66,C+30),w.text("HST REGISTRATION #",k+91,C+30),w.text("TERMS OF PAYMENT",k+141,C+30),w.setFontStyle("normal"),w.text(s[_].dateCreated.toString().slice(0,10),k+10,C+40),w.text("",k+38,C+40),w.text("",k+93,C+40),w.text("NET CASH 30 DAYS",k+143,C+40),w.line(k+10,C+45,180,C+45);w.internal.pageSize.height;var P=20;w.setFontStyle("bold"),w.text("IN ACCOUNT WITH",k+10,C+50),w.setFontSize(12),w.setFontStyle("normal"),w.text(s[_].contact?s[_].contact:"",k+10,C+54),w.setFontSize(11),w.text("As per Procurement Service Agreement "+s[_].mouName+" dated "+new Date(s[_].projectCreated).toDateString().substring(4,15).replace(/([^\s]*\s[^\s]*)\s/,"$1,").replace(",",", ")+" between",k+10,C+80),w.text("Procurement Services Branch and ",k+10,C+85),w.text(s[_].contact?s[_].contact:"",k+65,C+85),w.text("Specifically we are removing the part between the parentheses",k+10,C+90),w.text("Time:",k+145,C+100),w.text("Expense:",k+145,C+105),w.text("$".concat(s[_].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),k+160,C+100),w.text("$".concat(s[_].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),k+160,C+105),w.setFontSize(10);var S=20;w.line(k+10,S+C+195,180,S+C+195),w.setFontSize(9),w.text("Ministry of Citizens Services",k+10,S+C+205),w.text("Procurement and Supply,procurement",k+10,S+C+210),w.text("PO Box 9452 Stn Prov Govt",k+10,S+C+215),w.text("Victoria BC V8W 9V7",k+10,S+C+220),w.text("• Make cheque payable to Ministry of Finance",k+70,S+C+205),w.text("• Interest will be charged on overdue accounts in",k+70,S+C+210),w.text("accordance with applicable regulations",k+70,S+C+215),w.text("• Do not mail cash",k+70,S+C+220),w.text("• A Service fee of $20 minimum will be charged for",k+70,S+C+225),w.text("dishonoured cheques",k+70,S+C+230),w.text("• Please quote invoice number",k+70,S+C+235),w.text("• Do not alter invoice amounts",k+70,S+C+240),w.text("• Inquiries: (250)-952-4435 OR QPInvoices@gov.bc.ca",k+70,S+C+245),w.setFontStyle("bold"),w.text("MAIL CHEQUE TO",k+10,S+C+200),w.text("NOTICE",k+70,S+C+200),w.text("TOTAL",k+157,S+C+230),w.text("SUBTOTAL",k+150,S+C+200),w.text("$".concat(s[_].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),k+173,S+C+230),w.text("$".concat(s[_].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),k+173,S+C+200);var O=void 0;O=s[_].billingCount?s[_].billingCount?"".concat(s[_].mouName,"-").concat(s[_].billingCount):s[_].mouName:s[_].mouName?s[_].mouName:"",0==_&&w.text(O,k+66,C+40),w.setFontSize(18),w.addPage(),w.setFontSize(11),w.setFontStyle("bold"),w.text("Billing Details",15,15),w.setFontStyle("normal");var R=["Date","Description","Type","Resource","Hours","Rate","Amount"],I=s[_].details.map((function(e){return[e.entryDate,e.description?e.description:"",e.type,e.resource?e.resource:"",e.hours?e.hours:"","Expense"===e.type?e.rate?e.rate:"":e.rate?e.rate:"0",e.amount?"$".concat(e.amount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$0"]})),$=w.autoTable(R,I,{theme:"plain",tableWidth:"auto",margin:{top:30},styles:{overflow:"linebreak",fontSize:12,overflowColumns:"linebreak"},columnStyles:{6:{halign:"right"}},didParseCell:function(e){"head"===e.section&&"Amount"===e.cell.raw&&(e.cell.styles.halign="right")}}),T=$.autoTable.previous;if(w.setFontStyle("bold"),void 0!==s[_].mouEstimate){var D=w.autoTable({margin:{top:10,left:96},theme:"plain",colSpan:2,tableWidth:"auto",cellWidth:"wrap",columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto",halign:"right"}},styles:{fontSize:11,fontStyle:"bold"},body:[["Total Current Fees:","$".concat(s[_].fees?s[_].fees.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Expenses:","$".concat(s[_].expenses?s[_].expenses.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Current Billing:","$".concat(s[_].totalAmount?s[_].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Previous Billings:","$".concat(s[_].prevBillAmount?s[_].prevBillAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")],["Total Billings to Date:","$".concat(s[_].totalBillingToDate?s[_].totalBillingToDate.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")]]}),N=D.autoTable.previous;w.setPage(T.startPageNumber-1),w.setFontStyle("normal");var F=0===t?parseInt(N.startPageNumber.toString())+parseInt(N.pageCount.toString())-1:parseInt(N.startPageNumber.toString())+parseInt(N.pageCount.toString())-1-t;t=parseInt(t.toString())+parseInt(F.toString())}else w.text("Total Amount",P+117,T.finalY+10),w.setFontSize(12),w.text("$".concat(s[_].totalAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),P+155,T.finalY+10);for(var V=w.internal.getNumberOfPages()-j,E=1+j;E<=V+j;E++)w.setPage(E),w.setFontSize(12),w.text("Page "+(E-j)+" of "+V,k+85,20+C+250);j+=V}w.save(s[0].documentPath),e.getAllProjectList()}}})))}},created:function(){this.fetchData()}}),mn=fn,pn=(r("2ca7"),Object(x["a"])(mn,un,dn,!1,null,null,null)),vn=pn.exports;g()(pn,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VCheckbox:xt["a"],VDataTable:Cr["a"],VDivider:_["a"],VFlex:ce["a"],VLayout:S["a"],VToolbar:V["a"],VToolbarTitle:A["a"]});var hn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h1",{staticClass:"projects-header"})])],1):e._e(),r("v-divider"),r("v-layout",[r("v-flex",{attrs:{"md-2":""}},[r("ProjectCalendarMonth",{ref:"TimeCalendarMonthly",on:{changedMonth:e.changedMonth}})],1),r("v-flex",{attrs:{"md-10":""}})],1),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","multiple-select":e.singleSelect,"disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.t_selectedMous))]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.t_documentPath)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.t_documentPath.toString().slice(0,10)))]),r("td",{staticClass:"text-xs-left"},[r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return e.reinstatePDF(t.item.t_documentNo)}}},[e._v("REINSTATE")])],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],r("v-divider")],2)],1)},bn=[],xn={props:{title:String,selectedItem:Number},components:{Snackbar:Le,Confirm:se,Spinner:Qe,ProjectCalendarMonth:an},data:function(){return{singleSelect:!1,selected:[],selectedProjects:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,selectedDate:"",headers:[{text:"MOU(s)",value:"selectedMous",align:"left",sortable:!0},{text:"PDF Name",value:"recordName",sortable:!0},{text:"Export Month",value:"pdfdate",sortable:!0},{text:"Reinstate File",value:"reinstate"}],projectsList:[]}},computed:{projects:function(){return this.projectsList},userList:function(){return this.$store.state.users}},methods:{changedMonth:function(e){this.date=e,this.getAllProjectList()},reinstatePDF:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to reinstate this pdf?");case 2:if(!e.sent){e.next=5;break}r=this,t.length&&(r.$refs.spinner.open(),r.$store.dispatch("reinstateFinanceRecords",{documentNo:t}).then((function(){a.fetchData()})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getvalue:function(e){var t=Math.floor(e)/1e3<1?"".concat(parseFloat(Math.floor(e)/1e3,1),"k"):"".concat(parseInt(Math.floor(e)/1e3),"k");return t.toString()},getAllProjectList:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,r={selectedDate:this.date},t.$refs.spinner&&t.$refs.spinner.open(),e.next=5,this.$store.dispatch("retrieveDischargedPdfs",r).then((function(e){t.$refs.spinner&&t.$refs.spinner.close(),t.projectsList=e}),(function(e){try{var r=e.response.data.error.message;t.$refs.snackbar.displaySnackbar("error",r)}catch(a){}t.$refs.spinner&&t.$refs.spinner.close()}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllProjectIds:function(){return this.selectedProjects},getDateInYYYYMMDD:function(e){var t="".concat(e.getFullYear()),r="0".concat(e.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(e.getDate());return a=a.substr(a.length-2),"".concat(t,"-").concat(r,"-").concat(a)},fetchData:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchAllProjects");case 2:this.getAllProjectList();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatDate:function(e){var t=e.split("T");return t?t[0]:e},datefilter:function(e){this.$refs.menu.save(e),this.selectedDate=e,this.getAllProjectList()},dataForPdfCreation:function(){return{}}},created:function(){this.fetchData()}},yn=xn,gn=(r("dbfe"),Object(x["a"])(yn,hn,bn,!1,null,null,null)),jn=gn.exports;g()(gn,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VDataTable:Cr["a"],VDivider:_["a"],VFlex:ce["a"],VLayout:S["a"],VToolbar:V["a"],VToolbarTitle:A["a"]});r("6fa9");var kn={components:{ProjectsTable:vn,FinanceRecords:ln,ProjectDischargedFinanceRecords:jn},data:function(){return{color:$e.a,selected:"New Finance Report"}},computed:{},methods:{}},Cn=kn,wn=(r("32e8"),Object(x["a"])(Cn,Ua,qa,!1,null,null,null)),_n=wn.exports;g()(wn,{VContainer:C["a"],VFlex:ce["a"],VLayout:S["a"],VRadio:gt["a"],VRadioGroup:jt["a"]});var Pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"page-container custom-intake-request-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"intake-request-header"},[e._v("Intake Requests")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("intake-forms-table")],1)],1)],1)},Sn=[],On=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),r("selectProjectCategory",{ref:"selectCategory"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.intakeRequests,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[r("span",{staticClass:"clickable",on:{click:function(r){return e.viewRequest(t.item.id)}}},[e._v(e._s(t.item.projectName))])]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e.calculatedvalue(t.item)))]),r("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==t.item.status?r("v-select",{attrs:{items:e.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignLead(t.item.projectLeadId,t.item)}},nativeOn:{click:function(r){return e.getProjectLead(t.item.projectLeadId)}},model:{value:t.item.projectLeadId,callback:function(r){e.$set(t.item,"projectLeadId",r)},expression:"props.item.projectLeadId"}}):e._e()],1),r("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==t.item.status?r("v-select",{attrs:{items:e.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignBackup(t.item.projectBackupId,t.item)}},nativeOn:{click:function(r){return e.getProjectBackup(t.item.projectBackupId)}},model:{value:t.item.projectBackupId,callback:function(r){e.$set(t.item,"projectBackupId",r)},expression:"props.item.projectBackupId"}}):e._e()],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.estimatedCompletionDate)))]),1===t.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left high-level"},[e._v("HIGH")]):2===t.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left medium-level"},[e._v("MEDIUM")]):3===t.item.intakeRiskLevel?r("td",{staticClass:"text-xs-left low-level"},[e._v("LOW")]):r("td",{staticClass:"text-xs-left low-level"}),r("td",{staticClass:"text-xs-center"},["approved"===t.item.status?r("div",{staticClass:"approved-label caption"},[e._v("Approved")]):e._e(),"submitted"===t.item.status?r("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(r){return e.approveRequest(t.item.id)}}},[e._v("APPROVE")]):e._e()],1),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.viewRequest(t.item.id)}}},n),[r("v-icon",[e._v("visibility")])],1)]}}],null,!0)},[r("span",[e._v("View Project")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteRequest(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)]}}])}),e.dialog?r("v-dialog",{attrs:{width:"800","margin-top":"91px"},on:{input:function(t){return e.closeDialog(!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-text",[r("v-icon",{staticClass:"v-model-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")]),r("intake-form-view",{attrs:{id:e.id}})],1)],1)],1):e._e()],r("v-divider")],2),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mouDialog,callback:function(t){e.mouDialog=t},expression:"mouDialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Assign or Create")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[e._v("\n              Project: "+e._s(e.mouProjectName)+"\n\n              "),e.isNewMOU?r("v-text-field",{ref:"mouCombobox",attrs:{"item-text":"name",label:"New MOU"},model:{value:e.mou,callback:function(t){e.mou=t},expression:"mou"}}):r("v-select",{ref:"mouCombobox",attrs:{items:e.mouList,"item-text":"name","item-value":"name",label:"Assign MOU"},model:{value:e.mou,callback:function(t){e.mou=t},expression:"mou"}}),r("v-checkbox",{attrs:{label:(e.isNewMOU?"Create":"Assign")+" MOU"},model:{value:e.isNewMOU,callback:function(t){e.isNewMOU=t},expression:"isNewMOU"}})],1),r("v-flex",{attrs:{xs12:""}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.mouDialog=!1}}},[e._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){return e.assignMOU()}}},[e._v("Save")])],1)],1)],1)],1)},Rn=[],In=(r("2060"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:"",column:""}},[[r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Project Information")]),r("intake-base-info-view",{ref:"intakeBaseInfoView",attrs:{project:e.intakeRequest,panelName:e.PROJECT_INFO}})],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Ministry / Branch Information")]),r("ministry-branch-info-view",{ref:"intakeClientInfoView",attrs:{ministry:e.intakeRequest.client,panelName:e.CLIENTS_INFO}})],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Contact Information")]),r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Client Lead Contact Information")]),r("project-contact-info-view",{ref:"projectLead",attrs:{contact:e.getClientInfo(e.CLIENT_LEAD),contactNameLabel:"Client Lead Name"}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Executive Sponsor Contact Information")]),r("project-contact-info-view",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name"}})],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[e.isEnabled(e.CLIENT_FINANCE)?r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Financial Contact Information")]),r("project-contact-info-view",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_FINANCE),contactNameLabel:"Executive Sponsor Name"}})],1):e._e(),e.isEnabled(e.CLIENT_CONTACT)?r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",[e._v("Additional Contact")]),r("project-additional-contact-info-view",{ref:"projectContact",attrs:{contact:e.getClientInfo(e.CLIENT_CONTACT),contactNameLabel:"Contact Name"}})],1):e._e()],1)],1)],1)]],2)],1)],1)],1)],1)}),$n=[],Tn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","py-2":""}},[r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Project Name:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectName))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Desired Date of Completion:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.estimatedCompletionDate))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Project Sector:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectSector.projectSectorName))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Contract Amount:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e._f("withCommas")(e.form.estimatedContractValue)))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("Reprocurement?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[e.form.isReprocurement?r("div",{staticClass:"body-2"},[e._v("Yes")]):e._e(),e.form.isReprocurement?e._e():r("div",{staticClass:"body-2"},[e._v("No")])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[e.form.isReprocurement?r("div",{staticClass:"body-1"},[e._v("Date original contract ends:")]):e._e()]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.dateOfReprocurement))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[e.form.isReprocurement?r("div",{staticClass:"body-1"},[e._v("\n        What is the background from the previous contract?:\n      ")]):e._e()]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.previousContractBackground))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("What is the potential impact of this procurement project failing?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectFailImpact))])])],1),r("v-layout",[r("v-flex",{attrs:{md6:""}},[r("div",{staticClass:"body-1"},[e._v("What does success look like for this procurement project?:")])]),r("v-flex",{attrs:{md6:"","justify-center":""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectSuccess))])])],1)],1)},Dn=[];function Nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vn={props:{project:Object},data:function(){var e=Object.assign({},this.$props.project),t=e.projectSector||null;t||(e.projectSector=new ft["a"]);var r=e.client||null;return r||(e.client=new mt["a"]),{form:Fn({},e)}},watch:{project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new ft["a"])}}},En=Vn,An=Object(x["a"])(En,Tn,Dn,!1,null,null,null),Bn=An.exports;g()(An,{VFlex:ce["a"],VLayout:S["a"]});var Mn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","py-2":""}},[e.form.isNonMinistry?e._e():r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Ministry:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.ministry.ministryName))])])],1),e.form.isNonMinistry?r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Non-Ministry:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.nonMinistryName))])])],1):e._e(),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Branch:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgDivision))])])],1),r("v-flex",{attrs:{xs12:""}},[r("generic-contact-info-view",{attrs:{contact:e.form}})],1),e.form.isNonMinistry?e._e():r("v-flex",{attrs:{xs12:"","pt-2":""}},[r("project-finance-info-view",{attrs:{financeInfo:e.form}})],1)],1)},Ln=[],Un=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","py-2":""}},[r("v-flex",{attrs:{xs12:""}},[r("h3",[e._v("Finance Codes")])]),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Client No:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.clientNo))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Responsibility Center:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.responsibilityCenter))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Service Center:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.serviceCenter))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Service STOB:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.stob))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Project Code:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.projectCode))])])],1)],1)},qn=[],Wn={props:{financeInfo:Object}},Yn=Wn,zn=Object(x["a"])(Yn,Un,qn,!1,null,null,null),Hn=zn.exports;g()(zn,{VFlex:ce["a"],VLayout:S["a"]});var Qn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:""}},[r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Address Line 1:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.addressLine1))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Address Line 2:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.addressLine2))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("City:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.city))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Postal")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.contact.postalCode))])])],1)],1)},Jn=[],Gn={props:{contact:Object},data:function(){return{}}},Xn=Gn,Zn=Object(x["a"])(Xn,Qn,Jn,!1,null,null,null),Kn=Zn.exports;function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}g()(Zn,{VFlex:ce["a"],VLayout:S["a"]});var rs={components:{ProjectFinanceInfoView:Hn,GenericContactInfoView:Kn},props:{ministry:Object},data:function(){var e=Object.assign({},this.$props.ministry),t=e.ministry||null;return t||(e.ministry=new dt["a"]),{form:ts({},e)}},watch:{ministry:function(e){this.form=e;var t=this.form.ministry||null;t||(this.form.ministry=new dt["a"])}}},as=rs,ns=Object(x["a"])(as,Mn,Ln,!1,null,null,null),ss=ns.exports;g()(ns,{VFlex:ce["a"],VLayout:S["a"]});r("6956");var is=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:""}},[r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Contact Name:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.fullName))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Email Address:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.email))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Organization:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgName))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Position:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgPosition))])])],1),r("v-layout",[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Phone Number:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.phoneNumber))])])],1)],1)},os=[];function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var us={props:{contact:Object},data:function(){var e=Object.assign({},new Oe,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:ls({},e)}},watch:{contact:function(e){this.form=e||new Oe}}},ds=us,fs=Object(x["a"])(ds,is,os,!1,null,null,null),ms=fs.exports;g()(fs,{VFlex:ce["a"],VLayout:S["a"]});var ps=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:""}},[r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Contact Name:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.fullName))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Email Address:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.email))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Organization:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgName))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Position:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgPosition))])])],1),r("div",{staticClass:"layout"},[r("v-flex",{attrs:{md4:""}},[r("div",{staticClass:"body-1"},[e._v("Phone Number:")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v(e._s(e.form.phoneNumber))])])],1)])},vs=[];function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xs={props:{contact:Object},data:function(){var e=Object.assign({},new Oe,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:bs({},e)}},watch:{contact:function(e){this.form=e||new Oe}}},ys=xs,gs=Object(x["a"])(ys,ps,vs,!1,null,null,null),js=gs.exports;function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}g()(gs,{VFlex:ce["a"],VLayout:S["a"]});var ws={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo"},_s={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact",CLIENT_FINANCE:"clientfinance"},Ps={components:{IntakeBaseInfoView:Bn,MinistryBranchInfoView:ss,ProjectContactInfoView:ms,ProjectAdditionalContactInfoView:js},props:{id:String},data:function(){var e;return Cs({projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,valid:!1,enabled:!0},ws,{panelStates:(e={},Object(l["a"])(e,ws.PROJECT_INFO,{value:!1}),Object(l["a"])(e,ws.CLIENTS_INFO,{value:!1}),Object(l["a"])(e,ws.CONTACTS_INFO,{value:!1}),e)},_s)},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||this.$props.id;void 0!==t?this.$store.dispatch("fetchIntakeRequest",{id:t}):this.$store.dispatch("clearActiveIntakeRequest")},isEnabled:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return!!r},getClientInfo:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return r}},created:function(){this.fetchData()}},Ss=Ps,Os=(r("5b12"),Object(x["a"])(Ss,In,$n,!1,null,null,null)),Rs=Os.exports;g()(Os,{VCard:te["a"],VCardText:re["b"],VContainer:C["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"]});var Is=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{id:"SelectProject","content-class":"select-project-dialog","max-width":"450"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"blue",dense:"",flat:""}},[r("v-icon",[e._v("help")]),r("v-toolbar-title",{staticClass:"white--text ml-1"},[e._v("Approve Intake?")])],1),r("v-card-text",[r("div",[e._v("\n        To complete the approval of the project, please select the category below and click on the 'Approve' button.\n        "),r("v-select",{staticClass:"mt-2",attrs:{solo:"",label:"Select Project Category",items:e.projectCategories,"item-value":"id","item-text":"description"},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}})],1)]),r("v-card-actions",{staticClass:"pt-0 clear-margin"},[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:!e.selectedCategory,flat:"flat"},nativeOn:{click:function(t){return e.approve(t)}}},[e._v("Approve")]),r("v-btn",{attrs:{color:"secondary",flat:"flat"},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Cancel")])],1)],1)],1)},$s=[],Ts=(r("f82a"),{data:function(){return{showDialog:!1,resolve:null,selectedCategory:null}},computed:{projectCategories:function(){return this.$store.state.projectCategories}},methods:{open:function(){var e=this;return this.selectedCategory=null,this.showDialog=!0,new Promise((function(t,r){e.resolve=t}))},approve:function(){this.resolve(this.selectedCategory),this.showDialog=!1},cancel:function(){this.resolve(!1),this.showDialog=!1}},created:function(){this.$store.dispatch("fetchProjectCategories")}}),Ds=Ts,Ns=Object(x["a"])(Ds,Is,$s,!1,null,null,null),Fs=Ns.exports;g()(Ns,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VDialog:ae["a"],VIcon:P["a"],VSelect:at["a"],VSpacer:N["a"],VToolbar:V["a"],VToolbarTitle:A["a"]});var Vs={props:{title:String},components:{Snackbar:Le,Confirm:se,IntakeFormView:Rs,SelectProjectCategory:Fs},data:function(){return{headers:[{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"estimatedCompletionDate",sortable:!0},{text:"Risk Score",value:"intakeRiskLevel",sortable:!0},{text:"Status",value:"approved",align:"center",sortable:!1},{text:"Action",value:"action",align:"right",width:"110px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:"",pagination:{sortBy:"name"},dialog:!1,mouDialog:!1,id:"",mouProjectName:"",mou:"",isNewMOU:!1}},computed:{intakeRequests:function(){return this.$store.state.intakeRequests},userList:function(){return this.$store.state.users},mouList:function(){return this.$store.state.mouList}},methods:{closeDialog:function(){project.projectBackupId=this.selectedProjectBackup},calculatedvalue:function(e){var t=1==e.isNonMinistry?e.nonMinistryName:e.ministryName;return t},fetchData:function(){this.$store.dispatch("fetchIntakeRequests"),this.$store.dispatch("fetchMOUs")},viewRequest:function(e){this.id=e,this.dialog=!0},approveRequest:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.selectCategory.open();case 2:r=e.sent,r&&this.$store.dispatch("approveIntakeRequest",{id:t,categoryId:r}).then((function(){a.$store.dispatch("fetchIntakeRequests"),a.$refs.snackbar.displaySnackbar("success","Request Approved.")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getProjectLead:function(e){this.selectedLeadUser=e},assignLead:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.projectId?r.projectId:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("infoAssign","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectLeadId=o.selectedLeadUser}else r.projectLeadId=o.selectedLeadUser,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead")})),e.next=12;break;case 11:r.projectLeadId=this.selectedLeadUser;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),getProjectBackup:function(e){this.selectedProjectBackup=e},assignBackup:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.projectId?r.projectId:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("infoAssign","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectBackupId=o.selectedProjectBackup}else r.projectBackupId=o.selectedProjectBackup,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup")})),e.next=12;break;case 11:r.projectBackupId=this.selectedProjectBackup;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteRequest:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure you wish to delete this Intake Request? Note: If it has already been approved into a Project, the Project will be unaffected.");case 2:if(!e.sent){e.next=8;break}return e.next=5,this.$store.dispatch("deleteIntakeRequest",{id:t});case 5:this.fetchData(),this.$refs.snackbar.displaySnackbar("success","Deleted."),this.$router.push({path:"intake-requests"});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showMOUModal:function(e){this.mouProjectName=e.projectName,this.mouProjectId=e.id,this.mouProject=e,e.mouName&&(this.mou={id:e.mouId,name:e.mouName}),this.mouDialog=!0},assignMOU:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.mouCombobox.blur(),this.$nextTick(Object(G["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.mou&&""!==t.mou){e.next=2;break}return e.abrupt("return");case 2:if(r=t.mou.id,r||!t.mou){e.next=7;break}return e.next=6,t.$store.dispatch("createMOU",{name:t.mou});case 6:r=e.sent;case 7:return a=t.mouProject,a.mou={id:r,name:t.mou},e.next=11,t.$store.dispatch("updateIntakeRequest",a);case 11:e.sent,t.fetchData(),t.mouDialog=!1,t.mou=void 0;case 15:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleNewMou:function(e){this.mou=void 0}},created:function(){this.fetchData()}},Es=Vs,As=Object(x["a"])(Es,On,Rn,!1,null,null,null),Bs=As.exports;g()(As,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VCardTitle:Ke["a"],VCheckbox:xt["a"],VContainer:C["a"],VDataTable:Cr["a"],VDialog:ae["a"],VDivider:_["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VSelect:at["a"],VSpacer:N["a"],VTextField:nt["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:on["a"]});r("9801");var Ms={components:{IntakeFormsTable:Bs},data:function(){return{color:$e.a,selectedTab:"tab-1"}}},Ls=Ms,Us=Object(x["a"])(Ls,Pn,Sn,!1,null,null,null),qs=Us.exports;g()(Us,{VContainer:C["a"],VFlex:ce["a"],VLayout:S["a"]});var Ws=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-intake-request-success",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{staticClass:"intake-success-layot",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("h1",[e._v("You have successfully submitted your project")])])]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("h3",{staticClass:"intake-secondary-header"},[e._v("\n          You will receive an email with next steps within a few business days.\n        ")])])]),r("v-flex",{staticClass:"intake-success-button",attrs:{xs12:""}},[r("v-btn",{staticClass:"white--text",attrs:{color:"btnPrimary"},on:{click:e.logout}},[e._v("Logout")])],1)],1)],1)},Ys=[],zs=(r("771f"),{methods:{logout:function(){this.$router.push({path:"logout"})}}}),Hs=zs,Qs=Object(x["a"])(Hs,Ws,Ys,!1,null,null,null),Js=Qs.exports;g()(Qs,{VBtn:k["a"],VContainer:C["a"],VFlex:ce["a"],VLayout:S["a"]});var Gs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticStyle:{width:"100%"},attrs:{"d-flex":"","justify-center":"","align-start":""}},[r("v-flex",{attrs:{md4:""}},[r("h1",{staticClass:"projects-header"},[e._v("View "+e._s(e.selected))])]),r("v-flex",{attrs:{md8:""}},[r("v-radio-group",{staticClass:"right-position",attrs:{row:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[r("v-radio",{attrs:{label:"My Projects",value:"My Projects"}}),e.$store.state.activeRoles&&e.$store.state.activeRoles.role&&e.$store.state.activeRoles.role.includes("PSB_Admin")&&e.$store.state.activeRoles.role.includes("PSB_Admin")||e.$store.state.activeRoles&&e.$store.state.activeRoles.role&&e.$store.state.activeRoles.role.includes("PSB_Intake_User")&&e.$store.state.activeRoles.role.includes("PSB_Intake_User")?r("v-radio",{attrs:{label:"All Projects",value:"All Projects"}}):e._e(),r("v-radio",{attrs:{label:"Archived Projects",value:"Archived Projects"}})],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},["My Projects"===e.selected?r("projects-table",{attrs:{selectedItem:2}}):e._e(),"All Projects"===e.selected?r("projects-table",{attrs:{selectedItem:1}}):e._e(),"Archived Projects"===e.selected?r("archived-projects-table"):e._e()],1)],1),r("v-flex",{attrs:{md12:""}})],1)},Xs=[],Zs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.mou?t.item.mou.name:"n/a"))]),r("td",{class:{archived:t.item.is_archived}},[r("span",{staticClass:"clickable",on:{click:function(r){return e.editProject(t.item.id)}}},[e._v(e._s(t.item.projectName))])]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s([t.item.client.isNonMinistry?t.item.client.nonMinistryName:t.item.client.ministry.ministryName,t.item.orgDivision].join(" "))+"\n          ")]),r("td",{staticClass:"text-xs-left table-dropdown"},[t.item.teamWideProject?r("span",[e._v("TeamWide Project")]):e._e(),t.item.teamWideProject?e._e():r("v-select",{attrs:{items:e.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignLead(t.item.projectLeadUserId,t.item)}},nativeOn:{click:function(r){return e.getProjectLead(t.item.projectLeadUserId)}},model:{value:t.item.projectLeadUserId,callback:function(r){e.$set(t.item,"projectLeadUserId",r)},expression:"props.item.projectLeadUserId"}})],1),r("td",{staticClass:"text-xs-left table-dropdown"},[t.item.teamWideProject?e._e():r("v-select",{attrs:{items:e.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(r){return e.assignBackup(t.item.projectBackupUserId,t.item)}},nativeOn:{click:function(r){return e.getProjectBackup(t.item.projectBackupUserId)}},model:{value:t.item.projectBackupUserId,callback:function(r){e.$set(t.item,"projectBackupUserId",r)},expression:"props.item.projectBackupUserId"}})],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.dateModified)))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.editProject(t.item.id)}}},n),[r("v-icon",[e._v("edit")])],1)]}}],null,!0)},[r("span",[e._v("Edit")])]),t.item.is_archived?r("v-btn",{attrs:{flat:""},on:{click:function(r){return e.archivePrompt(t.item,!1)}}},[e._v("\n              Archived\n            ")]):r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.archivePrompt(t.item,!0)}}},n),[r("v-icon",[e._v("archive")])],1)]}}],null,!0)},[r("span",[e._v("Archive")])])],1)]}}])})],r("v-divider")],2)],1)},Ks=[],ei={props:{title:String,selectedItem:Number},components:{Snackbar:Le,Confirm:se},data:function(){return{headers:[{text:"MOU / Contract",value:"mou",align:"left",sortable:!0},{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:""}},computed:{projects:function(){return 1===this.selectedItem?this.$store.state.allProjects:this.$store.state.projects},userList:function(){return this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchAllProjects"),this.$store.dispatch("fetchProjects")},editProject:function(e){var t=this;this.$store.state.activeProject.id=e,this.$store.dispatch("fetchAllProjectNotes",{id:this.$store.state.activeProject.id}),this.$store.dispatch("fetchProjectContacts",{id:this.$store.state.activeProject.id}).then((function(r){t.$router.push({path:"project/".concat(e)})}))},archivePrompt:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to archive project: ".concat(t.projectName,"?"));case 2:if(!e.sent){e.next=7;break}return t.is_archived=r,e.next=6,this.$store.dispatch("archiveProject",{id:t.id,is_archived:r});case 6:this.fetchData();case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),viewProjectTimesheets:function(){this.$router.push({path:"timesheets"})},getProjectLead:function(e){this.selectedLeadUser=e},assignLead:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.id?r.id:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned."),o.fetchData()})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectLeadUserId=o.selectedLeadUser}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project lead"),r.projectLeadUserId=o.selectedLeadUser})),e.next=12;break;case 11:r.projectLeadUserId=this.selectedLeadUser;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),getProjectBackup:function(e){this.selectedProjectBackup=e},assignBackup:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=r&&r.id?r.id:"",n=r&&r.projectName?r.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!a||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:a,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),r.projectBackupUserId=o.selectedProjectBackup}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup"),r.projectBackupUserId=o.selectedProjectBackup})),e.next=12;break;case 11:r.projectBackupUserId=this.selectedProjectBackup;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteProject:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","");case 2:if(!e.sent){e.next=5;break}this.$store.dispatch("fetchProjects"),this.$refs.snackbar.displaySnackbar("success","Deleted.");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatDate:function(e){var t=e.split("T");return t?t[0]:e}},created:function(){this.fetchData()}},ti=ei,ri=Object(x["a"])(ti,Zs,Ks,!1,null,null,null),ai=ri.exports;g()(ri,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VDataTable:Cr["a"],VDivider:_["a"],VIcon:P["a"],VSelect:at["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:on["a"]});var ni=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.mou?t.item.mou.name:"n/a"))]),r("td",{class:{archived:t.item.is_archived}},[e._v("\n            "+e._s(t.item.projectName)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s([t.item.client.ministry.ministryName,t.item.orgDivision].join(" "))+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.teamWideProject?"teamWideProject":e.getUserName(t.item.leadUserId))+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.teamWideProject?"":e.getUserName(t.item.backupUserId))+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.completionDate)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("formatDate")(t.item.dateModified)))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.archivePrompt(t.item,!1)}}},n),[r("v-icon",[e._v("unarchive")])],1)]}}],null,!0)},[r("span",[e._v("Un-archive")])])],1)]}}])})],r("v-divider")],2)],1)},si=[],ii={props:{title:String},components:{Snackbar:Le,Confirm:se},data:function(){return{headers:[{text:"MOU",value:"mouAmount",align:"left",sortable:!0},{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Last Updated",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],archivedprojects:[],selectedLeadUser:"",selectedProjectBackup:""}},computed:{projects:function(){return this.$store.state.archivedProjects},userList:function(){return this.$store.state.users}},methods:{getUserName:function(e){if(e){var t=this.$store.state.users.filter((function(t){return t.id===e}));return t.length>0&&t[0].contact?t[0].contact.fullName:""}return""},fetchArchivedData:function(){this.$store.dispatch("fetchArchivedProjects")},editProject:function(e){this.$router.push({path:"project/".concat(e)})},viewProjectTimesheets:function(){this.$router.push({path:"timesheets"})},getProjectLead:function(e){this.selectedLeadUser=e},getProjectBackup:function(e){this.selectedProjectBackup=e},deleteProject:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","");case 2:if(!e.sent){e.next=5;break}this.$store.dispatch("fetchArchivedProjects"),this.$refs.snackbar.displaySnackbar("success","Deleted.");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),archivePrompt:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to un-archive project: ".concat(t.projectName,"?"));case 2:if(!e.sent){e.next=7;break}return t.is_archived=r,e.next=6,this.$store.dispatch("archiveProject",{id:t.id,is_archived:r});case 6:this.fetchArchivedData();case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},created:function(){this.fetchArchivedData()}},oi=ii,ci=Object(x["a"])(oi,ni,si,!1,null,null,null),li=ci.exports;g()(ci,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VDataTable:Cr["a"],VDivider:_["a"],VIcon:P["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:on["a"]});var ui={components:{ProjectsTable:ai,ArchivedProjectsTable:li},data:function(){return{color:$e.a,selected:"My Projects"}},computed:{}},di=ui,fi=(r("f32b"),Object(x["a"])(di,Gs,Xs,!1,null,null,null)),mi=fi.exports;g()(fi,{VContainer:C["a"],VFlex:ce["a"],VLayout:S["a"],VRadio:gt["a"],VRadioGroup:jt["a"]});var pi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"page-container custom-timesheets-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"timesheet-header"},[e._v("Timesheets")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("timesheets-table")],1)],1)],1)},vi=[],hi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("spinner",{ref:"spinner"}),r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),e.title?r("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[r("v-toolbar-title",[r("h4",[e._v(e._s(e.title))])])],1):e._e(),r("v-card-title",[r("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[r("v-flex",{attrs:{"d-flex":"","justify-start":"","align-start":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Project","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("timesheets-toolbar",{ref:"timesheetstoolbar",on:{refresh:e.fetchData}})],1)],1),r("v-divider"),r("v-card-text",{staticClass:"pa-0"},[r("add-time-record",{ref:"AddTimeRecord",on:{"close-timesheet":e.closeTimesheet}}),[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.timesheetsList,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.dateModified.toString().slice(0,10)))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.user.contact.fullName))]),r("td",[r("span",{staticClass:"clickable",on:{click:function(r){return e.viewRequest(t.item.id)}}},[e._v(e._s(t.item.project.projectName))])]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.hoursAccured))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.viewRequest(t.item.id)}}},n),[r("v-icon",[e._v("visibility")])],1)]}}],null,!0)},[r("span",[e._v("View Timesheet")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.editTimesheet(t.item.id)}}},n),[r("v-icon",[e._v("edit")])],1)]}}],null,!0)},[r("span",[e._v("Edit")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey",disabled:!!t.item.documentNo},on:{click:function(r){return e.deleteTimesheet(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)]}}])}),e.dialog?r("v-dialog",{attrs:{width:"800","margin-top":"91px"},on:{input:function(t){return e.closeDialog(!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-text",[r("v-icon",{staticClass:"v-model-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")]),r("timesheet-info-view",{attrs:{id:e.id}})],1)],1)],1):e._e()],r("v-divider")],2)],1)},bi=[],xi=(r("2fdb"),r("386d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[r("v-flex",{staticStyle:{width:"100%"},attrs:{"d-flex":"","justify-center":"","align-start":""}},[r("v-flex",{attrs:{md6:""}},[r("timesheets-calendar",{ref:"WeekSelection"})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{attrs:{row:""},model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}},[r("v-radio",{attrs:{label:"My Timesheets",value:"Mine"}}),r("v-radio",{attrs:{label:"Everyone's Timesheets",value:"All"}})],1)],1)],1),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("add-time-record",{ref:"AddTimeRecord",on:{"close-timesheet":e.closeTimesheet}}),r("v-btn",{staticClass:"add-timesheet-button",attrs:{color:"btnPrimary",dark:""},on:{click:e.newTimeRecord}},[e._v("+ Add Time Record")])],1)],1)}),yi=[],gi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-top":-15,"nudge-right":0,lazy:"",transition:"scale-transition","offset-y":"","full-width":"",left:"","min-width":"285px","max-width":"285px"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[r("v-layout",{staticStyle:{width:"100%"},attrs:{column:""}},[r("v-flex",{attrs:{my1:"","justify-center":""}},[r("div",{staticClass:"date-picker-container"},[r("v-btn-toggle",{staticClass:"v-btn-toggle--selected",staticStyle:{flex:"0 0 auto !important"}},[r("v-btn",{attrs:{flat:"",disabled:e.disabledatepicker},on:{click:e.setPreviousTimesheetsWeek}},[r("v-icon",[e._v("arrow_left")])],1),r("v-btn",{attrs:{flat:"",disabled:e.disabledatepicker},on:{click:e.toggleDatePicker}},[r("span",{staticStyle:{"padding-left":"1rem","padding-right":"1rem"}},[e._v(e._s(e.calendarText))])]),r("v-btn",{attrs:{flat:"",disabled:e.disabledatepicker},on:{click:e.setNextTimesheetsWeek}},[r("v-icon",[e._v("arrow_right")])],1)],1)],1),r("div",{class:"date-picker-container date-picker-wrapper "+e.getDatePickerClass()},[r("v-date-picker",{staticClass:"timesheets-date-picker",attrs:{"first-day-of-week":"1"},on:{input:e.setTimesheetsWeek},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)])],1)]}}])})},ji=[];function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wi={props:{title:String,addTimeRecord:Function},data:function(){return{calendarText:this.getCalendarText(),selectedDate:c()().format("YYYY-MM-DD"),showDatePicker:!1,disabledatepicker:!1}},watch:{timesheetsWeek:{handler:function(){this.setCalendarText()}}},computed:Ci({},Object(Ga["b"])(["timesheetsWeek"])),methods:{disableWeekPicker:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabledatepicker=e},getCalendarText:function(){var e=[];e[0]="Jan",e[1]="Feb",e[2]="Mar",e[3]="Apr",e[4]="May",e[5]="Jun",e[6]="Jul",e[7]="Aug",e[8]="Sep",e[9]="Oct",e[10]="Nov",e[11]="Dec";var t=c()(sessionStorage.getItem("selectedStartDate")),r=c()(sessionStorage.getItem("selectedEndDate"));return t||r?"".concat(e[t.get("month")]," ").concat(t.get("date")," - ").concat(e[r.get("month")]," ").concat(r.get("date")):"Change Week"},setCalendarText:function(){this.calendarText=this.getCalendarText()},setPreviousTimesheetsWeek:function(){var e=c()(sessionStorage.getItem("selectedStartDate")).subtract(7,"days"),t=c()(sessionStorage.getItem("selectedEndDate")).subtract(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",e.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",t.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:e.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD")}),this.$emit("next",c()(sessionStorage.getItem("selectedStartDate")).subtract(14,"days"))},setNextTimesheetsWeek:function(){var e=c()(sessionStorage.getItem("selectedStartDate")).add(7,"days"),t=c()(sessionStorage.getItem("selectedEndDate")).add(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",e.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",t.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:e.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD")}),this.$emit("next",c()(sessionStorage.getItem("selectedStartDate")).add(14,"days"))},setTimesheetsWeek:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c()(e).day(1),a=c()(e).day(7);sessionStorage.setItem("selectedStartDate",r.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",a.format("YYYY-MM-DD")),t&&this.toggleDatePicker(),this.$store.dispatch("setTimesheetsWeek",{startDate:r.format("YYYY-MM-DD"),endDate:a.format("YYYY-MM-DD")}),this.$emit("next")},toggleDatePicker:function(){this.showDatePicker=!this.showDatePicker},hideDatePicker:function(){this.showDatePicker=!1},getDatePickerClass:function(){return this.showDatePicker?"date-picker-active":""}},created:function(){this.setTimesheetsWeek(c()().format("YYYY-MM-DD"),!1)}},_i=wi,Pi=(r("014b7"),Object(x["a"])(_i,gi,ji,!1,null,null,null)),Si=Pi.exports;g()(Pi,{VBtn:k["a"],VBtnToggle:tn["a"],VDatePicker:et["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VMenu:rt["a"]});var Oi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{attrs:{id:"AddTimeRecord","content-class":"add-time-record"},on:{input:function(t){return e.closeDialog(!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"AddimeRecords",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",[r("div",{staticClass:"mou-amount-warning"},[e.selectedProject().hasValidFinanceCodes?e._e():r("v-system-bar",{attrs:{dark:"",color:"red"}},[r("v-icon",{attrs:{dark:"",medium:""}},[e._v("error")]),r("span",{staticClass:"pl-1"},[r("b",[e._v("This project has incomplete finance codes.")])])],1),e.selectedProject().mouUsedAmount>e.MOU_USED_AMOUNT_LEVELS.DANGER?r("v-system-bar",{attrs:{dark:"",color:"red"}},[r("v-icon",{attrs:{dark:"",medium:""}},[e._v("error")]),r("span",{staticClass:"pl-1"},[r("b",[e._v("MOU value is overdrawn and a new MOU amendment would be needed.")])])],1):e.selectedProject().mouUsedAmount>e.MOU_USED_AMOUNT_LEVELS.WARNING?r("v-system-bar",{attrs:{dark:"",color:"orange"}},[r("v-icon",{attrs:{dark:"",medium:""}},[e._v("warning")]),r("span",{staticClass:"pl-1"},[r("b",[e._v("MOU is within 10% of its remaining value.")])])],1):e._e()],1),r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{md4:""}},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Add Time Record")])])],1),r("v-flex",{attrs:{md8:""}},[r("v-flex",{staticClass:"d-flex cardheadlabel1"},[r("v-flex",{staticClass:"headerinfo",attrs:{md5:""}},[e._v("Information being entered by:")]),r("v-flex",{attrs:{md7:""}},[r("v-select",{staticClass:"currentuser",attrs:{rules:e.requiredRule,items:e.userList,"item-value":"id","item-text":"contact.fullName",disabled:e.editMode,label:"User","validate-on-blur":""},on:{input:function(t){return e.onChangeUser(e.form.userId)}},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1)],1),r("v-flex",{staticClass:"d-flex cardheadlabel2"},[r("v-flex",{attrs:{md4:""}},[e.form.project&&"weekly"===e.activeTab?r("v-flex",[r("b",[e._v("MOU amount:")]),e._v("\n                    $"+e._s(e.selectedProject().mouAmount)+"\n                  ")]):e._e()],1),e.timesheet&&"batch"==e.activeTab?r("v-flex",{attrs:{md4:""}},[r("b",[e._v("Currently Billed:")]),e._v("\n                  $"+e._s(e.getBilledAmount())+"\n                ")]):e.form.project&&e.timesheet&&e.timesheet[e.weeklyProjectIndex]&&e.timesheet[e.weeklyProjectIndex].amountBilled?r("v-flex",{attrs:{md4:""}},[r("b",[e._v("Currently Billed:")]),e._v("\n                  $"+e._s(e.timesheet[e.weeklyProjectIndex].amountBilled)+"\n                ")]):r("v-flex",{attrs:{md4:""}},[r("b",[e._v("Currently Billed:")]),e._v(" $0 ")]),r("v-flex",{attrs:{md4:""}},[r("b",[e._v("Legal Billed Amount:")]),e._v(" $"+e._s(e.selectedProject().totalBilledAmount)+" ")])],1)],1)],1),r("v-divider",{staticClass:"header-divider"}),r("v-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[r("v-tab",{attrs:{href:"#batch"},on:{click:function(t){return e.onBatchEntry()}}},[e._v("Batch Entry")]),r("v-tab",{attrs:{href:"#weekly"},on:{click:function(t){return e.onWeekEntry()}}},[e._v("Weekly Entry")]),r("v-tab-item",{attrs:{value:"batch"}},[r("v-flex",[r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-flex",{staticClass:"week-change-control",attrs:{md6:""}},[r("timesheets-calendar",{ref:"TimeCalenderBatch",on:{next:e.onChangeWeek}})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{staticClass:"justify-end",attrs:{row:""},model:{value:e.recordType,callback:function(t){e.recordType=t},expression:"recordType"}},[r("v-radio",{attrs:{label:"Hours",value:1}}),r("v-radio",{attrs:{label:"Unbillable Hours",value:2}})],1)],1)],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:1===e.recordType,expression:"recordType === 1"}]},[r("batch-time-entry",{ref:"billableBatchEntry",attrs:{selectedItem:1,userId:e.form.userId,timesheet:e.timesheet,projectList:e.userMouProjects},on:{"add-row":e.addTimeSheetRow}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:2===e.recordType,expression:"recordType === 2"}]},[r("batch-time-entry",{ref:"nonBillableBatchEntry",attrs:{selectedItem:2,userId:e.form.userId,timesheet:e.timesheet,projectList:e.userMouProjects},on:{"add-row":e.addTimeSheetRow}})],1)],1)],1),r("v-tab-item",{attrs:{value:"weekly"}},["weekly"===e.activeTab?r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{rules:e.requiredRule,items:e.mouList,"item-text":"name","item-value":"id",label:"MOU",disabled:e.editMode,"validate-on-blur":""},on:{input:function(t){return e.onChangeMou(!1)}},model:{value:e.form.mou,callback:function(t){e.$set(e.form,"mou",t)},expression:"form.mou"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:e.projectList,rules:e.requiredRule,"item-text":"projectName","item-value":"id",label:"Project Name",disabled:e.editMode,"validate-on-blur":""},on:{input:function(t){return e.onChangeProjectWeeklyEntry()}},model:{value:e.form.project,callback:function(t){e.$set(e.form,"project",t)},expression:"form.project"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:e.projectRfx,rules:e.requiredRule,"item-text":"rfxName","item-value":"id",label:"Project Rfx",disabled:e.editMode,"validate-on-blur":""},on:{input:function(t){return e.onChangeProjectRfx()}},model:{value:e.form.rfx,callback:function(t){e.$set(e.form,"rfx",t)},expression:"form.rfx"}})],1)],1):e._e(),r("v-flex",[r("v-flex",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-flex",{staticClass:"week-change-control",attrs:{md6:""}},[r("timesheets-calendar",{ref:"TimeCalenderWeekly",on:{next:e.onChangeWeek}})],1),r("v-flex",{attrs:{md6:""}},[r("v-radio-group",{staticClass:"justify-end",attrs:{row:""},model:{value:e.recordTypeWeekly,callback:function(t){e.recordTypeWeekly=t},expression:"recordTypeWeekly"}},[r("v-radio",{attrs:{label:"Hours",value:1}}),r("v-radio",{attrs:{label:"Expenses",value:2}}),r("v-radio",{attrs:{label:"Revenue",value:3}}),r("v-radio",{attrs:{label:"Unbillable Hours",value:4}})],1)],1)],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:1===e.recordTypeWeekly,expression:"recordTypeWeekly === 1"}]},[r("timesheet-entry",{ref:"Billable",attrs:{timesheet:e.computeTimesheet,selectedItem:1,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:2===e.recordTypeWeekly,expression:"recordTypeWeekly === 2"}]},[r("expense-entry",{ref:"AddExpense",attrs:{timesheet:e.computeTimesheet,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:3===e.recordTypeWeekly,expression:"recordTypeWeekly === 3"}]},[r("revenue-entry",{ref:"AddRevenue",attrs:{timesheet:e.computeTimesheet,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:4===e.recordTypeWeekly,expression:"recordTypeWeekly === 4"}]},[r("timesheet-entry",{ref:"NonBillable",attrs:{timesheet:e.computeTimesheet,selectedItem:4,days:e.timesheetEntryDays,projectIndex:e.weeklyProjectIndex}})],1)],1)],1)],1)],1),r("br"),r("br"),r("v-divider",{staticClass:"header-divider"}),r("v-card-actions",[r("BulkCSVExport",{ref:"exporttimesheet",on:{exportTimeSheets:e.exportTimeSheets}}),r("v-btn",{staticClass:"btn-discard",attrs:{ripple:!1},on:{click:function(t){return e.closeDialog(!1)}}},[e._v("DISCARD TIMESHEET")]),r("v-flex",{staticClass:"add-btns"},[r("v-btn",{staticClass:"btn-normal",on:{click:function(t){return e.openExportModal()}}},[e._v("EXPORT TIMESHEET")]),r("v-btn",{staticClass:"add-new-row",attrs:{color:"primary",disabled:e.form.is_locked&&e.editMode},on:{click:function(t){return e.save()}}},[e._v(e._s(e.getSubmitButtonVal()))])],1)],1)],1)],1)],1)],1)},Ri=[],Ii=(r("8615"),r("7618")),$i=(r("e3dbf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"add-expense",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[e._v("Day")]),r("v-flex",{attrs:{md2:""}},[e._v("Amount")]),r("v-flex",{attrs:{md3:""}},[e._v("Category")]),r("v-flex",{attrs:{md4:""}},[e._v("Description")]),r("v-flex",{attrs:{md2:""}})],1),e._l(e.timesheet[e.projectIndex].entries,(function(t,a){return r("v-layout",{key:t.entryDate,staticClass:"expense-records"},[r("v-flex",{attrs:{md1:""}},[e._v(e._s(e.days[a]))]),r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked,rules:e.amountRule,"prepend-inner-icon":"attach_money",oninput:"validity.valid||(value='');",value:e._f("withCommas")(t.expenseAmount)},on:{blur:function(e){return t.expenseAmount=parseFloat(e.target.value.toString().replace(/,/g,""))}}})],1),r("v-flex",{attrs:{md3:""}},[r("v-select",{attrs:{items:e.categoryOptions,"item-text":"category","item-value":"category",disabled:e.timesheet[e.projectIndex].is_locked},model:{value:t.expenseCategory,callback:function(r){e.$set(t,"expenseCategory",r)},expression:"item.expenseCategory"}})],1),r("v-flex",{attrs:{md4:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked},model:{value:t.expenseComment,callback:function(r){e.$set(t,"expenseComment",r)},expression:"item.expenseComment"}})],1),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:e.timesheet[e.projectIndex].is_locked},on:{click:function(r){return e.copyfunc(t.expenseAmount,t.expenseComment,t.expenseCategory)}}},n),[r("v-icon",[e._v("file_copy")])],1)]}}],null,!0)},[r("span",[e._v("Copy")])]),e.isCopy?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:e.timesheet[e.projectIndex].is_locked},on:{click:function(t){return e.pastefunc(a)}}},n),[r("v-icon",[e._v("post_add")])],1)]}}],null,!0)},[r("span",[e._v("Paste")])]):r("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:!e.isCopy}},a))]}}],null,!0)},[r("span")])],1)],1)}))],2)],1)],1)}),Ti=[],Di=(r("4df0"),{computed:{},components:{},data:function(){return{isCopy:!1,categoryOptions:[{category:"Fees"},{category:"Other"},{category:"Transporation"}],valid:!0,dialog:!1,amountRule:[function(e){if(!e)return!0;var t=e.toString().match(/^[0-9,_.-]*$/g,"");return!!t||"Field must just be a number."}]}},watch:{project:function(e){this.$store.dispatch("fetchProjectRfx",{id:e})}},props:{singleRow:Boolean,timesheet:Array,days:Array,projectIndex:Number},methods:{thousandSeprator:function(e){return""!==e||void 0!==e||0!==e||"0"!==e||null!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e},validate:function(){return this.$refs.form.validate()},copyfunc:function(e,t,r){this.isCopy=!0,this.expenseAmount=e,this.expenseComment=t,this.expenseCategory=r},pastefunc:function(e){this.timesheet[this.projectIndex].entries[e].expenseAmount=this.expenseAmount,this.timesheet[this.projectIndex].entries[e].expenseComment=this.expenseComment,this.timesheet[this.projectIndex].entries[e].expenseCategory=this.expenseCategory}}}),Ni=Di,Fi=Object(x["a"])(Ni,$i,Ti,!1,null,null,null),Vi=Fi.exports;g()(Fi,{VBtn:k["a"],VContainer:C["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VSelect:at["a"],VTextField:nt["a"],VTooltip:on["a"]});var Ei=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"add-revenue",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[e._v("Day")]),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n              Hours\n              "),r("v-icon",{attrs:{size:"20"}},[e._v("info")])],1),r("span",[e._v("\n              Hours (15min = 0.25)\n            ")])])],1),r("v-flex",{attrs:{md7:""}},[e._v("Description")]),r("v-flex",{attrs:{md2:""}})],1),e._l(e.timesheet[e.projectIndex].entries,(function(t,a){return r("v-layout",{key:t.entryDate,staticClass:"revenue-records"},[r("v-flex",{attrs:{md1:""}},[e._v(e._s(e.days[a]))]),r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked,type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:t.revenueHours,callback:function(r){e.$set(t,"revenueHours",r)},expression:"item.revenueHours"}})],1),r("v-flex",{attrs:{md7:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked},model:{value:t.revenueComment,callback:function(r){e.$set(t,"revenueComment",r)},expression:"item.revenueComment"}})],1),r("v-flex",{staticStyle:{"text-align":"right"},attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:e.timesheet[e.projectIndex].is_locked},on:{click:function(r){return e.copyfunc(t.revenueHours,t.revenueComment)}}},n),[r("v-icon",[e._v("file_copy")])],1)]}}],null,!0)},[r("span",[e._v("Copy")])]),e.isCopy?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:e.timesheet[e.projectIndex].is_locked},on:{click:function(t){return e.pastefunc(a)}}},n),[r("v-icon",[e._v("post_add")])],1)]}}],null,!0)},[r("span",[e._v("Paste")])]):r("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:!e.isCopy}},a))]}}],null,!0)},[r("span")])],1)],1)}))],2)],1)],1)},Ai=[],Bi=(r("2b62"),{computed:{},components:{},data:function(){return{isCopy:!1,valid:!0,amountRule:[function(e){if(!e)return!0;var t=e.toString().match(/[1-9]\d*(?:\.\d{0,2})?/,"");return!!t||"Field must just be a number."}]}},watch:{},props:{singleRow:Boolean,timesheet:Array,days:Array,projectIndex:Number},methods:{validate:function(){return this.$refs.form.validate()},copyfunc:function(e,t){this.isCopy=!0,this.revenueHours=e,this.revenueComment=t},pastefunc:function(e){this.timesheet[this.projectIndex].entries[e].revenueHours=this.revenueHours,this.timesheet[this.projectIndex].entries[e].revenueComment=this.revenueComment}}}),Mi=Bi,Li=Object(x["a"])(Mi,Ei,Ai,!1,null,null,null),Ui=Li.exports;g()(Li,{VBtn:k["a"],VContainer:C["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VTextField:nt["a"],VTooltip:on["a"]});var qi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-form",{ref:"form",staticClass:"timesheet-entry",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"grid-list-xl":""}},[r("v-layout",{staticClass:"list-header",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}},[e._v("Day")]),r("v-flex",{attrs:{md2:""}},[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n              Hours\n              "),r("v-icon",{attrs:{size:"20"}},[e._v("info")])],1),r("span",[e._v("\n              Hours (15min = 0.25)\n            ")])])],1),r("v-flex",{attrs:{md8:""}},[e._v("Description")]),r("v-flex",{attrs:{md1:""}})],1),e._l(e.timesheet[e.projectIndex].entries,(function(t,a){return r("v-layout",{key:t.entryDate,staticClass:"time-records"},[r("v-flex",{attrs:{md1:""}},[e._v(e._s(e.days[a]))]),1==e.selectedItem?r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked,type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:t.hoursBillable,callback:function(r){e.$set(t,"hoursBillable",r)},expression:"item.hoursBillable"}})],1):r("v-flex",{attrs:{md2:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked,type:"number",max:"24",step:"0.01",min:"0",oninput:"validity.valid||(value=0);"},model:{value:t.hoursUnBillable,callback:function(r){e.$set(t,"hoursUnBillable",r)},expression:"item.hoursUnBillable"}})],1),1==e.selectedItem?r("v-flex",{attrs:{md8:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked},model:{value:t.commentsBillable,callback:function(r){e.$set(t,"commentsBillable",r)},expression:"item.commentsBillable"}})],1):r("v-flex",{attrs:{md8:""}},[r("v-text-field",{attrs:{disabled:e.timesheet[e.projectIndex].is_locked},model:{value:t.commentsUnBillable,callback:function(r){e.$set(t,"commentsUnBillable",r)},expression:"item.commentsUnBillable"}})],1),r("v-flex",{staticClass:"justify-end",attrs:{md2:""}},[r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:e.timesheet[e.projectIndex].is_locked},on:{click:function(r){return e.copyfunc(t)}}},n),[r("v-icon",[e._v("file_copy")])],1)]}}],null,!0)},[r("span",[e._v("Copy")])]),e.isCopy?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:e.timesheet[e.projectIndex].is_locked},on:{click:function(t){return e.pastefunc(a)}}},n),[r("v-icon",[e._v("post_add")])],1)]}}],null,!0)},[r("span",[e._v("Paste")])]):r("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",disabled:!e.isCopy}},a))]}}],null,!0)},[r("span")])],1)],1)}))],2)],1)],1)},Wi=[],Yi=(r("d74a"),{computed:{},components:{},data:function(){return{valid:!0,isCopy:!1}},watch:{},props:{timesheet:Array,selectedItem:Number,days:Array,projectIndex:Number},created:function(){},methods:{validate:function(){return this.$refs.form.validate()},stringToDate:function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])},copyfunc:function(e){this.isCopy=!0,this.itemHours=1===this.selectedItem?e.hoursBillable:e.hoursUnBillable,this.itemDescription=1===this.selectedItem?e.commentsBillable:e.commentsUnBillable},pastefunc:function(e){1===this.selectedItem?(this.timesheet[this.projectIndex].entries[e].hoursBillable=this.itemHours,this.timesheet[this.projectIndex].entries[e].commentsBillable=this.itemDescription):(this.timesheet[this.projectIndex].entries[e].hoursUnBillable=this.itemHours,this.timesheet[this.projectIndex].entries[e].commentsUnBillable=this.itemDescription)}}}),zi=Yi,Hi=Object(x["a"])(zi,qi,Wi,!1,null,null,null),Qi=Hi.exports;g()(Hi,{VBtn:k["a"],VContainer:C["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VTextField:nt["a"],VTooltip:on["a"]});var Ji=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),r("add-batch-comment",{ref:"addComment",attrs:{comment:e.itemComment},on:{savecomment:e.savecomment}}),r("v-flex",{staticClass:"batch-entry-container"},[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable batch-entry",attrs:{headers:e.headers,items:e.timesheet,"hide-actions":""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return["Project"!=t.header.text&&"Project Rfx"!=t.header.text?r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n            "+e._s(t.header.text)+"\n            "),r("v-icon",{attrs:{size:"20"}},[e._v("info")])],1),r("span",[e._v("\n            Hours (15min = 0.25)\n          ")])]):r("span",[e._v(e._s(t.header.text))])]}},{key:"items",fn:function(t){return[t.item.deleted?e._e():[r("td",[r("v-select",{attrs:{items:e.userProjects,"item-value":"id","item-text":"projectName",disabled:e.editMode||t.item.is_locked||void 0!=t.item.id,label:"Project Name"},model:{value:t.item.project,callback:function(r){e.$set(t.item,"project",r)},expression:"props.item.project"}})],1),r("td",[r("v-select",{attrs:{items:e.getRfxList(t.item.project),"item-value":"id","item-text":"rfxName",rules:e.validateRfx(t.item.project,t.item.projectRfx),disabled:e.editMode||t.item.is_locked||void 0!=t.item.id,label:"Project Rfx","return-object":"","validate-on-blur":""},on:{change:function(r){return e.onChangeProjectRfxBatchEntry(t.index,t.item,t.item.project,t.item.projectRfx)}},nativeOn:{click:function(r){return e.getRfx(t.item.projectRfx,t.item.project)}},model:{value:t.item.projectRfx,callback:function(r){e.$set(t.item,"projectRfx",r)},expression:"props.item.projectRfx"}})],1),e._l(5,(function(a){return r("td",{key:a},[1==e.selectedItem?r("v-flex",{staticStyle:{float:"left"}},[r("v-text-field",{staticStyle:{float:"left",width:"70px"},attrs:{type:"number",max:"24",step:"0.01",min:"0",disabled:t.item.is_locked,oninput:"validity.valid||(value=0);"},model:{value:t.item.entries[a-1].hoursBillable,callback:function(r){e.$set(t.item.entries[a-1],"hoursBillable",r)},expression:"props.item.entries[index - 1].hoursBillable"}}),t.item.entries[a-1].commentsBillable?e._e():r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:t.item.is_locked,flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsBillable,a-1,t.index,"billable")}}},s),[r("v-icon",[e._v("note_add")])],1)]}}],null,!0)},[r("span",[e._v("add comment")])]),t.item.entries[a-1].commentsBillable?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:t.item.is_locked,flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsBillable,a-1,t.index,"billable")}}},s),[r("v-icon",[e._v("create")])],1)]}}],null,!0)},[r("span",[e._v("edit comment")])]):e._e()],1):r("v-flex",{staticStyle:{float:"left"}},[r("v-text-field",{staticStyle:{float:"left",width:"70px"},attrs:{type:"number",max:"24",step:"0.01",disabled:t.item.is_locked,min:"0",oninput:"validity.valid||(value=0);"},model:{value:t.item.entries[a-1].hoursUnBillable,callback:function(r){e.$set(t.item.entries[a-1],"hoursUnBillable",r)},expression:"props.item.entries[index - 1].hoursUnBillable"}}),t.item.entries[a-1].commentsUnBillable?e._e():r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:t.item.is_locked,flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsUnBillable,a-1,t.index,"unbillable")}}},s),[r("v-icon",[e._v("note_add")])],1)]}}],null,!0)},[r("span",[e._v("add comment")])]),t.item.entries[a-1].commentsUnBillable?r("v-tooltip",{attrs:{top:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[r("v-btn",e._g({staticStyle:{width:"0px","margin-top":"13px"},attrs:{disabled:t.item.is_locked,flat:"",icon:""},on:{click:function(r){return e.addcomment(t.item.entries[a-1].commentsUnBillable,a-1,t.index,"unbillable")}}},s),[r("v-icon",[e._v("create")])],1)]}}],null,!0)},[r("span",[e._v("edit comment")])]):e._e()],1)],1)}))]]}}])})],1),e.editMode?e._e():r("v-flex",[r("v-btn",{staticClass:"btn-normal",on:{click:e.addRow}},[e._v("ADD ANOTHER ENTRY")])],1)],1)},Gi=[],Xi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("v-dialog",{staticClass:"proc-dialgue",attrs:{id:"newNote","max-width":"40%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"newBatchComment",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card",{staticStyle:{width:"100%"}},[r("br"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}}),r("v-flex",{staticClass:"headline",attrs:{md10:""}},[e._v("Add a Description")]),r("v-flex",{attrs:{md1:""}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},on:{click:function(t){return e.closeDialog()}}},[r("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])])],1),r("br"),r("v-divider"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}}),r("v-flex",{staticClass:"description-date",attrs:{md10:""}},[r("span",{staticClass:"datevalue"},[e._v("Date:"+e._s(new Date(e.date).toString().slice(0,10)))]),r("span",{staticClass:"projectvalue"},[e._v(e._s(e.project))])]),r("v-flex",{attrs:{md1:""}})],1),r("br"),r("br"),r("v-card-text",{staticClass:"card-contents"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container",staticStyle:{"margin-left":"20px"}},[r("v-text-field",{staticClass:"pa-0",attrs:{name:"project-description",label:"Please input your description"},model:{value:e.batchComment,callback:function(t){e.batchComment=t},expression:"batchComment"}})],1)]),r("br"),r("br"),r("br"),r("br"),r("v-flex",{attrs:{md12:""}},[r("v-flex",[r("v-btn",{staticClass:"btn-discard",attrs:{ripple:!1},on:{click:function(t){return e.closeDialog()}}},[e._v("DISCARD")])],1),r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:function(t){return e.saveComment()}}},[e._v("SUBMIT AND CLOSE")]),r("br"),r("br"),r("br"),r("br")],1)],1)],1)],1)],1)],1)],1)],1)},Zi=[],Ki={computed:{},components:{},data:function(){return this.initData()},watch:{},props:{comment:String},methods:{saveComment:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("savecomment",this.batchComment,this.index,this.sheetIndex,this.type),this.closeDialog();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),open:function(e,t,r,a,n,s){this.date=n,this.project=s,this.type=a,this.sheetIndex=r,this.index=t,this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0]&&(document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0)}),400),this.batchComment=e},closeDialog:function(){this.batchComment="",this.dialog=!1},initData:function(){return{date:"",project:"",flag:void 0,valid:!0,dialog:!1,batchComment:"",index:"",type:"",sheetIndex:""}}}},eo=Ki,to=(r("8249"),Object(x["a"])(eo,Xi,Zi,!1,null,"f32dcc52",null)),ro=to.exports;g()(to,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VDialog:ae["a"],VDivider:_["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VTextField:nt["a"]});var ao={components:{Snackbar:Le,Confirm:se,AddBatchComment:ro},computed:{userProjects:function(){return this.projectList}},data:function(){return{previousSelection:void 0,valid:!0,editMode:!1,itemComment:"",headers:[{text:"Project"},{text:"Project Rfx",sortable:!1},{text:"Mon",sortable:!1,value:1===this.$props.selectedItem?"item.entries[0].hoursBillable":"item.entries[0].hoursUnBillable"},{text:"Tue",sortable:!1,value:1===this.$props.selectedItem?"item.entries[1].hoursBillable":"item.entries[1].hoursUnBillable"},{text:"Wed",sortable:!1,value:1===this.$props.selectedItem?"item.entries[2].hoursBillable":"item.entries[2].hoursUnBillable"},{text:"Thu",sortable:!1,value:1===this.$props.selectedItem?"item.entries[3].hoursBillable":"item.entries[3].hoursUnBillable"},{text:"Fri",sortable:!1,value:1===this.$props.selectedItem?"item.entries[4].hoursBillable":"item.entries[4].hoursUnBillable"}]}},props:{selectedItem:Number,timesheet:Array,projectList:Array},watch:{},methods:{validateRfx:function(e,t){return void 0===e||""===e?[!0]:void 0===t||""===t?["This field is required."]:[!0]},addcomment:function(e,t,r,a){var n=this;this.itemComment=e;var s=this.projectList.find((function(e){return e.id===n.$props.timesheet[r].project})),i=this.$props.timesheet[r].entries[t].entryDate,o="",c="";s?(o="Date: ".concat(i),c="Project: ".concat(s.projectName)):o="Date: ".concat(i),this.$refs.addComment.open(e,t,r,a,o,c)},savecomment:function(e,t,r,a){"billable"===a?this.$props.timesheet[r].entries[t].commentsBillable=e:this.$props.timesheet[r].entries[t].commentsUnBillable=e},getRfxList:function(e){var t=this.projectList.find((function(t){return t.id===e}));return t?t.rfxList:[]},getRfx:function(e,t){if(this.previousSelection=void 0,void 0!==t){var r=this.projectList.find((function(e){return e.id===t}));if(r){var a=r.rfxList.find((function(t){return t.id===e}));a&&(this.previousSelection=a)}}},onChangeProjectRfxBatchEntry:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r,a,n){var s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.previousSelection){e.next=7;break}return e.next=3,this.$refs.confirm.open("info","Are you sure to change Rfx?");case 3:if(e.sent){e.next=7;break}return r.projectRfx=this.previousSelection.id,this.previousSelection=void 0,e.abrupt("return");case 7:if(s=this.timesheet.filter((function(e){return e.project&&(e.project===a.id||e.project.id===a.id)&&e.projectRfx&&(e.projectRfx===n.id||e.projectRfx.id===n.id)&&!e.deleted})),!(s.length>1)){e.next=15;break}return this.$refs.snackbar.displaySnackbar("info","This Rfx is already added"),this.previousSelection&&this.previousSelection.id?r.projectRfx=this.previousSelection.id:r.projectRfx=this.previousSelection,i=this.timesheet.filter((function(e){return!e.deleted})),i.length>1&&this.timesheet.length-1===t&&void 0===this.previousSelection&&(r.deleted=!0),this.previousSelection=void 0,e.abrupt("return");case 15:o=this.projectList.find((function(e){return e.id===a})),o&&(r.projectRfx=void 0,c=o.rfxList.find((function(e){return e.id===n.id})),c&&(r.projectRfx=c.id),r.project=o.id,r.mou=o.mouId),this.previousSelection=void 0;case 18:case"end":return e.stop()}}),e,this)})));function t(t,r,a,n){return e.apply(this,arguments)}return t}(),addRow:function(){this.$emit("add-row")}}},no=ao,so=Object(x["a"])(no,Ji,Gi,!1,null,null,null),io=so.exports;g()(so,{VBtn:k["a"],VDataTable:Cr["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VSelect:at["a"],VTextField:nt["a"],VTooltip:on["a"]});var oo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"proc-layout",attrs:{row:"","justify-center":""}},[r("snackbar",{ref:"snackbar"}),r("v-dialog",{attrs:{"max-width":"40%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("spinner",{ref:"spinner"}),r("v-card",{staticStyle:{width:"100%"}},[r("br"),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md1:""}}),r("v-flex",{staticClass:"headline",attrs:{md10:""}},[e._v("Export Timesheet")]),r("v-flex",{attrs:{md1:""}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},on:{click:function(t){return e.closeDialog()}}},[r("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])])],1),r("br"),r("v-divider"),r("v-card-text",{staticClass:"csv-card-contents"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"choose-date-range"},[e._v("Choose the date range:")])]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{readonly:"",label:"Start Date","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1)],1)]),r("v-flex",{attrs:{md12:""}},[r("div",{staticClass:"v-form-container"},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"required",attrs:{readonly:"",label:"End Date","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}},a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[r("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu2=!1}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)],1)]),r("v-flex",{attrs:{md12:""}},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-btn",{staticClass:"add-log-button",attrs:{color:"btnPrimary",dark:""},on:{click:function(t){return e.exportCSV()}}},[e._v("EXPORT TIMESHEET")])],1)],1)],1)],1)],1)],1)],1)],1)},co=[],lo={computed:{projectRfx:function(){return this.$store.state.activeProjectRfxData}},components:{Snackbar:Le,Spinner:Qe},data:function(){return this.initData()},watch:{},props:{timeEntry:Object},methods:{closeDialog:function(){this.dialog=!1},parseDate:function(e){if(!e)return null;var t=e.split("/"),r=Object(xe["a"])(t,3),a=r[0],n=r[1],s=r[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},open:function(e,t){this.startDate=void 0,this.endDate=void 0,this.replyNoteName=t,this.flag=e,this.dialog=!0,setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},exportCSV:function(){this.$emit("exportTimeSheets",this.startDate,this.endDate),this.dialog=!1},reset:function(){},initData:function(){var e=Object.assign({},this.$props.timeEntry);return e.userId=this.$store.state.activeUser.id,{flag:void 0,valid:!0,menu1:!1,dateFormatted:void 0,menu2:!1,requiredRule:[function(e){return!!e||"This field required"}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],dialog:!1,startDate:void 0,endDate:void 0}}}},uo=lo,fo=(r("036d"),Object(x["a"])(uo,oo,co,!1,null,"0e552dbb",null)),mo=fo.exports;function po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?po(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}g()(fo,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VDatePicker:et["a"],VDialog:ae["a"],VDivider:_["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"],VMenu:rt["a"],VTextField:nt["a"]});var ho={computed:{computeTimesheet:{get:function(){return void 0===this.form.rfx||""===this.form.rfx?(0===this.blankTimesheet.length&&this.addTimeSheetRow(!0),this.weeklyProjectIndex=this.blankTimesheet.length-1,this.blankTimesheet):this.timesheet}},mouList:function(){return this.$store.state.mouList},userList:function(){return this.$store.state.users},timesheetEntryData:function(){return this.$store.state.timesheetEntryData},projectRfx:function(){return this.rfxList}},components:{Snackbar:Le,Spinner:Qe,TimesheetsCalendar:Si,TimesheetEntry:Qi,BatchTimeEntry:io,ExpenseEntry:Vi,RevenueEntry:Ui,BulkCSVExport:mo},data:function(){return this.initData()},watch:{},props:{},created:function(){this.clearTimesheet(),this.MOU_USED_AMOUNT_LEVELS={WARNING:.9,DANGER:1}},methods:{openExportModal:function(){this.$refs.exporttimesheet.reset(),this.$refs.exporttimesheet.open()},closeExportModal:function(){},getSubmitButtonVal:function(){return this.editMode?"SAVE CHANGES":"SUBMIT"},getBilledAmount:function(){var e=this.timesheet.filter((function(e){return e.amountBilled&&e.amountBilled>0})).reduce((function(e,t){return e+Number(t.amountBilled)}),0);return e},selectedProject:function(){var e=this;if(console.log("selectedProject"),this.form&&this.form.mou&&this.form.project){var t=this.userMouProjects.filter((function(t){return t.id===e.form.project}));if(t[0]){var r=t[0];return{mouAmount:r.mouAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),totalBilledAmount:r.totalAmountBilled.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),mouUsedAmount:r.totalAmountBilled/r.mouAmount,hasValidFinanceCodes:r.hasValidFinanceCodes||!r.isCostRecoverable}}}return{mouAmount:0,totalBilledAmount:0,mouUsedAmount:0,hasValidFinanceCodes:!0}},fetchUser:function(){var e=this.$store.state.activeUser.refId,t=this.$store.state.users.find((function(t){return t.referenceId===e}));return t&&t.id?t.id:""},initData:function(){var e=Object.assign({});return{weeklyProjectIndex:0,timesheetEntryDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],timesheet:[],blankTimesheet:[],userMouProjects:[],projectList:[],rfxList:[],editMode:!1,activeTab:"weekly",recordType:1,recordTypeWeekly:1,valid:!0,exportStartDate:void 0,exportEndDate:void 0,requiredRule:[function(e){return!!e||"This field required"}],dialog:!1,form:vo({},e)}},onChangeUser:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r,a,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]&&n[1],this.$refs.spinner&&this.$refs.spinner.open(),this.clearTimesheet(),this.form.userId=t,a=this,a.projectList=[],a.rfxList=[],a.userMouProjects=[],e.next=10,a.$store.dispatch("fetchMouProjects",{id:t}).then((function(e){a.userMouProjects=e}));case 10:if(r){e.next=13;break}return e.next=13,this.getTimeSheets();case 13:return this.$refs.spinner&&this.$refs.spinner.close(),e.abrupt("return",a.userMouProjects);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onChangeMou:function(e){var t=this;"undefined"!==typeof this.form.mou&&"undefined"!==typeof this.form.userId&&this.form.mou&&this.form.userId?this.projectList=this.userMouProjects.filter((function(e){return e.mouId===t.form.mou})):this.projectList=[],this.form.is_locked=!1,this.form.project=void 0,this.rfxList=[],this.form.rfx=void 0,e||(this.form.is_locked=!1)},onBatchEntry:function(){this.timesheet.length>1&&(this.timesheet=this.timesheet.filter((function(e){return""!==e.project&&void 0!==e.project})),0===this.timesheet.length&&this.addTimeSheetRow()),this.selectWeeklyProject(),this.onChangeUser(this.form.userId)},onWeekEntry:function(){0!==this.weeklyProjectIndex&&this.timesheet[this.weeklyProjectIndex].deleted&&(this.weeklyProjectIndex=0,this.form.is_locked=!1)},selectWeeklyProject:function(e,t,r){for(var a=this,n=-1,s=0;s<this.timesheet.length;s++)this.timesheet[s].projectRfx!==r||this.timesheet[s].deleted||(n=s);if(-1===n?(this.timesheet=this.timesheet.filter((function(e){return""!==e.projectRfx&&void 0!==e.projectRfx})),this.addTimeSheetRow(),this.weeklyProjectIndex=this.timesheet.length-1,this.form.is_locked=!1):(this.weeklyProjectIndex=n,this.form.is_locked=this.timesheet[this.weeklyProjectIndex].is_locked),this.timesheet[this.weeklyProjectIndex].project=e,this.timesheet[this.weeklyProjectIndex].mou=t,this.timesheet[this.weeklyProjectIndex].projectRfx=r,this.rfxList=[],""!==this.form.project&&void 0!==this.form.project&&this.form.project){var i=this.projectList.find((function(e){return e.id===a.form.project}));i&&(this.rfxList=i.rfxList,this.form.rfx=this.timesheet[this.weeklyProjectIndex].projectRfx)}},onChangeProjectWeeklyEntry:function(){var e=this;if(this.rfxList=[],this.form.rfx=void 0,this.form.project){var t=this.projectList.find((function(t){return t.id===e.form.project}));t&&(this.rfxList=t.rfxList)}},onChangeProjectRfx:function(){this.$refs.spinner&&this.$refs.spinner.open(),this.selectWeeklyProject(this.form.project,this.form.mou,this.form.rfx),this.blankTimesheet=[],this.addTimeSheetRow(!0),this.timesheet[this.weeklyProjectIndex].projectRfx=this.form.rfx,this.$refs.spinner&&this.$refs.spinner.close()},onChangeWeek:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$refs.spinner&&this.$refs.spinner.open(),e.next=3,this.getTimeSheets(!0);case 3:this.$refs.spinner&&this.$refs.spinner.close();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTimeSheets:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],this.clearTimesheet(t),this.form.userId){e.next=4;break}return e.abrupt("return");case 4:return r=this.getDatePart(this.$store.state.timesheetsWeek.startDate),a={startDate:r,userId:this.form.userId},n=this,e.next=9,n.$store.dispatch("fetchTimesheetEntries",a).then((function(){var e=n.$store.state.timesheetEntryData;if(e&&e[0]&&e[0].timesheetEntries){n.timesheet=[];for(var r=0;r<e.length;r++){var a={};a.project=e[r].project.id,a.mou=e[r].mou.id,a.projectRfx=e[r].projectRfx?e[r].projectRfx.id:void 0,a.userId=e[r].userId,a.startDate=e[r].startDate,a.endDate=e[r].endDate,a.deleted=!1,a.id=e[r].id,a.entries=e[r].timesheetEntries,a.is_locked=e[r].is_locked,a.amountBilled=e[r].amountBilled?e[r].amountBilled:0,n.timesheet.push(a)}n.$refs.TimeCalenderWeekly.setCalendarText(),n.$refs.TimeCalenderBatch.setCalendarText(),n.$refs.billableBatchEntry.editMode=!1,n.$refs.nonBillableBatchEntry.editMode=!1,n.editMode=!1,n.form.project&&n.form.mou&&t&&("weekly"===s.activeTab?n.selectWeeklyProject(n.form.project,n.form.mou,n.form.rfx):(n.form.project=void 0,n.form.mou=void 0,s.form.is_locked=!1),n.blankTimesheet=[],n.addTimeSheetRow(!0))}n.form.project&&n.form.mou&&t&&("weekly"===s.activeTab?n.selectWeeklyProject(n.form.project,n.form.mou,n.form.rfx):(n.form.project=void 0,n.form.mou=void 0,s.form.is_locked=!1),n.blankTimesheet=[],n.addTimeSheetRow(!0))}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),editTimeEntries:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.$store.dispatch("fetchTimesheetById",{id:t}).then((function(){var e=r.$store.state.timesheetById;if(a.form.userId=e.userId,r.timesheet[r.weeklyProjectIndex].entries=e.timesheetEntries,r.timesheet[r.weeklyProjectIndex].startDate=e.startDate,r.timesheet[r.weeklyProjectIndex].endDate=e.endDate,r.timesheet[r.weeklyProjectIndex].userId=e.userId,r.timesheet[r.weeklyProjectIndex].mou=e.mou.id,r.timesheet[r.weeklyProjectIndex].project=e.project.id,r.timesheet[r.weeklyProjectIndex].is_locked=e.is_locked,r.timesheet[r.weeklyProjectIndex].amountBilled=e.amountBilled?e.amountBilled:0,r.timesheet[r.weeklyProjectIndex].projectRfx=e.projectRfx?e.projectRfx.id:void 0,r.timesheet[r.weeklyProjectIndex].deleted=!1,r.$store.state.timesheetsWeek.startDate=r.timesheet[r.weeklyProjectIndex].startDate,r.$store.state.timesheetsWeek.endDate=r.timesheet[r.weeklyProjectIndex].endDate,r.$refs.TimeCalenderWeekly.setCalendarText(),r.$refs.TimeCalenderBatch.setCalendarText(),r.form.mou=r.timesheet[r.weeklyProjectIndex].mou,a.onChangeMou(!0),a.form.is_locked=r.timesheet[r.weeklyProjectIndex].is_locked,r.form.project=r.timesheet[r.weeklyProjectIndex].project,r.rfxList=[],r.form.project){var t=r.projectList.find((function(e){return e.id===r.form.project}));t&&(r.rfxList=t.rfxList)}r.form.rfx=r.timesheet[r.weeklyProjectIndex].projectRfx?r.timesheet[r.weeklyProjectIndex].projectRfx:void 0,r.activeTab="weekly",r.editMode=!0,r.$refs.billableBatchEntry.editMode=!0,r.$refs.nonBillableBatchEntry.editMode=!0,a.blankTimesheet=[],a.addTimeSheetRow(!0)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),open:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],r=a.length>1&&void 0!==a[1]?a[1]:null,this.dialog=!0,0!==this.$store.state.users.length){e.next=8;break}return this.$refs.spinner.open(),e.next=7,this.$store.dispatch("fetchUsers");case 7:this.$refs.spinner.close();case 8:if(this.initData(),this.$refs.AddimeRecords.resetValidation(),this.form.userId=this.fetchUser(),!this.form.userId){e.next=16;break}return e.next=14,this.onChangeUser(r||this.form.userId,t);case 14:e.next=17;break;case 16:this.clearTimesheet();case 17:this.$refs.TimeCalenderBatch.disableWeekPicker(t),this.$refs.TimeCalenderWeekly.disableWeekPicker(t),setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0]&&(document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0)}),400);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),closeDialog:function(e){this.dialog=!1,this.$emit("close-timesheet",e)},save:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.AddimeRecords.validate()){e.next=11;break}if(this.$refs.Billable.validate()&&this.$refs.NonBillable.validate()&&this.$refs.AddRevenue.validate()&&this.$refs.AddExpense.validate()){e.next=4;break}return this.$refs.snackbar.displaySnackbarTop("error","Please correct validation errors."),e.abrupt("return");case 4:if("batch"!==this.activeTab){e.next=8;break}if(t=this.timesheet.filter((function(e){return""!==e.project&&void 0!==e.project})),0!==t.length){e.next=8;break}return e.abrupt("return");case 8:this.saveTimesheets(),e.next=12;break;case 11:this.$refs.snackbar.displaySnackbarTop("error","Please correct validation errors.");case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveTimesheets:function(){var e=this,t=this.timesheet.filter((function(e){return""!==e.project&&void 0!==e.project}));t.forEach((function(e){e.entries.forEach((function(e){e.expenseAmount=""==e.expenseAmount?0:e.expenseAmount,e.hoursBillable=""==e.hoursBillable?0:e.hoursBillable,e.hoursUnBillable=""==e.hoursUnBillable?0:e.hoursUnBillable,e.revenueHours=""==e.revenueHours?0:e.revenueHours}))})),this.$refs.spinner.open(),this.$store.dispatch("addBatchTimesheet",t).then((function(){e.$refs.snackbar.displaySnackbar("success","Successfully saved time entries."),e.$refs.spinner.close(),e.closeDialog(!0)}),(function(t){if(e.$refs.spinner.close(),t&&t.response&&t.response.data){var r=t.response.data.error.message;e.$refs.snackbar.displaySnackbarTop("error",r)}else e.$refs.snackbar.displaySnackbarTop("error","Timesheet entry Error")}))},stringToDate:function(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])},getDatePart:function(e){return"string"!==typeof e&&(e=e.format("YYYY-MM-DD")),e=this.stringToDate(e),this.getDateInYYYYMMDD(e)},getDateInYYYYMMDD:function(e){var t="".concat(e.getFullYear()),r="0".concat(e.getMonth()+1);r=r.substr(r.length-2);var a="0".concat(e.getDate());return a=a.substr(a.length-2),"".concat(t,"-").concat(r,"-").concat(a)},clearTimesheet:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(this.form.mou=void 0,this.form.project=void 0,this.form.rfx=void 0,this.form.is_locked=!1),this.clearTimeEntries()},clearTimeEntries:function(){this.timesheet=[],this.addTimeSheetRow(),this.recordTypeWeekly=1,this.recordType=1,this.weeklyProjectIndex=0},addTimeSheetRow:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Date;if(this.$store.state.timesheetsWeek&&this.$store.state.timesheetsWeek.startDate){var r=this.stringToDate(this.$store.state.timesheetsWeek.startDate);t=new Date(r)}for(var a=[],n={},s=0;s<7;s++){var i={entryDate:this.getDateInYYYYMMDD(t),hoursBillable:0,hoursUnBillable:0,commentsBillable:"",commentsUnBillable:"",expenseAmount:0,expenseComment:"",expenseCategory:"",revenueHours:0,revenueComment:""};a.push(i),t.setDate(t.getDate()+1)}n.entries=a,n.id=void 0,n.deleted=!1,n.projectRfx=void 0,n.project=void 0,n.userId=this.form&&this.form.userId?this.form.userId:void 0,n.mou=void 0,n.is_locked=!1,n.amountBilled=0,n.startDate=n.entries[0].entryDate,n.endDate=n.entries[6].entryDate,e?this.blankTimesheet.push(n):this.timesheet.push(n)},ConvertToCSV:function(e){for(var t="object"!==Object(Ii["a"])(e)?JSON.parse(e):e,r="",a=0;a<t.length;a++){var n="";for(var s in t[a])""!=n&&(n+=","),n+=t[a][s];r+="".concat(n,"\r\n")}return r},csvExport:function(e){var t=this,r="data:text/csv;charset=utf-8,";r+=[Object.keys(e[0]).join(",")].concat(Object(rr["a"])(e.map((function(e){return Object.values(e).join(",")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var a=encodeURI(r),n=document.createElement("a");if(window.navigator.msSaveOrOpenBlob){var s=new Blob([a]);window.navigator.msSaveOrOpenBlob(s,"export.csv")}else{n.setAttribute("href",a);var i=new Date,o="",c=this.$store.state.users.find((function(e){return e.id===t.form.userId}));c&&(o=c.contact.fullName);var l="TimeMachine-".concat(this.getDateInYYYYMMDD(i).toString(),"-").concat(o,".csv");n.setAttribute("download",l),n.click()}},exportTimeSheets:function(e,t){var r=this;if(this.form.userId){var a={userId:this.form.userId,startDate:e,endDate:t},n=this.$store.state.users.find((function(e){return e.id===r.form.userId})),s=0;n&&n.contact&&n.contact.hourlyRate&&(s=n.contact.hourlyRate);var i=0;n&&n.contact&&n.contact.revenueRate&&(i=n.contact.revenueRate);var o=this;o.$store.dispatch("fetchTimesheetEntriesByUser",a).then((function(){for(var e=[],t=0;t<o.$store.state.timesheetEntryDatabyUser.length;t++)for(var a=o.$store.state.timesheetEntryDatabyUser[t].timesheetEntries,n=o.$store.state.timesheetEntryDatabyUser[t].project.projectName,c=o.$store.state.timesheetEntryDatabyUser[t].projectRfx.rfxName,l=0;l<a.length;l++){var u=a[l];e.push({Project:n,"Project Rfx":c,Date:u.entryDate,"Billable Hours":u.hoursBillable?u.hoursBillable:0,"Hourly Rate":s,"Billable Comments":u.commentsBillable,"Unbillable Hours":u.hoursUnBillable?u.hoursUnBillable:0,"Unbillable Comments":u.commentsUnBillable,"Expense Amount":u.expenseAmount?u.expenseAmount:0,"Expense Category":u.expenseCategory,"Expense Description":u.expenseComment,"Revenue Hours":u.revenueHours?u.revenueHours:0,"Revenue Rate":i,"Revenue Description":u.revenueComment,Total:parseFloat(u.hoursBillable?u.hoursBillable:0,10)*parseFloat(s,10)+parseFloat(u.hoursUnBillable?u.hoursUnBillable:0,10)*parseFloat(s,10)+parseFloat(u.expenseAmount?u.expenseAmount:0,10)+parseFloat(u.revenueHours?u.revenueHours:0,10)*parseFloat(i,10)})}e.length?r.csvExport(e):r.$refs.snackbar.displaySnackbarTop("info","No Records Found")}))}else this.$refs.snackbar.displaySnackbarTop("error","Please select user.")}}},bo=ho,xo=r("afd9"),yo=Object(x["a"])(bo,Oi,Ri,!1,null,null,null),go=yo.exports;g()(yo,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VCardTitle:Ke["a"],VDialog:ae["a"],VDivider:_["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VRadio:gt["a"],VRadioGroup:jt["a"],VSelect:at["a"],VSystemBar:xo["a"],VTab:Rr["a"],VTabItem:Ir["a"],VTabs:$r["a"]});var jo={data:function(){return{selectedFilter:"Mine",startDateMain:this.$store.state.timesheetsWeek.startDate,endDateMain:this.$store.state.timesheetsWeek.endDate}},components:{TimesheetsCalendar:Si,AddTimeRecord:go},props:{title:String,addTimeRecord:{type:Function,default:function(){}}},methods:{closeTimesheet:function(e){e?(sessionStorage.setItem("selectedStartDate",this.$store.state.timesheetsWeek.startDate),sessionStorage.setItem("selectedEndDate",this.$store.state.timesheetsWeek.endDate),this.$refs.WeekSelection.setCalendarText(),this.$emit("refresh")):(sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$store.state.timesheetsWeek.startDate=this.startDateMain,this.$store.state.timesheetsWeek.endDate=this.endDateMain,this.$refs.WeekSelection.setCalendarText())},newTimeRecord:function(){this.startDateMain=this.$store.state.timesheetsWeek.startDate,this.endDateMain=this.$store.state.timesheetsWeek.endDate,sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$refs.AddTimeRecord.open()}}},ko=jo,Co=(r("740c"),Object(x["a"])(ko,xi,yi,!1,null,null,null)),wo=Co.exports;g()(Co,{VBtn:k["a"],VFlex:ce["a"],VLayout:S["a"],VRadio:gt["a"],VRadioGroup:jt["a"]});var _o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:"",column:""}},[[r("spinner",{ref:"spinner"}),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Timesheet Details")]),r("v-layout",{attrs:{column:"","py-2":""}},[r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("Project Name:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v("\n                        "+e._s(e.$store.state.timesheetById.project.projectName)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("MOU Amount:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v("\n                        "+e._s("$"+e.$store.state.timesheetById.project.mouAmount)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("Currently Billed:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v("\n                        "+e._s("$"+e.$store.state.timesheetById.amountBilled)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("MOU:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(e.$store.state.timesheetById.mou.name))])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("Project RFX:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v("\n                        "+e._s(e.$store.state.timesheetById.projectRfx.rfxName)+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("Date From:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v("\n                        "+e._s(new Date(e.$store.state.timesheetById.startDate).toString().slice(0,15))+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("Date To:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v("\n                        "+e._s(new Date(e.$store.state.timesheetById.endDate).toString().slice(0,15))+"\n                      ")])])],1),r("v-layout",[r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("Last Modified:")])]),r("v-flex",{attrs:{md9:""}},[r("div",{staticClass:"body-1"},[e._v("\n                        "+e._s(new Date(e.$store.state.timesheetById.dateModified).toString().slice(0,15))+"\n                      ")])])],1)],1)],1)],1),r("v-card",[r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Billable Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Hours")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v("Description")])])],1)],1),e._l(e.$store.state.timesheetById.timesheetEntries,(function(t,a){return r("v-layout",{key:"A-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(e.dayValues[a]))])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.hoursBillable))])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.commentsBillable))])])],1)],1)})),r("br"),r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Expense Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Amount")])]),r("v-flex",{attrs:{md3:""}},[r("div",{staticClass:"body-2"},[e._v("Category")])]),r("v-flex",{attrs:{md5:""}},[r("div",{staticClass:"body-2"},[e._v("Description")])])],1)],1),e._l(e.$store.state.timesheetById.timesheetEntries,(function(t,a){return r("v-layout",{key:"B-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(e.dayValues[a]))])]),r("v-flex",{attrs:{md2:"","justify-center":""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.expenseAmount))])]),r("v-flex",{attrs:{md3:"","justify-center":""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.expenseCategory))])]),r("v-flex",{attrs:{md5:"","justify-center":""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.expenseComment))])])],1)],1)})),r("br"),r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("Revenue Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Hours")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v("Description")])])],1)],1),e._l(e.$store.state.timesheetById.timesheetEntries,(function(t,a){return r("v-layout",{key:"C-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(e.dayValues[a]))])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.revenueHours))])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.revenueComment))])])],1)],1)})),r("br"),r("v-card-text",[r("label",{staticClass:"sub-header-large"},[e._v("UnBillable Information")])]),r("v-layout",[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Day")])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-2"},[e._v("Hours")])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-2"},[e._v("Description")])])],1)],1),e._l(e.$store.state.timesheetById.timesheetEntries,(function(t,a){return r("v-layout",{key:"D-"+a},[r("v-flex",{attrs:{"d-flex":"","justify-end":""}},[r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(e.dayValues[a]))])]),r("v-flex",{attrs:{md2:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.hoursUnBillable))])]),r("v-flex",{attrs:{md8:""}},[r("div",{staticClass:"body-1"},[e._v(e._s(t.commentsUnBillable))])])],1)],1)}))],2)]],2)],1)],1)],1)],1)},Po=[],So={components:{Spinner:Qe},props:{id:String},data:function(){return{dayValues:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}},computed:{},methods:{fetchUser:function(){var e=this.$store.state.activeUser.refId,t=this.$store.state.users.find((function(t){return t.referenceId===e}));return t.id},isEnabled:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return!!r},getClientInfo:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],r=t.find((function(t){return t.contactType===e}));return r}},created:function(){}},Oo=So,Ro=(r("6d0b"),Object(x["a"])(Oo,_o,Po,!1,null,null,null)),Io=Ro.exports;g()(Ro,{VCard:te["a"],VCardText:re["b"],VContainer:C["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"]});var $o={components:{TimesheetsToolbar:wo,Spinner:Qe,AddTimeRecord:go,Snackbar:Le,Confirm:se,TimesheetInfoView:Io},props:{title:String,addTimeRecord:{type:Function,default:function(){}}},data:function(){return{startDateMain:this.$store.state.timesheetsWeek.startDate,endDateMain:this.$store.state.timesheetsWeek.endDate,pagination:{sortBy:"name",rowsPerPage:25},selected:[],dialog:!1,search:"",headers:[{text:"Date of Entry",value:"dateModified",align:"left",sortable:!0},{text:"Person",value:"user.contact.fullName",align:"left",sortable:!0},{text:"Proj. Name",value:"project.projectName",sortable:!0},{text:"Hours Accrued",value:"dateModified",sortable:!0},{text:"Actions",value:"is_archived",align:"center",width:"145px",sortable:!1}],timesheets:[],projects:[],expand:!1,rfxExpand:!1}},computed:{projectsRfx:function(){return this.$store.state.projectsRfx},timesheetsList:function(){var e=this,t=this.$store.state.userTimesheets;return this.$refs.timesheetstoolbar&&"All"===this.$refs.timesheetstoolbar.selectedFilter&&(t=this.$store.state.allTimesheets),this.$store.state.timesheetsWeek.startDate&&(t=t.filter((function(t){return t.startDate===e.$store.state.timesheetsWeek.startDate}))),this.search&&(t=t.filter((function(t){return t.project.projectName.toLowerCase().includes(e.search.toLowerCase())}))),t}},methods:{closeDialog:function(){this.dialog=!1},viewRequest:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.$store.dispatch("fetchTimesheetById",{id:t}).then((function(e){r.$store.state.timesheetById=e,r.startDateMain=r.$store.state.timesheetsWeek.startDate,r.endDateMain=r.$store.state.timesheetsWeek.endDate,r.id=t,r.dialog=!0}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),closeTimesheet:function(e){e?this.fetchData():(sessionStorage.setItem("selectedStartDate",this.startDateMain),sessionStorage.setItem("selectedEndDate",this.endDateMain),this.$store.state.timesheetsWeek.startDate=this.startDateMain,this.$store.state.timesheetsWeek.endDate=this.endDateMain)},editTimesheet:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.startDateMain=this.$store.state.timesheetsWeek.startDate,this.endDateMain=this.$store.state.timesheetsWeek.endDate,r=this.timesheetsList.find((function(e){return e.id===t})),sessionStorage.setItem("selectedStartDate",r.startDate),sessionStorage.setItem("selectedEndDate",r.endDate),e.next=7,this.$refs.AddTimeRecord.open(!0,r.user.id);case 7:return this.$refs.spinner&&this.$refs.spinner.open(),e.next=10,this.$refs.AddTimeRecord.editTimeEntries(t);case 10:this.$refs.spinner&&this.$refs.spinner.close();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getFullname:function(e){var t=null;if(null!=e){var r=this.$store.state.users.filter((function(t){return t.id===e}));r.length>0&&(t=r[0].contact.fullName)}return t},fetchData:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.spinner&&this.$refs.spinner.open(),"All"!==this.$refs.timesheetstoolbar.selectedFilter){e.next=7;break}return e.next=4,this.$store.dispatch("fetchAllTimesheets");case 4:this.$store.dispatch("fetchUserTimesheets"),e.next=10;break;case 7:return e.next=9,this.$store.dispatch("fetchUserTimesheets");case 9:this.$store.dispatch("fetchAllTimesheets");case 10:this.$refs.spinner&&this.$refs.spinner.close();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goToProject:function(e){this.$router.push({path:"project/".concat(e)})},deleteTimesheet:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure to delete this record?");case 2:if(!e.sent){e.next=8;break}return e.next=5,this.$store.dispatch("deleteTimesheet",{id:t});case 5:return this.$refs.snackbar.displaySnackbar("success","Successfully deleted the record."),e.next=8,this.fetchData();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),initalfetch:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchAllProjects");case 2:return e.next=4,this.$store.dispatch("fetchUserTimesheets");case 4:return e.next=6,this.$store.dispatch("fetchAllTimesheets");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.initalfetch()}},To=$o,Do=(r("575c"),Object(x["a"])(To,hi,bi,!1,null,null,null)),No=Do.exports;g()(Do,{VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VCardTitle:Ke["a"],VDataTable:Cr["a"],VDialog:ae["a"],VDivider:_["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VTextField:nt["a"],VToolbar:V["a"],VToolbarTitle:A["a"],VTooltip:on["a"]});r("6d40");var Fo={components:{TimesheetsTable:No},data:function(){return{color:$e.a,selectedTab:"tab-1"}},beforeMount:function(){},computed:{}},Vo=Fo,Eo=Object(x["a"])(Vo,pi,vi,!1,null,null,null),Ao=Eo.exports;g()(Eo,{VContainer:C["a"],VFlex:ce["a"],VLayout:S["a"]});var Bo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-subheader",[e._v("Admininistrator Controls")]),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/ministries"}},[e._v("Ministries")])],1),r("v-list-tile-sub-title",[e._v("Add or archive ministries")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("a",{attrs:{href:e.AUTH_URL,target:"_blank"}},[e._v("Keycloak - IAM")])]),r("v-list-tile-sub-title",[e._v("Login to Keycloak - to manage users")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/hourly-rates"}},[e._v("Set hourly rates")])],1),r("v-list-tile-sub-title",[e._v("Set hourly rates for users")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/revenue-rates"}},[e._v("Set revenue rates")])],1),r("v-list-tile-sub-title",[e._v("Set revenue rates for users")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"/admin/financecodes"}},[e._v("Set finance codes")])],1),r("v-list-tile-sub-title",[e._v("Add or remove finance code's of users")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/remove-mou"}},[e._v("Remove MOU")])],1),r("v-list-tile-sub-title",[e._v("Remove MOU's not connected with projects")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/rfx-phase"}},[e._v("Set Rfx Phase")])],1),r("v-list-tile-sub-title",[e._v("Add edit or remove Rfx Phases")])],1)],1),r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-content",[r("v-list-tile-title",[r("router-link",{attrs:{to:"admin/rfx-type"}},[e._v("Set Rfx Type")])],1),r("v-list-tile-sub-title",[e._v("Add edit or remove Rfx Types")])],1)],1)],1)],1)],1)],1)},Mo=[],Lo={data:function(){return{color:$e.a,selectedTab:"tab-1",AUTH_URL:Object(U["b"])()}},beforeMount:function(){}},Uo=Lo,qo=Object(x["a"])(Uo,Bo,Mo,!1,null,null,null),Wo=qo.exports;g()(qo,{VContainer:C["a"],VFlex:ce["a"],VLayout:S["a"],VList:O["a"],VListTile:I["a"],VListTileContent:T["a"],VListTileSubTitle:T["b"],VListTileTitle:T["c"],VSubheader:F["a"]});var Yo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("confirm",{ref:"confirm"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin — Ministries")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",[r("v-flex",{attrs:{"sm-6":""}},[r("v-btn",{on:{click:function(t){return e.createMinistryPrompt()}}},[e._v("Create New Ministry")])],1),r("v-flex",{attrs:{"sm-6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Ministry","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.allMinistries},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{class:{archived:t.item.is_archived}},[e._v(e._s(t.item.ministryName))]),t.item.is_archived?r("td",{on:{click:function(r){return e.archivePrompt(t.item,!1)}}},[r("v-btn",{attrs:{flat:""}},[e._v("Restore")])],1):r("td",{on:{click:function(r){return e.archivePrompt(t.item,!0)}}},[r("v-btn",{attrs:{flat:"",color:"grey"}},[r("v-icon",[e._v("archive")]),e._v("Archive\n            ")],1)],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Create Ministry")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Ministry Name",required:""},model:{value:e.newMinistryName,callback:function(t){e.newMinistryName=t},expression:"newMinistryName"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){return e.createMinistry(e.newMinistryName)}}},[e._v("Save")])],1)],1)],1)],1)},zo=[],Ho={components:{Confirm:se},data:function(){return{headers:[{text:"Ministry",align:"left",value:"ministryName"},Object(l["a"])({text:"Actions",value:"actions"},"value","is_archived")],dialog:!1,newMinistryName:"",search:""}},computed:{allMinistries:function(){var e=this;return this.search?this.$store.state.allMinistries.filter((function(t){return t.ministryName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.allMinistries}},methods:{archivePrompt:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info",r?"Are you sure to archive ".concat(t.ministryName,"?"):"Are you sure you wish to UN-ARCHIVE (i.e. restore) ".concat(t.ministryName,"?"));case 2:if(!e.sent){e.next=7;break}return t.is_archived=r,e.next=6,this.$store.dispatch("updateMinistries",t);case 6:this.$store.dispatch("fetchAllMinistries");case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),createMinistryPrompt:function(){this.dialog=!0},createMinistry:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("addMinistry",{ministryName:t});case 2:this.dialog=!1,this.$store.dispatch("fetchAllMinistries");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.$store.dispatch("fetchAllMinistries")}},Qo=Ho,Jo=(r("a46b"),Object(x["a"])(Qo,Yo,zo,!1,null,null,null)),Go=Jo.exports;g()(Jo,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VCardTitle:Ke["a"],VContainer:C["a"],VDataTable:Cr["a"],VDialog:ae["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VSpacer:N["a"],VTextField:nt["a"]});var Xo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin — Finance Codes")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",[r("v-flex",{attrs:{"sm-6":""}},[r("v-btn",{staticClass:"btn-create",on:{click:function(t){return e.createFinanceCodePrompt()}}},[e._v("Create New")])],1),r("v-flex",{attrs:{"sm-6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Finance Name","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.allFinanceCodes,"rows-per-page-items":[15,30,50,100],pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.financeName))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.clientNo))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.responsibilityCenter))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.serviceCenter))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.stob))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.projectCode))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.editFinanceCodes(t.item.id)}}},n),[r("v-icon",[e._v("edit")])],1)]}}],null,!0)},[r("span",[e._v("Edit")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{disabled:e.checkIsDisabled(t.item.contacts.length),flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteFinanceCode(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-form",{ref:"fincodes",attrs:{id:"add-financecodes"}},[r("v-card-title",[r("span",{staticClass:"headline spanmargin"},[e._v("Finance Codes")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:"","py-2":""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Finance Name"},model:{value:e.financeName,callback:function(t){e.financeName=t},expression:"financeName"}})],1)]),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{rules:[e.rules.clientNoRules],maxlength:"3",label:"Client No. (3 characters)"},model:{value:e.clientNo,callback:function(t){e.clientNo=t},expression:"clientNo"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{rules:[e.rules.responsibilityCenterRules],maxlength:"5",label:"Responsibility Center (5 characters)"},model:{value:e.responsibility,callback:function(t){e.responsibility=t},expression:"responsibility"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{rules:[e.rules.serviceCenterRules],maxlength:"5",label:"Service Center (5 characters)"},model:{value:e.serviceCenter,callback:function(t){e.serviceCenter=t},expression:"serviceCenter"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{rules:[e.rules.stobRules],maxlength:"4",label:"STOB (4 characters)"},model:{value:e.stob,callback:function(t){e.stob=t},expression:"stob"}})],1)]),r("v-flex",{attrs:{xs6:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{rules:[e.rules.projectCodeRules],label:"Project Code (7 characters)",maxlength:"7"},model:{value:e.projectCode,callback:function(t){e.projectCode=t},expression:"projectCode"}})],1)])],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"btnposition",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){return e.closeDialog()}}},[e._v("Close")]),r("v-btn",{staticClass:"btnposition",attrs:{color:"blue darken-1",flat:""},on:{click:e.saveFinanceCodes}},[e._v("Save")])],1)],1)],1)],1)},Zo=[],Ko={components:{Confirm:se,Snackbar:Le},data:function(){var e=this;return{pagination:{rowsPerPage:30},rules:{clientNoRules:function(t){return e.showValidationMessage(t,3)},responsibilityCenterRules:function(t){return e.showValidationMessage(t,5)},serviceCenterRules:function(t){return e.showValidationMessage(t,5)},stobRules:function(t){return e.showValidationMessage(t,4)},projectCodeRules:function(t){return e.showValidationMessage(t,7)}},headers:[{text:"Finance Name",value:"financeName",sortable:!1},{text:"Client Name",value:"clientName",sortable:!1},{text:"Responsibility Center",value:"responsibility",sortable:!1},{text:"Service Center",value:"serviceCenter",sortable:!1},{text:"Stob",value:"stob",sortable:!1},{text:"Project Code",value:"projectCode",sortable:!1},{text:"Action",align:"center",sortable:!1}],dialog:!1,financeName:"",clientNo:"",responsibility:"",serviceCenter:"",stob:"",projectCode:"",search:"",id:""}},computed:{allFinanceCodes:function(){var e=this;return this.search?this.$store.state.allFinanceCodes.filter((function(t){return t.financeName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.allFinanceCodes}},methods:{checkIsDisabled:function(e){return!!e},saveFinanceCodes:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.fincodes.validate()){e.next=10;break}if(t={clientNo:this.clientNo,responsibilityCenter:this.responsibility,serviceCenter:this.serviceCenter,stob:this.stob,projectCode:this.projectCode,financeName:this.financeName},!this.id){e.next=8;break}return t.id=this.id,e.next=6,this.$store.dispatch("updateFinanceCodes",{FinanceCodes:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","FinanceCodes Updated"),r.$store.dispatch("fetchAllFinanceCodes"),r.closeDialog()}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to Add FinanceCodes")}}));case 6:e.next=10;break;case 8:return e.next=10,this.$store.dispatch("addFinanceCodes",{FinanceCodes:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","FinanceCodes Added"),r.$store.dispatch("fetchAllFinanceCodes"),r.closeDialog()}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to Add FinanceCodes")}}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showValidationMessage:function(e,t){return!e||!e.length||e.length===t||"Exactly ".concat(t," characters required")},createFinanceCodePrompt:function(){this.dialog=!0},closeDialog:function(){this.reset(),this.dialog=!1},reset:function(){this.id="",this.financeName="",this.clientNo="",this.responsibility="",this.serviceCenter="",this.stob="",this.projectCode="",this.search=""},editFinanceCodes:function(e){var t=this.$store.state.allFinanceCodes.find((function(t){return t.id==e}));this.clientNo=t.clientNo,this.responsibility=t.responsibilityCenter,this.serviceCenter=t.serviceCenter,this.stob=t.stob,this.projectCode=t.projectCode,this.financeName=t.financeName,this.id=e,this.dialog=!0},deleteFinanceCode:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure to delete this record?");case 2:if(!e.sent){e.next=7;break}return e.next=5,this.$store.dispatch("deleteFinanceCodes",{id:t});case 5:this.$refs.snackbar.displaySnackbar("success","Successfully deleted the record."),this.$store.dispatch("fetchAllFinanceCodes");case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createSTOB:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},created:function(){this.$store.dispatch("fetchAllFinanceCodes")}},ec=Ko,tc=(r("d6b2"),Object(x["a"])(ec,Xo,Zo,!1,null,null,null)),rc=tc.exports;g()(tc,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VCardTitle:Ke["a"],VContainer:C["a"],VDataTable:Cr["a"],VDialog:ae["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VSpacer:N["a"],VTextField:nt["a"],VTooltip:on["a"]});var ac=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin — Hourly Rates")])])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{sm6:"","offset-sm6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search User","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.users,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticStyle:{width:"30%"}},[e._v(e._s(t.item.contact.fullName))]),r("td",{staticStyle:{width:"30%"}},[r("v-edit-dialog",{attrs:{"return-value":t.item.contact.hourlyRate,lazy:""},on:{"update:returnValue":function(r){return e.$set(t.item.contact,"hourlyRate",r)},"update:return-value":function(r){return e.$set(t.item.contact,"hourlyRate",r)},save:function(r){return e.save(t.item.contact)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{label:"Rate","single-line":"",type:"number"},model:{value:t.item.contact.hourlyRate,callback:function(r){e.$set(t.item.contact,"hourlyRate",r)},expression:"props.item.contact.hourlyRate"}})]},proxy:!0}],null,!0)},[e._v("\n              "+e._s(t.item.contact.hourlyRate?"$"+t.item.contact.hourlyRate+"/hr":"n/a - click to set")+"\n              ")])],1),t.item.contact.financeCodes?r("td",[r("v-select",{attrs:{items:e.allFinanceCodes,"item-value":"id","item-text":"financeName"},on:{change:function(r){return e.saveFinanceCode(t.item.contact,t.item.contact.financeCodes.id)}},model:{value:t.item.contact.financeCodes.id,callback:function(r){e.$set(t.item.contact.financeCodes,"id",r)},expression:"props.item.contact.financeCodes.id"}})],1):r("td",[r("v-select",{attrs:{items:e.allFinanceCodes,"item-value":"id","item-text":"financeName"},on:{change:function(r){return e.saveFinanceCode(t.item.contact,t.item.contact.financeCodes)}},model:{value:t.item.contact.financeCodes,callback:function(r){e.$set(t.item.contact,"financeCodes",r)},expression:"props.item.contact.financeCodes"}})],1)]}}])})],1)],1)],1)},nc=[],sc={name:"admin-hourly-rates",components:{Snackbar:Le},data:function(){return{headers:[{text:"Name",value:"contact.fullName"},{text:"Rate",value:"contact.hourlyRate"},{text:"Finance Code",value:"contact.financeCodes.Id"}],search:""}},computed:{allFinanceCodes:function(){return this.$store.state.allFinanceCodes},users:function(){var e=this;return this.search?this.$store.state.users.filter((function(t){return t.contact.fullName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchUsers"),this.$store.dispatch("fetchAllFinanceCodes")},saveFinanceCode:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("updateContactPartial",{id:t.id,financeCodes:r});case 2:this.$store.dispatch("fetchAllFinanceCodes"),this.$refs.snackbar.displaySnackbar("success","Data saved");case 4:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=parseInt(t.hourlyRate,10),r=isNaN(r)?null:r,e.next=4,this.$store.dispatch("updateContactPartial",{id:t.id,hourlyRate:r});case 4:this.$refs.snackbar.displaySnackbar("success","Data saved");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.$refs.snackbar.displaySnackbar("info","Cancelled")},open:function(){},close:function(){}},created:function(){this.fetchData()}},ic=sc,oc=r("7679"),cc=Object(x["a"])(ic,ac,nc,!1,null,null,null),lc=cc.exports;g()(cc,{VContainer:C["a"],VDataTable:Cr["a"],VEditDialog:oc["a"],VFlex:ce["a"],VLayout:S["a"],VSelect:at["a"],VTextField:nt["a"]});var uc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin — Revenue Rates")])])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{sm6:"","offset-sm6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search User","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.users,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[e._v(e._s(t.item.contact.fullName))]),r("td",[r("v-edit-dialog",{attrs:{"return-value":t.item.contact.revenueRate,lazy:""},on:{"update:returnValue":function(r){return e.$set(t.item.contact,"revenueRate",r)},"update:return-value":function(r){return e.$set(t.item.contact,"revenueRate",r)},save:function(r){return e.save(t.item.contact)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{label:"Rate","single-line":"",type:"number"},model:{value:t.item.contact.revenueRate,callback:function(r){e.$set(t.item.contact,"revenueRate",r)},expression:"props.item.contact.revenueRate"}})]},proxy:!0}],null,!0)},[e._v("\n              "+e._s(t.item.contact.revenueRate?"$"+t.item.contact.revenueRate+"/hr":"n/a - click to set")+"\n              ")])],1)]}}])})],1)],1)],1)},dc=[],fc={name:"admin-revenue-rates",components:{Snackbar:Le},data:function(){return{headers:[{text:"Name",value:"contact.fullName"},{text:"Rate",value:"contact.revenueRate"}],search:""}},computed:{users:function(){var e=this;return this.search?this.$store.state.users.filter((function(t){return t.contact.fullName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchUsers")},save:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=parseInt(t.revenueRate,10),r=isNaN(r)?null:r,e.next=4,this.$store.dispatch("updateContactPartial",{id:t.id,revenueRate:r});case 4:this.$refs.snackbar.displaySnackbar("success","Data saved");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.$refs.snackbar.displaySnackbar("info","Cancelled")},open:function(){},close:function(){}},created:function(){this.fetchData()}},mc=fc,pc=Object(x["a"])(mc,uc,dc,!1,null,null,null),vc=pc.exports;g()(pc,{VContainer:C["a"],VDataTable:Cr["a"],VEditDialog:oc["a"],VFlex:ce["a"],VLayout:S["a"],VTextField:nt["a"]});var hc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("snackbar",{ref:"snackbar"}),r("confirm",{ref:"confirm"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin — Remove MOU")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.mouList,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.name))]),r("td",{staticClass:"text-xs-left"},[e.checkdelete(t.item.id)?r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteRequest(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])]):r("span",[e._v("Already Assigned")])],1)]}}])})],1)],1)],1)},bc=[],xc={name:"admin-remove-mou",components:{Snackbar:Le,Confirm:se},data:function(){return{headers:[{text:"MOU",value:"fullName"},{text:"Action",value:""}]}},computed:{mouList:function(){return this.$store.state.mouList}},methods:{checkdelete:function(e){var t=this.$store.state.allProjects.find((function(t){return t.mou&&t.mou.id===e}));return!t},fetchData:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.$store.state.allProjects.length){e.next=3;break}return e.next=3,this.$store.dispatch("fetchAllProjects");case 3:if(0!=this.$store.state.mouList.length){e.next=6;break}return e.next=6,this.$store.dispatch("fetchMOUs");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteRequest:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure you wish to delete this MOU?");case 2:if(!e.sent){e.next=8;break}return e.next=5,this.$store.dispatch("deleteMOUs",{id:t});case 5:return e.next=7,this.$store.dispatch("fetchMOUs");case 7:this.$refs.snackbar.displaySnackbar("success","Deleted.");case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.$refs.snackbar.displaySnackbar("info","Cancelled")},open:function(){},close:function(){}},created:function(){this.fetchData()}},yc=xc,gc=Object(x["a"])(yc,hc,bc,!1,null,null,null),jc=gc.exports;g()(gc,{VBtn:k["a"],VContainer:C["a"],VDataTable:Cr["a"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VTooltip:on["a"]});var kc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin — Rfx-type")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",[r("v-flex",{attrs:{"sm-6":""}},[r("v-btn",{staticClass:"btn-create",on:{click:function(t){return e.createRfxTypePrompt()}}},[e._v("Create New")])],1),r("v-flex",{attrs:{"sm-6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Rfx Type","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.allRfxTypes,"rows-per-page-items":[15,30,50,100],pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.rfxTypeName))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.editRfxTypes(t.item.id)}}},n),[r("v-icon",[e._v("edit")])],1)]}}],null,!0)},[r("span",[e._v("Edit")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteRfxType(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-form",{ref:"rfxPhase"},[r("v-card-title",[r("span",{staticClass:"headline spanmargin"},[e._v("Rfx Type")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:"","py-2":""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Rfx Type"},model:{value:e.rfxTypeName,callback:function(t){e.rfxTypeName=t},expression:"rfxTypeName"}})],1)])],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"btnposition",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){return e.closeDialog()}}},[e._v("Close")]),r("v-btn",{staticClass:"btnposition",attrs:{color:"blue darken-1",flat:""},on:{click:e.saveRfxTypes}},[e._v("Save")])],1)],1)],1)],1)},Cc=[],wc={components:{Confirm:se,Snackbar:Le},data:function(){return{pagination:{rowsPerPage:30},headers:[{text:"Rfx Type",value:"rfxTypeName",sortable:!1},{text:"Action",align:"center",sortable:!1}],dialog:!1,rfxTypeName:"",search:"",id:""}},computed:{allRfxTypes:function(){var e=this;return this.search?this.$store.state.rfxTypes.filter((function(t){return t.rfxTypeName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.rfxTypes}},methods:{checkIsDisabled:function(e){return!!e},saveRfxTypes:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.rfxPhase.validate()){e.next=10;break}if(t={rfxTypeName:this.rfxTypeName},!this.id){e.next=8;break}return t.id=this.id,e.next=6,this.$store.dispatch("updateRfxType",{RfxType:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","Successfully Updated Rfx-type"),r.$store.dispatch("fetchRFxTypes"),r.closeDialog()}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to Add Rfx-type")}}));case 6:e.next=10;break;case 8:return e.next=10,this.$store.dispatch("addRfxType",{RfxType:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","Rfx-type Added Sucessfully"),r.$store.dispatch("fetchRFxTypes"),r.closeDialog()}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to Add Rfx-type")}}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createRfxTypePrompt:function(){this.dialog=!0},closeDialog:function(){this.reset(),this.dialog=!1},reset:function(){this.id="",this.rfxTypeName="",this.search=""},editRfxTypes:function(e){var t=this.$store.state.rfxTypes.find((function(t){return t.id===e}));this.rfxTypeName=t.rfxTypeName,this.id=e,this.dialog=!0},deleteRfxType:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure to delete this record?");case 2:if(!e.sent){e.next=7;break}return e.next=5,this.$store.dispatch("deleteRfxType",{id:t});case 5:r=e.sent,"ERROR"===r?this.$refs.snackbar.displaySnackbar("error","This Rfx Type is already used."):"SUCCESS"===r&&(this.$refs.snackbar.displaySnackbar("success","Successfully deleted the record."),this.$store.dispatch("fetchRFxTypes"));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.$store.dispatch("fetchRFxTypes")}},_c=wc,Pc=(r("a239"),Object(x["a"])(_c,kc,Cc,!1,null,null,null)),Sc=Pc.exports;g()(Pc,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VCardTitle:Ke["a"],VContainer:C["a"],VDataTable:Cr["a"],VDialog:ae["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VSpacer:N["a"],VTextField:nt["a"],VTooltip:on["a"]});var Oc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[r("confirm",{ref:"confirm"}),r("snackbar",{ref:"snackbar"}),r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"projects-header"},[e._v("Admin — Rfx-phase")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",[r("v-flex",{attrs:{"sm-6":""}},[r("v-btn",{staticClass:"btn-create",on:{click:function(t){return e.createRfxPhasePrompt()}}},[e._v("Create New")])],1),r("v-flex",{attrs:{"sm-6":""}},[r("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Search Rfx Phase","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.allRfxPhases,"rows-per-page-items":[15,30,50,100],pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.rfxPhaseName))]),r("td",{staticClass:"text-xs-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.editRfxPhases(t.item.id)}}},n),[r("v-icon",[e._v("edit")])],1)]}}],null,!0)},[r("span",[e._v("Edit")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-btn",e._g({attrs:{flat:"",icon:"",color:"grey"},on:{click:function(r){return e.deleteRfxPhase(t.item.id)}}},n),[r("v-icon",[e._v("delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-form",{ref:"rfxPhase"},[r("v-card-title",[r("span",{staticClass:"headline spanmargin"},[e._v("Rfx Phase")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:"","py-2":""}},[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-container"},[r("v-text-field",{attrs:{label:"Rfx Phase"},model:{value:e.rfxPhaseName,callback:function(t){e.rfxPhaseName=t},expression:"rfxPhaseName"}})],1)])],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"btnposition",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){return e.closeDialog()}}},[e._v("Close")]),r("v-btn",{staticClass:"btnposition",attrs:{color:"blue darken-1",flat:""},on:{click:e.saveRfxPhases}},[e._v("Save")])],1)],1)],1)],1)},Rc=[],Ic={components:{Confirm:se,Snackbar:Le},data:function(){return{pagination:{rowsPerPage:30},headers:[{text:"Rfx Phase",value:"rfxPhaseName",sortable:!1},{text:"Action",align:"center",sortable:!1}],dialog:!1,rfxPhaseName:"",search:"",id:""}},computed:{allRfxPhases:function(){var e=this;return this.search?this.$store.state.rfxPhases.filter((function(t){return t.rfxPhaseName.toLowerCase().includes(e.search.toLowerCase())})):this.$store.state.rfxPhases}},methods:{checkIsDisabled:function(e){return!!e},saveRfxPhases:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.rfxPhase.validate()){e.next=10;break}if(t={rfxPhaseName:this.rfxPhaseName},!this.id){e.next=8;break}return t.id=this.id,e.next=6,this.$store.dispatch("updateRfxPhase",{RfxPhase:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","Successfully Updated Rfx-phase"),r.$store.dispatch("fetchRFxPhases"),r.closeDialog()}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to Add Rfx-phase")}}));case 6:e.next=10;break;case 8:return e.next=10,this.$store.dispatch("addRfxPhase",{RfxPhase:t}).then((function(){r.$refs.snackbar.displaySnackbar("success","Rfx-phase Added Sucessfully"),r.$store.dispatch("fetchRFxPhases"),r.closeDialog()}),(function(e){try{var t=e.response.data.error.message;r.$refs.snackbar.displaySnackbar("error",t)}catch(a){r.$refs.snackbar.displaySnackbar("error","Failed to Add Rfx-phase")}}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createRfxPhasePrompt:function(){this.dialog=!0},closeDialog:function(){this.reset(),this.dialog=!1},reset:function(){this.id="",this.rfxPhaseName="",this.search=""},editRfxPhases:function(e){var t=this.$store.state.rfxPhases.find((function(t){return t.id===e}));this.rfxPhaseName=t.rfxPhaseName,this.id=e,this.dialog=!0},deleteRfxPhase:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure to delete this record?");case 2:if(!e.sent){e.next=7;break}return e.next=5,this.$store.dispatch("deleteRfxPhase",{id:t});case 5:r=e.sent,"ERROR"===r?this.$refs.snackbar.displaySnackbar("error","This Rfx Phase is already used."):"SUCCESS"===r&&(this.$refs.snackbar.displaySnackbar("success","Successfully deleted the record."),this.$store.dispatch("fetchRFxPhases"));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.$store.dispatch("fetchRFxPhases")}},$c=Ic,Tc=(r("86f0"),Object(x["a"])($c,Oc,Rc,!1,null,null,null)),Dc=Tc.exports;g()(Tc,{VBtn:k["a"],VCard:te["a"],VCardActions:re["a"],VCardText:re["b"],VCardTitle:Ke["a"],VContainer:C["a"],VDataTable:Cr["a"],VDialog:ae["a"],VFlex:ce["a"],VForm:tt["a"],VIcon:P["a"],VLayout:S["a"],VSpacer:N["a"],VTextField:nt["a"],VTooltip:on["a"]});var Nc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("div",{staticClass:"unauthorized"},[r("v-form",[r("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("v-layout",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"unauthorized-title"},[e._v("Unauthorized")]),[r("v-expansion-panel",{staticClass:"my-5",attrs:{value:0}},[r("v-expansion-panel-content",[r("v-card",{staticClass:"py-5"},[r("v-card-text",[r("p",[e._v("Sorry, you do not have permission to access this part of the app. You will automatically be logout in "+e._s(e.timeUntilRedirect)+" seconds.")]),r("p",[e._v("Please contact your system or domain administrator if your require access to this part of the application.")])])],1)],1)],1)]],2)],1)],1)],1)],1)])},Fc=[];r("c8de");a["default"].use(ye["a"]);var Vc={$_veeValidate:{validator:"new"},data:function(){return{timeUntilRedirect:5}},mounted:function(){var e=this,t=setInterval((function(){e.timeUntilRedirect--}),1e3);setTimeout((function(){clearInterval(t),console.log("LOGOUT TODO")}),5e3)}},Ec=Vc,Ac=(r("54bb"),Object(x["a"])(Ec,Nc,Fc,!1,null,null,null)),Bc=Ac.exports;g()(Ac,{VCard:te["a"],VCardText:re["b"],VContainer:C["a"],VExpansionPanel:or["a"],VExpansionPanelContent:cr["a"],VFlex:ce["a"],VForm:tt["a"],VLayout:S["a"]}),a["default"].use(L["a"]);var Mc=[{exact:!0,path:"/",name:"main",redirect:"/authorize",meta:{requiresAuth:!0}},{exact:!0,path:"/authorize",name:"authorize",component:ve,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","User","PSB_Intake_User","manage_finances"]}},{exact:!0,path:"/intake-intro",name:"timemachineIntakeIntroduction",component:La,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{exact:!0,path:"/finance",name:"timemachineFinance",component:_n,meta:{requiresAuth:!0,roles:["manage_finances"]}},{exact:!0,path:"/intake",name:"timeMachineIntakeForm",component:Fa,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{path:"/intake/:id",name:"timeMachineIntakeFormDetails",component:Fa,meta:{requiresAuth:!0,roles:["PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/intake-success",name:"TimeMachineIntakeSuccess",component:Js,meta:{requiresAuth:!0,roles:["User","PSB_Admin","PSB_User","PSB_Intake_User"]}},{exact:!0,path:"/intake-requests",name:"timeMachineIntakeRequests",component:qs,meta:{requiresAuth:!0,roles:["PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/projects",name:"timeMachineProjects",component:mi,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/archived",name:"timeMachineProjects",component:mi,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/project",name:"project",component:Dr,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/project/:id",name:"projectDetails",component:Dr,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/timesheets",name:"timeMachineTimesheets",component:Ao,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{path:"/timesheets/:id",name:"timeMachineTimesheetsDetails",component:Ao,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/export",name:"export",component:null,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","PSB_Intake_User"]}},{exact:!0,path:"/admin",name:"admin",component:Wo,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/ministries",name:"admin-ministries",component:Go,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/financecodes",name:"admin-finance-codes",component:rc,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/hourly-rates",name:"admin-hourly-rates",component:lc,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/revenue-rates",name:"admin-revenue-rates",component:vc,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/remove-mou",name:"admin-remove-mou",component:jc,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/rfx-phase",name:"admin-rfx-phase",component:Dc,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/admin/rfx-type",name:"admin-rfx-type",component:Sc,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{path:"/unauthorized",name:"Unauthorized",props:!0,component:Bc}],Lc=new L["a"]({mode:"history",base:"/",routes:Mc});Lc.beforeEach((function(e,t,r){if("/logout"===e.path&&(Lc.push({path:"/"}),H.logout()),e.meta.requiresAuth){var a=q["a"].state.security.auth;if(a.authenticated)e.meta.roles?H.roles(e.meta.roles)?r():r({name:"Unauthorized"}):r();else{var n="authorize"===e.name;H.init(r,e.meta.roles,n)}}else r()}));var Uc=Lc,qc=r("db49"),Wc=r("a925"),Yc=r("8096"),zc=r.n(Yc),Hc=arguments,Qc=window.sessionStorage,Jc={};Jc.i=zc()(),Jc.ls={set:function(e,t){t=JSON.stringify(t),Qc.setItem(e,t)},get:function(e,t){var r=Qc.getItem(e,r);return r=null===r||"undefined"===r||""===r?t:JSON.parse(r),r}},Jc.store=function(e,t){return Hc.length<2?Jc.ls.get(e):Jc.ls.set(e,t)},a["default"].directive("back",(function(e,t){e.onclick=function(){return window.history.go(-1)}}));var Gc=Jc,Xc=["en-US"];a["default"].use(Wc["a"]);var Zc={};Xc.forEach((function(e){Zc[e]=r("a610")("./".concat(e,"/index")).default}));var Kc=new Wc["a"]({locale:Gc.ls.get("locale",qc["a"].locale),silentTranslationWarn:!0,messages:Zc}),el=Kc,tl=function(){var e,t=this,r=t.$createElement,a=t._self._c||r;return a("div",[a("form",{attrs:{action:t.action},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.groupBy?a("v-tabs",{attrs:{grow:"","scroll-bars":"",dark:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("v-tabs-bar",{attrs:{slot:"activators"},slot:"activators"},[t._l(t.group.parents,(function(e,t){return a("v-tabs-item",{key:t,attrs:{href:"tab-"+t,ripple:""}})})),a("v-tabs-slider")],2),t._l(t.group.children,(function(e,r){return a("v-tabs-content",{key:r,attrs:{id:"tab-"+r}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",t._l(e,(function(e,r){return a("v-field",{key:r,attrs:{name:r,field:e},model:{value:t.model[r],callback:function(e){t.$set(t.model,r,e)},expression:"model[name]"}})})),1)],1)],1)}))],2):t._e(),t.groupBy?t._e():a("v-layout",t._b({},"v-layout",(e={},e[t.inline?"row":"column"]=!0,e),!1),[t._l(t.fields,(function(e,r){return a("v-field",{key:r,attrs:{name:r,field:e},model:{value:t.model[r],callback:function(e){t.$set(t.model,r,e)},expression:"model[name]"}})})),a("v-alert",{staticClass:"py-2",attrs:{error:""},model:{value:t.hasError,callback:function(e){t.hasError=e},expression:"hasError"}},t._l(t.errors,(function(e){return a("div",[t._v(" "+t._s(e.message))])})),0),t._t("default"),a("v-flex",{staticClass:"pt-2 actions",attrs:{xs12:""}},[t._t("buttons",[a("v-btn",{staticClass:"ma-0",attrs:{primary:"",dark:"",type:"submit"}},[t._v(t._s(t.$t(t.submitButtonText))),a("v-icon",{attrs:{right:"",dark:""}},[t._v(t._s(t.submitButtonIcon))])],1)])],2)],2)],1)])},rl=[],al=r("c598"),nl=al["a"],sl=r("0798"),il=r("9a96"),ol=Object(x["a"])(nl,tl,rl,!1,null,null,null),cl=ol.exports;g()(ol,{VAlert:sl["a"],VBtn:k["a"],VCard:te["a"],VCardText:re["b"],VFlex:ce["a"],VIcon:P["a"],VLayout:S["a"],VTabs:$r["a"],VTabsSlider:il["a"]});var ll=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",{attrs:{xs12:""}},[["select","select2"].includes(e.field.type)?r("v-select",e._b({attrs:{items:e.field.choices},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"v-select",e.field,!1)):["radios","checkboxes"].indexOf(e.field.type)>-1?[r("p",[e._v(e._s(e.$t(e.field.label)))]),r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.field.choices,(function(t){var a;return r("v-flex",e._b({key:e.field.value,attrs:{xs12:""}},"v-flex",(a={},a[e.field.width]=!0,a),!1),[r("radios"==e.field.type?"v-radio":"v-checkbox",{key:t.value,tag:"component",attrs:{"hide-details":"",value:t.value,label:t.text},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)})),1)]:["date","datetime","time"].indexOf(e.field.type)>-1?[r("v-menu",[r("v-text-field",{attrs:{slot:"activator",label:e.$t(e.field.label)},slot:"activator",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),r("v-date-picker",{attrs:{"no-title":"",scrollable:"",actions:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]:"html"==e.field.type?r("div",{class:e.inputGroupClass},[r("label",[e._v(e._s(e.$t(e.field.label)))]),r("div",{staticClass:"pt-2"},[r("quill-editor",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]):["file","image","video"].includes(e.field.type)?r("div",{class:e.inputGroupClass},[r("label",[e._v(e._s(e.$t(e.field.label)))]),r("div",{staticClass:"pt-2"},[r("dropzone",{attrs:{id:"dropzone_"+e.name,url:e.$store.state.config.ajaxUploadUrl}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"hidden"},domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])],1)]):r("v-text-field",e._b({attrs:{label:e.$t(e.field.label),placeholder:e.$t(e.field.placeholder),type:"text",multiLine:"textarea"==e.field.type},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"v-text-field",e.field,!1))],2)},ul=[],dl={props:{field:{type:Object,required:!0},name:{type:String,required:!1},value:{required:!1}},data:function(){return{inputGroupClass:"input-group input-group--dirty input-group--text-field"}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},fl=dl,ml=Object(x["a"])(fl,ll,ul,!1,null,null,null),pl=ml.exports;g()(ml,{VDatePicker:et["a"],VFlex:ce["a"],VLayout:S["a"],VMenu:rt["a"],VSelect:at["a"],VTextField:nt["a"]});var vl=r("5887"),hl=r.n(vl);a["default"].use(hl.a,{componentPrefix:"vc"}),a["default"].use(s.a),a["default"].filter("formatDate",(function(e){if(e)return c()(String(e)).format("MM/DD/YYYY")})),a["default"].filter("withCommas",(function(e){if(e){var t=e.toString().match(/[^\d,.]+/g,"");if(t)return e;var r=e.toString().replace(/,/g,""),a=(new Intl.NumberFormat).format(r);return a}})),a["default"].component("v-form",cl),a["default"].component("v-field",pl),a["default"].directive("open-on-focus",{bind:function(e){e.addEventListener("focus",(function(e){e.target.click()}),!0)}}),a["default"].config.productionTip=!1;new a["default"]({el:"#app",i18n:el,store:q["a"],router:Uc,render:function(e){return e(M)},mounted:function(){},methods:{back:function(){this.$router.go(-1)}}})},"575c":function(e,t,r){"use strict";var a=r("d69a"),n=r.n(a);n.a},"58eb":function(e,t,r){},"5b12":function(e,t,r){"use strict";var a=r("e6ae"),n=r.n(a);n.a},"5d89":function(e,t,r){"use strict";var a=r("81b4"),n=r.n(a);n.a},6956:function(e,t,r){},"6afe":function(e,t,r){"use strict";var a=r("f9b2"),n=r.n(a);n.a},"6d0b":function(e,t,r){"use strict";var a=r("ade2"),n=r.n(a);n.a},"6d40":function(e,t,r){},"6f86":function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxPhaseName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"]),f=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxTypeName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"]),m=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"rfxType",new f),Object(l["a"])(Object(o["a"])(r),"rfxPhase",new d),Object(l["a"])(Object(o["a"])(r),"rfxName",""),Object(l["a"])(Object(o["a"])(r),"rfxOverview",""),Object(l["a"])(Object(o["a"])(r),"clientResponsibilities",""),Object(l["a"])(Object(o["a"])(r),"psdResponsibilities",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},"6fa9":function(e,t,r){},"71c2":function(e,t,r){},"725a":function(e,t,r){},"72ed":function(e,t,r){"use strict";var a=r("c46a"),n=r.n(a);n.a},7369:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=r("99e3"),f=r("4603"),m=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",null),Object(l["a"])(Object(o["a"])(r),"projectName",""),Object(l["a"])(Object(o["a"])(r),"client",new d["a"]),Object(l["a"])(Object(o["a"])(r),"projectSector",new f["a"]),Object(l["a"])(Object(o["a"])(r),"commodityCode",""),Object(l["a"])(Object(o["a"])(r),"estimatedCompletionDate",""),Object(l["a"])(Object(o["a"])(r),"estimatedContractValue",null),Object(l["a"])(Object(o["a"])(r),"mouAmount",null),Object(l["a"])(Object(o["a"])(r),"description",""),Object(l["a"])(Object(o["a"])(r),"status",""),Object(l["a"])(Object(o["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(r),"dateModified",new Date),Object(l["a"])(Object(o["a"])(r),"contacts",[]),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},"740c":function(e,t,r){"use strict";var a=r("aa12"),n=r.n(a);n.a},"771f":function(e,t,r){},"78b2":function(e,t,r){},"7c7a":function(e,t,r){"use strict";var a=r("bdba"),n=r.n(a);n.a},8174:function(e,t,r){"use strict";r.r(t),t["default"]={Search:"Search","Create ":"Create ",Submit:"Submit",Edit:"Edit",Close:"Close","Field should be unique.":"Field should be unique."}},"81b4":function(e,t,r){},8249:function(e,t,r){"use strict";var a=r("d079"),n=r.n(a);n.a},8388:function(e,t,r){"use strict";var a=r("78b2"),n=r.n(a);n.a},8699:function(e,t,r){e.exports=r.p+"img/dashboard.97138a0a.svg"},"86f0":function(e,t,r){"use strict";var a=r("505e"),n=r.n(a);n.a},"8d1e":function(e,t,r){"use strict";var a=r("d810"),n=r.n(a);n.a},"8fd5":function(e,t,r){},9801:function(e,t,r){},"99e3":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=r("aae1"),f=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"clientNo",null),Object(l["a"])(Object(o["a"])(r),"responsibilityCenter",null),Object(l["a"])(Object(o["a"])(r),"serviceCenter",null),Object(l["a"])(Object(o["a"])(r),"stob",null),Object(l["a"])(Object(o["a"])(r),"projectCode",null),Object(l["a"])(Object(o["a"])(r),"ministry",new d["a"]),Object(l["a"])(Object(o["a"])(r),"orgDivision",""),Object(l["a"])(Object(o["a"])(r),"email",""),Object(l["a"])(Object(o["a"])(r),"addressLine1",""),Object(l["a"])(Object(o["a"])(r),"addressLine2",""),Object(l["a"])(Object(o["a"])(r),"city",""),Object(l["a"])(Object(o["a"])(r),"province",""),Object(l["a"])(Object(o["a"])(r),"country",""),Object(l["a"])(Object(o["a"])(r),"postalCode",""),Object(l["a"])(Object(o["a"])(r),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(r),"dateModified",new Date),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},"9a1c":function(e,t,r){"use strict";var a=r("9da9"),n=r.n(a);n.a},"9da9":function(e,t,r){},a144:function(e,t,r){},a239:function(e,t,r){"use strict";var a=r("c3bc"),n=r.n(a);n.a},a305:function(e,t,r){},a46b:function(e,t,r){"use strict";var a=r("c723"),n=r.n(a);n.a},a599:function(e,t,r){},a610:function(e,t,r){var a={"./en-US/index":"8174"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="a610"},a616:function(e,t,r){e.exports=r.p+"img/ministryinfo.b197131b.svg"},aa12:function(e,t,r){},aae1:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r("d225"),n=r("b0b4"),s=r("308d"),i=r("6bb5"),o=r("013f"),c=r("4e2b"),l=r("bd86"),u=r("e8d8"),d=function(e){function t(){var e,r;Object(a["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return r=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(r),"id",""),Object(l["a"])(Object(o["a"])(r),"ministryName",""),r}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,r){return e&&(r=r||new t,u["a"].setProperties(e,r)),r}}]),t}(u["a"])},ab08:function(e,t,r){"use strict";r.d(t,"b",(function(){return a}));var a=function(e,t,r){if(!Object.prototype.hasOwnProperty.call(e,"href"))return!0;var a=t.options.routes;if(a instanceof Array){var n=a.filter((function(e){return!!Object.prototype.hasOwnProperty.call(e,"meta")&&!0===e.meta.requiresAuth})),s=n.filter((function(t){return t.meta.roles instanceof Array&&(!!t.exact&&t.path===e.href)})),i=s instanceof Array&&s.length>0?s[0]:void 0;if(void 0===i)return!0;for(var o=!1,c=0;c<i.meta.roles.length;c++)if(r.hasRealmRole&&r.hasRealmRole(i.meta.roles[c])){o=!0;break}return o}return!1},n=[{header:""},{href:"/intake-intro",title:"New Intake Request",icon:"post_add "},{href:"/intake-requests",title:"Intake Requests",icon:"inbox"},{href:"/projects",title:"Projects",icon:"folder"},{href:"/timesheets",title:"Timesheets",icon:"timelapse"},{href:"/finance",title:"Finance",icon:"attach_money"},{divider:!0},{href:"/admin",title:"Admin",icon:"lock_open"},{header:"System"},{href:"/logout",title:"Logout",icon:"exit_to_app"}];t["a"]=n},ade2:function(e,t,r){},b0fb:function(e,t,r){},b65b:function(e,t,r){},ba94:function(e,t,r){},bdba:function(e,t,r){},c0df:function(e,t,r){"use strict";var a=r("cd26"),n=r.n(a);n.a},c3bc:function(e,t,r){},c46a:function(e,t,r){},c598:function(e,t,r){"use strict";(function(e){t["a"]={props:{inline:{type:Boolean,default:!1},groupBy:{required:!1,type:String,default:null},action:{required:!1,type:String,default:null},submitButtonText:{required:!1,type:String,default:"Submit"},submitButtonIcon:{required:!1,type:String,default:"send"},method:{required:!1,type:String,default:"post"},value:{required:!1,type:Object,default:function(){}},fields:{required:!0,type:Object},rules:{required:!1,type:Object,default:function(){}},messages:{required:!1,type:Object,default:function(){}}},data:function(){return{model:this.value,hasError:!1,errors:[],message:""}},computed:{group:function(){if(!this.groupBy)return null;var e={},t={};for(var r in this.fields){var a=this.fields[r],n=a[this.groupBy],s=a.id;null===n?e[s]=a:(t[n]||(t[n]={}),t[n][r]=a)}return{parents:e,children:t}},autoSubmit:function(){return!!this.action}},watch:{value:function(e){this.model=e},model:"updateFields"},methods:{getGroupedFields:function(){},getFieldError:function(e){for(var t in this.errors){var r=this.errors[t];if(r.field===e)return r.message}},updateFields:function(){},onSubmit:function(){var t=this,r=e.validator.make(this.model,this.rules,this.messages);if(r.passes()){if(this.$emit("input",this.model),!this.autoSubmit)return this.$emit("submit"),!1;this.$http[this.method](this.action,this.model).then((function(e){var r=e.data;t.$emit("success",r),t.hasError=!1})).catch((function(e){var r=e.response,a=r.status,n=r.data;switch(t.hasError=!0,n.message&&(t.errors=[n]),a){case 422:t.errors=n;break;default:}t.$emit("error",a,n)}))}else{var a=r.getErrors();this.hasError=!0,this.errors=a,this.$emit("error",a)}}},mounted:function(){},created:function(){}}}).call(this,r("c8ba"))},c723:function(e,t,r){},c8de:function(e,t,r){},c911:function(e,t,r){},cb06:function(e,t,r){"use strict";var a=r("8fd5"),n=r.n(a);n.a},cb87:function(e,t,r){"use strict";var a=r("ce29"),n=r.n(a);n.a},cd26:function(e,t,r){},ce29:function(e,t,r){},d079:function(e,t,r){},d69a:function(e,t,r){},d6b2:function(e,t,r){"use strict";var a=r("1190"),n=r.n(a);n.a},d74a:function(e,t,r){},d810:function(e,t,r){},db49:function(e,t,r){"use strict";(function(e){var r="http://localhost:3333",a={locale:"en-US",url:r,ajaxUploadUrl:"".concat(r,"/admin/api/upload"),debug:{mock:!0,http:!1},api:"".concat(r,"/admin/api")};e.config=a,t["a"]=a}).call(this,r("c8ba"))},dbfe:function(e,t,r){"use strict";var a=r("1ed5"),n=r.n(a);n.a},dccd:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("ac6a"),r("456d");var a=r("d225"),n=r("b0b4"),s=function(){function e(t){var r;if(Object(a["a"])(this,e),t=t||null,this.length=0,this.items={},null!==t)for(r in t)t.hasOwnProperty(r)&&(this.items[r]=t[r],this.length++);return this}return Object(n["a"])(e,[{key:"setItem",value:function(e,t){var r;return this.hasItem(e)?r=this.items[e]:this.length++,this.items[e]=t,r}},{key:"getItem",value:function(e){return this.hasItem(e)?this.items[e]:void 0}},{key:"hasItem",value:function(e){return this.items.hasOwnProperty(e)}},{key:"removeItem",value:function(e){var t;if(this.hasItem(e))return t=this.items[e],this.length--,delete this.items[e],t}},{key:"keys",value:function(){var e,t=[];for(e in this.items)this.hasItem(e)&&t.push(e);return t}},{key:"values",value:function(){var e,t=[];for(e in this.items)this.hasItem(e)&&t.push(this.items[e]);return t}},{key:"each",value:function(e){var t;for(t in this.items)this.hasItem(t)&&e(t,this.items[t])}},{key:"clear",value:function(){this.items={},this.length=0}},{key:"has",value:function(e){return this.hasItem(e)}},{key:"get",value:function(e){return this.getItem(e)}},{key:"set",value:function(e,t){return this.setItem(e,t),this}},{key:"remove",value:function(e){return void 0!==this.removeItem(e)&&this}},{key:"count",value:function(){return Object.keys(this.items).length}}]),e}()},e3dbf:function(e,t,r){},e63d:function(e,t,r){},e641:function(e,t,r){"use strict";var a="SECURITY_AUTH",n={authLogin:function(e,t){var r=e.commit;r(a,t)},authLogout:function(e){var t=e.commit;t(a)}},s=r("bd86"),i=Object(s["a"])({},a,(function(e){return e.auth})),o=Object(s["a"])({},a,(function(e,t){t?(e.auth=t,sessionStorage.setItem("keycloak_token",t.token),localStorage.setItem("keycloak_user",JSON.stringify(t.idTokenParsed))):sessionStorage.removeItem("keycloak_token")})),c={auth:{authenticated:!1}};t["a"]={state:c,actions:n,getters:i,mutations:o}},e6ae:function(e,t,r){},e777:function(e,t,r){},e8d8:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("ac6a"),r("456d");var a=r("d225"),n=r("b0b4"),s=function(){function e(){Object(a["a"])(this,e)}return Object(n["a"])(e,null,[{key:"setProperties",value:function(e,t){var r=Object.keys(e);r.forEach((function(r){Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}))}}]),e}()},e93e:function(e,t,r){},ea3a:function(e,t,r){},ef3c:function(e,t,r){"use strict";(function(e){r("8e6e"),r("ac6a"),r("456d");var a=r("bd86"),n=(r("673e"),r("7f7f"),r("96cf"),r("3b8d")),s=r("2f62"),i=r("ab08"),o=(r("a144"),r("0116"));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t["a"]={name:"App",methods:{changeLocale:function(t){e.helper.ls.set("locale",t),this.$i18n.locale=t},toggleMenuStyle:function(){this.mini=!this.mini,this.$store.state.collapseNavigationBar=!1},loadDefaultMenuStyle:function(){this.$store.state.collapseNavigationBar&&(this.mini=this.$store.state.collapseNavigationBar)},shouldDisplayMenuItem:function(e){return Object(i["b"])(e,this.$router,this.$store.getters.SECURITY_AUTH)},fetchInitialData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("fetchintakeRiskQuestions"),this.$store.dispatch("fetchMinistries"),this.$store.dispatch("fetchRFxPhases"),this.$store.dispatch("fetchRFxTypes"),this.$store.dispatch("fetchProjectSectors"),this.$store.dispatch("fetchProjectIntakeCategory"),this.$store.dispatch("fetchProjectIntakeServices"),this.$store.dispatch("fetchUsers"),this.$store.dispatch("fetchMOUs"),this.initialLoadDone=!0,this.userName=JSON.parse(localStorage.getItem("keycloak_user")).name,this.$store.state.activeUser.refId=JSON.parse(localStorage.getItem("keycloak_user")).sub,this.$store.state.activeRoles.role=Object(o["c"])();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.$store.state.collapseNavigationBar=!1},data:function(){return{dark:!1,theme:"primary",mini:!1,drawer:!0,locales:["en-US"],colors:["blue","green","purple","red"],isLoggedIn:this.$store.state.isLoggedIn,isToolbarHide:"login"===this.$router.currentRoute.name||"register"===this.$router.currentRoute.name,initialLoadDone:!1,userName:""}},computed:l({},Object(s["b"])(["message","menu","pageTitle"]),{fetchToken:function(){return this.$store.getters.SECURITY_AUTH.token}}),watch:{$route:function(e){this.isToolbarHide="login"===e.name||"register"===e.name,this.$store.state.collapseNavigationBar=!1},fetchToken:function(e,t){var r=this;console.log("fetchToken",{newValue:e,oldValue:t}),e!==t&&this.$store.dispatch("verifyTokenServer").then((function(){r.initialLoadDone||r.fetchInitialData()}))}}}}).call(this,r("c8ba"))},efc5:function(e,t,r){"use strict";var a=r("e93e"),n=r.n(a);n.a},f32b:function(e,t,r){"use strict";var a=r("08e0"),n=r.n(a);n.a},f82a:function(e,t,r){},f9b2:function(e,t,r){},fb94:function(e,t,r){},fce1:function(e,t,r){}});
//# sourceMappingURL=app.0876d5d8.js.map