(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"014b7":function(e,t,a){"use strict";var r=a("ba94"),n=a.n(r);n.a},"0b70":function(e,t,a){},1190:function(e,t,a){},2060:function(e,t,a){},"2a68":function(e,t,a){e.exports=a.p+"img/projectinfo.08b25936.svg"},"3d84":function(e,t,a){},4360:function(e,t,a){"use strict";(function(e){a("7514"),a("96cf");var r=a("3b8d"),n=(a("a481"),a("ac6a"),a("75fc")),s=a("2b0e"),i=a("2f62"),o=a("d456"),c=a.n(o),l=a("ab08"),u=a("db49"),d=a("e641"),f=a("4712"),m=a("c1df"),p=a.n(m),h=a("7369"),v=a("dccd"),b="https://bcgov.github.io/Project-and-time-tracker/";if(s["a"].use(i["a"]),"undefined"===typeof d["a"])throw new Error("Security cannot be undefined");var j=new i["a"].Store({modules:{security:d["a"]},state:{menuIsOpen:!1,menu:l["a"],config:u["a"],activeUser:{},activeRoles:[],users:[],clients:[],services:[],projectSectors:[],ministries:[],rfxPhases:[],rfxTypes:[],activeIntakeRequestId:null,activeIntakeRequest:{},intakeRequests:[],activeProjectId:null,activeProject:{},activeProjectRfxData:[],activeProjectContacts:[],projects:[],projectsRfx:new v["a"],activeTimesheetEntryRowId:null,activeTimesheetEntryRow:{},timesheets:[],unbilledTimesheets:[],timesheetEntries:[],collapseNavigationBar:!1,projectInformation:!1,ministryInformation:!1,contactInformation:!1,timesheetsWeek:{startDate:null,endDate:null},drawerComments:!1,drawerCommentsEntries:[],verifyTokenServer:null,timeLogOfSelectedDate:null},mutations:{setAuth:function(t,a){var r=a.user,n=a.token;t.user=r,t.token=n,e.helper.ls.set("user",r),e.helper.ls.set("token",n)},setMenu:function(e,t){e.menu=t},setPageTitle:function(e,t){e.pageTitle=t},setFeedbackMessages:function(e,t,a){e.message={type:t,body:a}},setTimesheetsWeek:function(e,t){e.timesheetsWeek={startDate:t.startDate,endDate:t.endDate}},verifyTokenServer:function(e,t){e.verifyTokenServer=t},fetchMinistries:function(e,t){e.ministries=t},fetchRFxPhases:function(e,t){e.rfxPhases=t},fetchRFxTypes:function(e,t){e.rfxTypes=t},fetchProjectSectors:function(e,t){e.projectSectors=t,e.services=t},fetchProjectRfx:function(e,t){e.projectsRfx.set(t.projectId,t.content)},fetchClients:function(e,t){e.clients=t},fetchClient:function(){},addClient:function(){throw new Error("Not implemented!")},updateClient:function(){throw new Error("Not implemented!")},deleteClient:function(){throw new Error("Not implemented!")},fetchContacts:function(e,t){e.contacts=t},addContact:function(){throw new Error("Not implemented!")},updateContact:function(){throw new Error("Not implemented!")},deleteContact:function(){throw new Error("Not implemented!")},fetchUsers:function(e,t){e.users=t},addUser:function(){throw new Error("Not implemented!")},updateUser:function(){throw new Error("Not implemented!")},deleteUser:function(){throw new Error("Not implemented!")},fetchIntakeRequests:function(e,t){s["a"].set(e,"intakeRequests",Object(n["a"])(t))},fetchIntakeRequest:function(e,t){e.activeIntakeRequest=h["a"].constructFromObject(t)},clearActiveIntakeRequest:function(e,t){e.activeIntakeRequest=t},addIntakeRequest:function(e,t){e.activeIntakeRequest=h["a"].constructFromObject(t)},updateIntakeRequest:function(){throw new Error("Not implemented!")},deleteIntakeRequest:function(){throw new Error("Not implemented!")},approveIntakeRequest:function(){throw new Error("Not implemented!")},assignContactToIntakeRequest:function(){throw new Error("Not implemented!")},fetchProjects:function(e,t){t instanceof Array&&t.forEach((function(t){t.projectLeadUserId=t.leadUserId,t.projectBackupUserId=t.backupUserId;var a=e.projects.filter((function(e){return e.id===t.id}))||[];if(a.length>0){var r=e.projects.indexOf(a[0]);e.projects[r]=c()(e.projects[r],t)}else e.projects.push(t)}))},fetchProject:function(e,t){e.activeProject=t},addProject:function(){throw new Error("Not implemented!")},updateProject:function(){},deleteProject:function(){throw new Error("Not implemented!")},assignResourceToProject:function(){throw new Error("Not implemented!")},assignContactToProject:function(){throw new Error("Not implemented!")},assignProjectLead:function(){},assignProjectBackup:function(){},fetchProjectContacts:function(e,t){e.activeProjectContacts=t},updateProjectContacts:function(){},updateProjectFinanceCodes:function(){},fetchProjectRFxData:function(e,t){e.activeProjectRfxData=t},addProjectRFxData:function(){},updateProjectRFxData:function(){},fetchTimesheets:function(e,t){var a=t.data,r=t.replace;a instanceof Array&&(!0===r?e.timesheets=a:a.forEach((function(t){var a=e.timesheets.filter((function(e){return e.id===t.id}))||[];if(a.length>0){var r=e.timesheets.indexOf(a[0]);e.timesheets[r]=c()(e.timesheets[r],t)}else e.timesheets.push(t)})))},getTimeLogOfSelectedDate:function(e,t){e.timeLogOfSelectedDate=t},addTimesheet:function(e,t){var a=t,r=e.timesheets.filter((function(e){return e.id===a.id}))||[];if(r.length>0){var n=e.timesheets.indexOf(r[0]);e.timesheets[n]=c()(e.timesheets[n],a)}else e.timesheets.push(a)},updateTimesheet:function(e,t){var a=t,r=e.timesheets.filter((function(e){return e.id===a.id}))||[];if(r.length>0){var n=e.timesheets.indexOf(r[0]);e.timesheets[n]=c()(e.timesheets[n],a)}else e.timesheets.push(a)},deleteTimesheet:function(e,t){var a=e.timesheets.filter((function(e){return e.id!==t.timesheetId}))||[];e.timesheets=a},addTimesheetEntry:function(){throw new Error("Not implemented!")},addWeekTimesheetEntries:function(){throw new Error("Not implemented!")},updateTimesheetEntry:function(){throw new Error("Not implemented!")},updateWeekTimesheetEntries:function(){throw new Error("Not implemented!")},deleteTimesheetEntry:function(){throw new Error("Not implemented!")},deleteWeekTimesheetEntries:function(){throw new Error("Not implemented!")},approveTimesheetEntry:function(){throw new Error("Not implemented!")},approveWeekTimesheetEntries:function(){throw new Error("Not implemented!")},addTimesheetEntryComment:function(){throw new Error("Not implemented!")},updateTimesheetEntryComment:function(){throw new Error("Not implemented!")},deleteTimesheetEntryComment:function(){throw new Error("Not implemented!")}},actions:{checkAuth:function(t){var a={user:e.helper.ls.get("user"),token:e.helper.ls.get("token")};t.commit("setAuth",a)},setTimesheetsWeek:function(e,t){e.commit("setTimesheetsWeek",{startDate:t.startDate,endDate:t.endDate})},verifyTokenServer:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].get("".concat(b,"/auth/verify")).then((function(e){var a=e.data;return t.commit("verifyTokenServer",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e.response)}));case 2:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchMinistries:function(e){f["a"].get("".concat(b,"/ministry")).then((function(t){var a=t.data;e.commit("fetchMinistries",a)}))},fetchRFxPhases:function(e){f["a"].get("".concat(b,"/rfx-phase")).then((function(t){var a=t.data;e.commit("fetchRFxPhases",a)}))},fetchRfxTypes:function(e){f["a"].get("".concat(b,"/rfx-type")).then((function(t){var a=t.data;e.commit("fetchRfxTypes",a)}))},fetchProjectRfx:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].get("".concat(b,"/project-rfx/").concat(a.id,"/by-project-id")).then((function(e){var r=e.data;return t.commit("fetchProjectRfx",{projectId:a.id,content:r}),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}));case 2:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),fetchRFxTypes:function(e){f["a"].get("".concat(b,"/rfx-type")).then((function(t){var a=t.data;e.commit("fetchRFxTypes",a)}))},fetchProjectSectors:function(e){f["a"].get("".concat(b,"/project-sector")).then((function(t){var a=t.data;e.commit("fetchProjectSectors",a)}))},fetchClients:function(e){f["a"].get("".concat(b,"/client")).then((function(t){var a=t.data;e.commit("fetchClients",a)}))},fetchClient:function(e,t){f["a"].get("".concat(b,"/client/").concat(t.id)).then((function(t){var a=t.data;e.commit("fetchClient",a)}))},addClient:function(e,t){var a=t;f["a"].post("".concat(b,"/client"),a).then((function(t){var a=t.data;e.commit("addClient",a)}))},updateClient:function(e,t){var a=t;f["a"].patch("".concat(b,"/client/").concat(t.id),a).then((function(t){var a=t.data;e.commit("updateClient",a)}))},deleteClient:function(e,t){f["a"].delete("".concat(b,"/client/").concat(t.id)).then((function(t){var a=t.data;e.commit("updateClient",a)}))},addContact:function(e,t){var a=t;f["a"].post("".concat(b,"/contact"),a).then((function(t){var a=t.data;e.commit("addContact",a)}))},updateContact:function(e,t){var a=t;f["a"].patch("".concat(b,"/contact/").concat(t.id),a).then((function(t){var a=t.data;e.commit("updateContact",a)}))},deleteContact:function(e,t){f["a"].delete("".concat(b,"/contact/").concat(t.id)).then((function(t){var a=t.data;e.commit("deleteContact",a)}))},fetchUsers:function(e){f["a"].get("".concat(b,"/user")).then((function(t){var a=t.data;e.commit("fetchUsers",a)}))},addUser:function(e,t){var a=t;f["a"].post("".concat(b,"/user"),a).then((function(t){var a=t.data;e.commit("addUser",a)}))},updateUser:function(e,t){var a=t;f["a"].patch("".concat(b,"/user/").concat(t.id),a).then((function(t){var a=t.data;e.commit("updateUser",a)}))},deleteUser:function(e,t){f["a"].delete("".concat(b,"/user/").concat(t.id)).then((function(t){var a=t.data;e.commit("deleteUser",a)}))},fetchIntakeRequests:function(e){f["a"].get("".concat(b,"/intake")).then((function(t){var a=t.data;a.forEach((function(e){e.projectLeadId=e.leadUserId,e.projectBackupId=e.backupUserId,e.estimatedCompletionDate=p()(String(e.estimatedCompletionDate)).format("YYYY-MM-DD")})),e.commit("fetchIntakeRequests",a)}))},fetchIntakeRequest:function(e,t){f["a"].get("".concat(b,"/intake/").concat(t.id)).then((function(t){var a=t.data;e.commit("fetchIntakeRequest",a)}))},clearActiveIntakeRequest:function(e){e.commit("clearActiveIntakeRequest",new h["a"])},addIntakeRequest:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a,e.next=3,f["a"].post("".concat(b,"/intake"),r).then((function(e){var a=e.data;return t.commit("addIntakeRequest",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),updateIntakeRequest:function(e,t){f["a"].patch("".concat(b,"/intake/").concat(t.id)).then((function(t){var a=t.data;e.commit("updateIntakeRequest",a)}))},deleteIntakeRequest:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f["a"].delete("".concat(b,"/intake/").concat(a.id));case 3:r=e.sent,n=r.data,t.commit("deleteIntakeRequest",n),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,a){return e.apply(this,arguments)}return t}(),approveIntakeRequest:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].post("".concat(b,"/intake/").concat(a.id,"/approve")).then((function(e){var t=e.data;return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}));case 2:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),assignContactToIntakeRequest:function(e,t){f["a"].post("".concat(b,"/intake/").concat(t.id,"/assign-contact")).then((function(t){var a=t.data;e.commit("assignContactToIntakeRequest",a)}))},fetchProjects:function(e){f["a"].get("".concat(b,"/project")).then((function(t){var a=t.data;a=t.data.map((function(e){return e})),e.commit("fetchProjects",a)}))},fetchProject:function(e,t){f["a"].get("".concat(b,"/project/").concat(t.id)).then((function(t){var a=t.data;e.commit("fetchProject",a)}))},addProject:function(e,t){var a=t;f["a"].post("".concat(b,"/project"),a).then((function(t){var a=t.data;e.commit("addProject",a)}))},updateProject:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a,e.next=3,f["a"].patch("".concat(b,"/project/").concat(a.id),r).then((function(e){var a=e.data;return t.commit("updateProject",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deleteProject:function(e,t){f["a"].delete("".concat(b,"/project/").concat(t.id)).then((function(t){var a=t.data;e.commit("deleteProject",a)}))},assignResourceToProject:function(e,t){f["a"].post("".concat(b,"/project/").concat(t.id,"/assign-resource")).then((function(t){var a=t.data;e.commit("deleteProject",a)}))},assignContactToProject:function(e,t){f["a"].post("".concat(b,"/project/").concat(t.id,"/assign-contact")).then((function(t){var a=t.data;e.commit("assignContactToProject",a)}))},assignProjectLead:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={userId:a.userId},e.next=3,f["a"].post("".concat(b,"/project/").concat(a.projectId,"/assign-lead"),r).then((function(e){var a=e.data;return t.commit("assignProjectLead",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),assignProjectBackup:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={userId:a.userId},e.next=3,f["a"].post("".concat(b,"/project/").concat(a.projectId,"/assign-backup"),r).then((function(e){var a=e.data;return t.commit("assignProjectBackup",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),fetchProjectContacts:function(e,t){f["a"].get("".concat(b,"/contact/").concat(t.id,"/by-project-id")).then((function(t){var a=t.data;e.commit("fetchProjectContacts",a)}))},updateProjectContacts:function(e,t){var a=t.contacts;f["a"].patch("".concat(b,"/contact/").concat(t.id),a).then((function(t){var a=t.data;e.commit("updateProjectContacts",a)}))},updateProjectFinanceCodes:function(e,t){var a=t.financeCodes;f["a"].patch("".concat(b,"/client/").concat(t.id,"/finance-code"),a).then((function(t){var a=t.data;e.commit("updateProjectFinanceCodes",a)}))},fetchProjectRFxData:function(e,t){f["a"].get("".concat(b,"/project-rfx/").concat(t.id,"/by-project-id")).then((function(t){var a=t.data;e.commit("fetchProjectRFxData",a)}))},addProjectRFxData:function(e,t){var a=t,r=f["a"].post("".concat(b,"/project-rfx"),a).then((function(t){var a=t.data;return e.commit("addProjectRFxData",a),Promise.resolve(t.data)}));return Promise.resolve(r)},updateProjectRFxData:function(e,t){var a=t;f["a"].patch("".concat(b,"/project-rfx/").concat(t.id),a).then((function(t){var a=t.data;e.commit("updateProjectRFxData",a)}))},fetchTimesheets:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=sessionStorage.getItem("selectedStartDate"),n=sessionStorage.getItem("selectedEndDate"),s="projectId=".concat(a.projectId,"&startDate=").concat(r,"&endDate=").concat(n),a.replace=a.replace||!1,e.next=6,f["a"].get("".concat(b,"/timesheet?").concat(s));case 6:return i=e.sent,t.commit("fetchTimesheets",{data:i.data,replace:a.replace}),e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),addLightTimesheet:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a,e.next=3,f["a"].post("".concat(b,"/timesheet/light"),r).then((function(e){var a=e.data;return t.commit("addTimesheet",a),t.commit("setTimesheetsWeek",{startDate:a.startDate,endDate:a.endDate}),Promise.resolve(a)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),getLightTimesheet:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a,e.next=3,f["a"].post("".concat(b,"/timesheet/getLight"),r).then((function(e){var a=e.data;return t.commit("getTimeLogOfSelectedDate",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),addTimesheet:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a,e.next=3,f["a"].post("".concat(b,"/timesheet"),r).then((function(e){var a=e.data;return t.commit("addTimesheet",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),updateTimesheet:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,e.next=3,f["a"].patch("".concat(b,"/timesheet/").concat(a.id),r).then((function(e){var a=e.data;return t.commit("updateTimesheet",a),Promise.resolve(a)})).catch((function(e){return Promise.reject(e.response)}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),deleteTimesheet:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].delete("".concat(b,"/timesheet/").concat(a.id)).then((function(e){var r=e.data;return t.commit("deleteTimesheet",{timesheetId:a.id,content:e.data}),Promise.resolve(r)})).catch((function(e){return Promise.reject(e.response)}));case 2:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),addTimesheetEntry:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a,e.prev=1,e.next=4,f["a"].post("".concat(b,"/timesheet-entry"),r);case 4:n=e.sent,t.commit("addTimesheetEntry",n.data),e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",e.t0);case 11:return e.abrupt("return",Promise.resolve());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,a){return e.apply(this,arguments)}return t}(),addWeekTimesheetEntries:function(e,t){var a=t;f["a"].post("".concat(b,"/timesheet"),a).then((function(t){var a=t.data;e.commit("addWeekTimesheetEntries",a)}))},updateTimesheetEntry:function(e,t){var a=t;f["a"].patch("".concat(b,"/timesheet-entry/").concat(t.id),a).then((function(t){var a=t.data;e.commit("updateTimesheetEntry",a)}))},updateWeekTimesheetEntries:function(e,t){var a=t;f["a"].patch("".concat(b,"/timesheet/").concat(t.id),a).then((function(t){var a=t.data;e.commit("updateWeekTimesheetEntries",a)}))},deleteTimesheetEntry:function(e,t){f["a"].delete("".concat(b,"/timesheet-entry/").concat(t.id)).then((function(t){var a=t.data;e.commit("deleteTimesheetEntry",a)}))},deleteWeekTimesheetEntries:function(e,t){f["a"].delete("".concat(b,"/timesheet/").concat(t.id)).then((function(t){var a=t.data;e.commit("deleteWeekTimesheetEntries",a)}))},approveTimesheetEntry:function(e,t){f["a"].post("".concat(b,"/timesheet-entry/").concat(t.id,"/approve")).then((function(t){var a=t.data;e.commit("approveTimesheetEntry",a)}))},approveWeekTimesheetEntries:function(e,t){f["a"].post("".concat(b,"/timesheet/").concat(t.id)).then((function(t){var a=t.data;e.commit("approveWeekTimesheetEntries",a)}))},addTimesheetEntryComment:function(e,t){var a=t;f["a"].post("".concat(b,"/timesheet-entry/").concat(t.id,"/comment"),a).then((function(t){var a=t.data;e.commit("addTimesheetEntryComment",a)}))},updateTimesheetEntryComment:function(e,t){var a=t;f["a"].patch("".concat(b,"/timesheet-entry/").concat(t.id,"/comment"),a).then((function(t){var a=t.data;e.commit("updateTimesheetEntryComment",a)}))},deleteTimesheetEntryComment:function(e,t){f["a"].delete("".concat(b,"/timesheet-entry/").concat(t.id,"/comment")).then((function(t){var a=t.data;e.commit("deleteTimesheetEntryComment",a)}))}},getters:{getProjectContactByType:function(e){return function(t){return e.activeProjectContacts.find((function(e){return e.contactType===t}))}}}});t["a"]=j}).call(this,a("c8ba"))},4603:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("d225"),n=a("b0b4"),s=a("308d"),i=a("6bb5"),o=a("013f"),c=a("4e2b"),l=a("bd86"),u=a("e8d8"),d=function(e){function t(){var e,a;Object(r["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return a=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(a),"id",""),Object(l["a"])(Object(o["a"])(a),"projectSectorName",""),a}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,u["a"].setProperties(e,a)),a}}]),t}(u["a"])},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="4678"},4712:function(e,t,a){"use strict";var r=a("bc3a"),n=a.n(r),s=n.a.create();s.interceptors.request.use((function(e){return e.headers.get["Content-Type"]="application/json",e.headers.post["Content-Type"]="application/json",e.headers.put["Content-Type"]="application/json",e.headers.patch["Content-Type"]="application/json",e.headers.delete["Content-Type"]="application/json",e.headers.common.Authorization="Bearer ".concat(sessionStorage.getItem("keycloak_token")),e})),t["a"]=s},"4d87":function(e,t,a){e.exports=a.p+"img/logo.6ce21ad0.svg"},"54bb":function(e,t,a){"use strict";var r=a("0b70"),n=a.n(r);n.a},5629:function(e,t,a){e.exports=a.p+"img/contactinfo.8b99e9f9.svg"},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=a("953d"),s=a.n(n),i=a("9483");Object(i["a"])("".concat("https://bcgov.github.io/Project-and-time-tracker/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("d5e8"),a("15f5"),a("d1e7"),a("8e6e"),a("ac6a"),a("456d");var o=a("bd86"),c=a("bb716");a("da64");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={primary:"#003366",background:"#003366",secondary:"#424242",tertiary:"#F0D299",quaternary:"#65799D",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#648C47",warning:"#e6a100",btnPrimary:"#003366",btnSecondary:"#424242",btnTertiary:"#F0D299",btnQuaternary:"#65799D",menuSelected:"#d7eaff",approved:"#1c9900"};r["a"].use(c["a"],{theme:u({},d),options:{customProperties:!0},iconfont:"md"});var f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-navigation-drawer",e._b({attrs:{fixed:"",app:"","mini-variant":e.mini},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},"v-navigation-drawer",e.loadDefaultMenuStyle(),!1),[r("v-btn",{staticClass:"navdraw-mini-expander",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleMenuStyle()}}},[r("v-icon",[e._v(e._s(e.mini?"chevron_right":"chevron_left"))])],1),r("v-list",[e._l(e.menu,(function(t){return[e.shouldDisplayMenuItem(t)?r("div",{key:JSON.stringify(t)},[t.header?r("v-subheader",[e._v("\n            "+e._s(t.header)+"\n          ")]):t.divider?r("v-divider",{key:JSON.stringify(t)}):t.items instanceof Array?r("v-list-group",{key:JSON.stringify(t),attrs:{group:t.group,value:"true"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-tile",{key:JSON.stringify(t),attrs:{to:t.href,title:t.title,disabled:t.disabled,router:"",ripple:""}},[t.icon?r("v-list-tile-action",[r("v-icon",[e._v(e._s(t.icon))])],1):e._e(),r("v-list-tile-content",[r("v-list-tile-title",[e._v(" "+e._s(e.$t(t.title)))])],1),r("v-list-tile-action",[r("v-icon")],1)],1)]},proxy:!0}],null,!0)}):r("v-list-tile",{key:JSON.stringify(t),attrs:{to:t.href,title:t.title,disabled:t.disabled,router:"",ripple:""}},[t.icon?r("v-list-tile-action",[r("v-icon",[e._v(e._s(t.icon))])],1):e._e(),r("v-list-tile-content",[r("v-list-tile-title",[e._v(" "+e._s(e.$t(t.title)))])],1)],1)],1):e._e()]}))],2)],1),e.isToolbarHide?e._e():r("v-toolbar",{staticClass:"app-toolbar",attrs:{app:"",fixed:"",color:"background"}},[r("v-toolbar-side-icon",{attrs:{dark:""},nativeOn:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("v-toolbar-title",{staticClass:"App-toolbar-title"},[r("img",{staticClass:"app-logo",attrs:{src:a("4d87"),alt:"avatar"}})]),r("div",{staticClass:"app-title"},[e._v("Time Machine")]),r("v-spacer"),e.userName?r("div",{staticClass:"user-name"},[e._v("Hi, "+e._s(e.userName))]):e._e()],1),r("v-content",[r("v-container",{attrs:{"pa-0":"",fluid:"","fill-height":""}},[r("v-layout",{attrs:{"justify-center":"","align-top":""}},[r("router-view")],1)],1)],1)],1)},m=[],p=a("ef3c"),h=p["a"],v=a("2877"),b=a("6544"),j=a.n(b),y=a("7496"),x=a("8336"),g=a("a523"),O=a("549c"),k=a("ce7e"),w=a("132d"),C=a("a722"),P=a("8860"),T=a("56b0"),R=a("ba95"),_=a("40fe"),S=a("5d23"),I=a("f774"),D=a("9910"),$=a("e0c7"),N=a("71d9"),E=a("706c"),V=a("2a7f"),F=Object(v["a"])(h,f,m,!1,null,null,null),B=F.exports;j()(F,{VApp:y["a"],VBtn:x["a"],VContainer:g["a"],VContent:O["a"],VDivider:k["a"],VIcon:w["a"],VLayout:C["a"],VList:P["a"],VListGroup:T["a"],VListTile:R["a"],VListTileAction:_["a"],VListTileContent:S["a"],VListTileTitle:S["b"],VNavigationDrawer:I["a"],VSpacer:D["a"],VSubheader:$["a"],VToolbar:N["a"],VToolbarSideIcon:E["a"],VToolbarTitle:V["a"]});a("7f7f");var L=a("8c4f"),q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"page-container custom-dashboard-container",attrs:{"grid-list-xl":"",fluid:""}},[r("confirm",{ref:"confirm"}),r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"mx-0"},[e._v("My Dashboard")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"dummy-dashboard",attrs:{md12:"","px-2":""}},[r("img",{attrs:{src:a("8699")},on:{click:e.goToMockup}})])],1)],1)},A=[],U=(a("96cf"),a("3b8d")),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{style:{zIndex:200},attrs:{id:"Confirm","content-class":"intake-dialog","max-width":"390"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:e.color,dense:"",flat:""}},[a("v-icon",[e._v(e._s(e.icon))]),a("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))])],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}]},[e._v(e._s(e.message))]),a("v-card-actions",{staticClass:"pt-0 clear-margin"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",flat:"flat"},nativeOn:{click:function(t){return e.agree(t)}}},[e._v("Yes")]),a("v-btn",{attrs:{color:"grey",flat:"flat"},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Cancel")])],1)],1)],1)},H=[],Y=(a("725a"),{data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,type:null,color:"primary",icon:null}},methods:{open:function(e,t){var a=this;return this.dialog=!0,"info"===e?(this.title="Confirmation",""===t?this.message="Are you sure to confirm this?":(this.message=t,this.color="primary",this.icon="info")):"danger"===e?(this.title="Delete",this.message="Are you sure you want to delete this record?",this.color="red",this.icon="delete"):"warning"===e&&(this.title="Warning",this.message="Are you sure to delete this?",this.color="primary",this.icon="warning"),new Promise((function(e,t){a.resolve=e,a.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}}),z=Y,W=a("b0af"),J=a("99d9"),K=a("169a"),G=Object(v["a"])(z,M,H,!1,null,null,null),Z=G.exports;j()(G,{VBtn:x["a"],VCard:W["a"],VCardActions:J["a"],VCardText:J["b"],VDialog:K["a"],VIcon:w["a"],VSpacer:D["a"],VToolbar:N["a"],VToolbarTitle:V["a"]});a("b0fb");var Q={components:{Confirm:Z},methods:{goToMockup:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","This is an upcoming feature, Would you like to see an interactive mockup for the upcoming dashboard page?");case 2:if(!e.sent){e.next=4;break}window.open("https://xd.adobe.com/view/cf0b2fe2-65dd-4ecd-4085-bd256d678250-b93a/?fullscreen","_blank");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},X=Q,ee=a("0e8f"),te=Object(v["a"])(X,q,A,!1,null,null,null),ae=te.exports;j()(te,{VContainer:g["a"],VFlex:ee["a"],VLayout:C["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"d-flex":"","align-center":"","justify-center":"",row:"",wrap:""}},[e._v("\n    Authorizing...\n  ")])],1)},ne=[],se={data:function(){return{valid:!0}},methods:{}},ie=se,oe=Object(v["a"])(ie,re,ne,!1,null,null,null),ce=oe.exports;j()(oe,{VContainer:g["a"],VLayout:C["a"]});var le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-form"},[r("snackbar",{ref:"snackbar"}),r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:""}},[[r("v-expansion-panel",{staticClass:"mt-3",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("img",{attrs:{src:a("b12f")}}),r("label",{staticClass:"sub-header-large"},[e._v("Project Overview")])])]},proxy:!0}])},[r("v-card",[r("v-card-text",[r("project-base-info",{ref:"projectBaseInfo",attrs:{project:e.project}})],1)],1)],1)],1),r("div",[r("v-tabs",{staticClass:"mt-4"},[r("v-tab",{attrs:{ripple:""}},[e._v("RFx Type and Phase")]),r("v-tab",{attrs:{ripple:""}},[e._v("Project Contacts")]),r("v-tab",{attrs:{ripple:""}},[e._v("Finance Codes")]),r("v-tab",{attrs:{ripple:""}},[e._v("Time Report")]),r("v-tab",{attrs:{ripple:""}},[e._v("Documents")]),r("v-tab-item",[e._l(e.projectRfxData,(function(t,n){return r("v-expansion-panel",{key:t.id,staticClass:"rfx-summary-panel",attrs:{value:0}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("img",{attrs:{src:a("b12f")}}),r("label",{staticClass:"sub-header-large"},[e._v("RFx Type and Phase #"+e._s(n+1))])])]},proxy:!0}],null,!0)},[r("v-card",[r("v-card-text",[r("project-rfx",{attrs:{rfxData:t,project:e.project}})],1)],1)],1)],1)})),r("v-card",[r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","py-3":"","px-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.addNewRFx}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v("Add Another RFx Type\n                          ")],1)],1)],1)])],1)],2),r("v-tab-item",{staticClass:"contacts"},[r("v-card",[r("v-card-text",[r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Client Lead")]),r("project-contact-info",{ref:"projectLead",attrs:{contact:e.projectContactData("clientlead"),contactNameLabel:"Client Lead Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Executive Sponsor")]),r("project-contact-info",{ref:"projectSponsor",attrs:{contact:e.projectContactData("clientsponsor"),contactNameLabel:"Executive Sponsor Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("div",[r("v-checkbox",{staticClass:"v-form-container",attrs:{color:"primary"},scopedSlots:e._u([{key:"label",fn:function(){return[r("h3",[e._v("Additional Contact")])]},proxy:!0}]),model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1),e.enabled?r("project-additional-contact-info",{ref:"projectClient",attrs:{contact:e.projectContactData("clientcontact"),contactNameLabel:"Contact Name",isRequired:!1}}):e._e()],1)],1),r("v-layout",[r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.saveProjectContacts}},[e._v("Save")])],1)],1)])])],1)],1)])],1)],1),r("v-tab-item",[r("v-card",[r("v-card-text",[e.project&&e.project.client?r("project-finance-info",{ref:"projectFinanceInfo",attrs:{financeInfo:e.project.client}}):e._e(),r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.saveFinanceCodes}},[e._v("Save")])],1)],1)])])],1)],1)],1),r("v-tab-item",[r("v-card",[r("v-card-title",[r("span",{staticClass:"title"},[e._v("Coming Soon...")])])],1)],1),r("v-tab-item",[r("v-card",[r("v-card-title",[r("span",{staticClass:"title"},[e._v("Coming Soon...")])])],1)],1)],1)],1)]],2)],1)],1)],1)],1)},ue=[],de=(a("f576"),a("28a5"),a("768b")),fe=a("7bb1"),me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[a("snackbar",{ref:"snackbar"}),a("v-form",{ref:"projectBaseInfo",attrs:{id:"projectBaseInfo","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-flex",{attrs:{md9:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Name"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)]),a("v-flex",{attrs:{md3:""}},[a("div",{staticClass:"v-form-container pl-0"},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Deadline","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.completionDate,callback:function(t){e.$set(e.form,"completionDate",t)},expression:"form.completionDate"}},r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1}},model:{value:e.form.completionDate,callback:function(t){e.$set(e.form,"completionDate",t)},expression:"form.completionDate"}})],1)],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Ministry",readonly:""},model:{value:e.form.client.ministry.ministryName,callback:function(t){e.$set(e.form.client.ministry,"ministryName",t)},expression:"form.client.ministry.ministryName"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Branch",readonly:""},model:{value:e.form.client.orgDivision,callback:function(t){e.$set(e.form.client,"orgDivision",t)},expression:"form.client.orgDivision"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,"prepend-inner-icon":"attach_money",label:"Contract Amount",type:"number",min:0,step:"any",oninput:"validity.valid||(value='');"},model:{value:e.form.contractValue,callback:function(t){e.$set(e.form,"contractValue",t)},expression:"form.contractValue"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{"prepend-inner-icon":"attach_money",label:"MOU Amount",type:"number",min:0,step:"any",oninput:"validity.valid||(value='');"},model:{value:e.form.mouAmount,callback:function(t){e.$set(e.form,"mouAmount",t)},expression:"form.mouAmount"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-select",{staticClass:"required",attrs:{items:e.userList,rules:e.requiredRule,label:"Project Lead","item-value":"id","item-text":"contact.fullName"},nativeOn:{click:function(t){return e.getProjectLead(e.form.leadUserId)}},model:{value:e.form.leadUserId,callback:function(t){e.$set(e.form,"leadUserId",t)},expression:"form.leadUserId"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-select",{attrs:{items:e.userList,label:"Project Backup","item-value":"id","item-text":"contact.fullName"},model:{value:e.form.backupUserId,callback:function(t){e.$set(e.form,"backupUserId",t)},expression:"form.backupUserId"}})],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("v-textarea",{attrs:{name:"project-description",label:"Project Description","no-resize":"",rows:"4",rules:e.requiredRule},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[a("v-flex",{attrs:{"md-12":""}},[a("v-btn",{attrs:{disabled:!e.valid||e.saveProjectLoading,loading:e.saveProjectLoading,color:"primary"},on:{click:e.onSave}},[e._v("Save\n            ")])],1)],1)])])],1)],1)},pe=[],he=(a("3d84"),a("4603")),ve=a("99e3"),be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{top:"",fixed:"","auto-height":"",value:e.open,color:e.color}},[e.haveMultipleErrors?a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.messages,(function(t){return a("v-flex",{key:t.message,attrs:{xs12:"","text-xs-center":"","py-0":""}},[a("v-icon",{attrs:{color:"white"}},[e._v(e._s(e.icon))]),a("span",{staticStyle:{"vertical-align":"text-bottom"}},[e._v(e._s(t.message))])],1)})),1):a("div",[a("v-icon",{staticClass:"snackbar-v-icon",attrs:{color:"white"}},[e._v(e._s(e.icon))]),a("span",{staticStyle:{"vertical-align":"text-bottom"}},[e._v(e._s(e.message))])],1)],1)},je=[],ye=a("5118"),xe={data:function(){return{message:null,open:!1,color:null,icon:null,haveMultipleErrors:!1,messages:[]}},methods:{displaySnackbar:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t,a){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.haveMultipleErrors=!1,"success"===t?(this.color="success",this.icon="check_circle"):"error"===t?(this.color="error",this.icon="error"):"info"===t?(this.color="info",this.icon="info"):"warning"===t&&(this.color="warning",this.icon="warning"),this.open=!0,this.message=a,Object(ye["setTimeout"])((function(){r.open=!1}),3e3);case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),displayMultipleErrorSnackbar:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t,a){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"error"===t&&(this.haveMultipleErrors=!0,this.color="error",this.icon="error",this.messages=a,this.open=!0),Object(ye["setTimeout"])((function(){r.open=!1}),3e3);case 2:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()}},ge=xe,Oe=(a("9a1c"),a("2db4")),ke=Object(v["a"])(ge,be,je,!1,null,null,null),we=ke.exports;function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}j()(ke,{VFlex:ee["a"],VIcon:w["a"],VLayout:C["a"],VSnackbar:Oe["a"]});var Te={components:{Snackbar:we},props:{nextPanel:Function,panelName:String,project:Object},computed:{computedDateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors},userList:function(){return this.$store.state.users}},data:function(){var e=Object.assign({},this.$props.project),t=e.projectSector||null;t||(e.projectSector=new he["a"]);var a=e.client||null;return a||(e.client=new ve["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field is required"}],form:Pe({},e),selectedLeadUser:"",menu1:!1,saveProjectLoading:!1}},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new he["a"])}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(n,"/").concat(s,"/").concat(r)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(s,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},getProjectLead:function(e){this.selectedLeadUser=e},onSave:function(){var e=this,t=this;if(this.$refs.projectBaseInfo.validate()){var a=Object.assign({},this.form);this.saveProjectLoading=!0,this.$store.dispatch("updateProject",a).then((function(){e.saveProjectLoading=!1,t.$store.dispatch("updateProject",a),t.$refs.snackbar.displaySnackbar("success","Updated"),t.$store.dispatch("fetchProjects")}),(function(a){if(e.saveProjectLoading=!1,a&&a.response&&a.response.data&&a.response.data.error){t.form.leadUserId=t.selectedLeadUser;var r=a.response.data.error.message;t.$refs.snackbar.displaySnackbar("error",r)}else t.form.leadUserId=t.selectedLeadUser,t.$refs.snackbar.displaySnackbar("error","Failed to update project.")}))}},fetchData:function(){this.$store.dispatch("fetchUsers")}},created:function(){this.fetchData()}},Re=Te,_e=a("2e4b"),Se=a("4bd4"),Ie=a("e449"),De=a("b56d"),$e=a("2677"),Ne=a("a844"),Ee=Object(v["a"])(Re,me,pe,!1,null,null,null),Ve=Ee.exports;j()(Ee,{VBtn:x["a"],VDatePicker:_e["a"],VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"],VMenu:Ie["a"],VSelect:De["a"],VTextField:$e["a"],VTextarea:Ne["a"]});var Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-form",{ref:"projectContact",attrs:{id:"projectSponsor projectLead","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:e.contactNameLabel},model:{value:e.form.fullName,callback:function(t){e.$set(e.form,"fullName",t)},expression:"form.fullName"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{class:e.inputClass,attrs:{rules:e.emailRules,label:"Email Address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:"Organization"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{class:e.inputClass,attrs:{rules:e.requiredRule,label:"Position Title"},model:{value:e.form.orgPosition,callback:function(t){e.$set(e.form,"orgPosition",t)},expression:"form.orgPosition"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{class:e.inputClass,attrs:{rules:e.phoneRule,label:"Phone Number",mask:"phone"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1)])],1)],1)},Be=[],Le=a("d225"),qe=a("b0b4"),Ae=a("308d"),Ue=a("6bb5"),Me=a("013f"),He=a("4e2b"),Ye=a("e8d8"),ze=function(e){function t(){var e,a;Object(Le["a"])(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return a=Object(Ae["a"])(this,(e=Object(Ue["a"])(t)).call.apply(e,[this].concat(n))),Object(o["a"])(Object(Me["a"])(a),"id",""),Object(o["a"])(Object(Me["a"])(a),"contactType",""),Object(o["a"])(Object(Me["a"])(a),"userId",""),Object(o["a"])(Object(Me["a"])(a),"fullName",""),Object(o["a"])(Object(Me["a"])(a),"orgName",""),Object(o["a"])(Object(Me["a"])(a),"orgPosition",""),Object(o["a"])(Object(Me["a"])(a),"email",""),Object(o["a"])(Object(Me["a"])(a),"phoneNumber",""),Object(o["a"])(Object(Me["a"])(a),"addressLine1",""),Object(o["a"])(Object(Me["a"])(a),"addressLine2",""),Object(o["a"])(Object(Me["a"])(a),"city",""),Object(o["a"])(Object(Me["a"])(a),"province",""),Object(o["a"])(Object(Me["a"])(a),"country",""),Object(o["a"])(Object(Me["a"])(a),"postalCode",""),Object(o["a"])(Object(Me["a"])(a),"dateCreated",new Date),Object(o["a"])(Object(Me["a"])(a),"dateModified",new Date),a}return Object(He["a"])(t,e),Object(qe["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,Ye["a"].setProperties(e,a)),a}}]),t}(Ye["a"]);a("c911");function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ke={components:{},props:{contact:Object,contactNameLabel:String,isRequired:Boolean},data:function(){var e=this,t=Object.assign({},new ze,this.$props.contact);return{valid:!0,requiredRule:this.$props.isRequired?[function(e){return!!e||"This field is required"}]:[],emailPattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,emailRules:this.$props.isRequired?[function(e){return!!e||"This field is required"},function(t){return e.emailPattern.test(t)||"Email must be valid"}]:[function(t){return e.emailPattern.test(t)||"Email must be valid"}],phoneRule:[function(e){return!!e||"This field is required"},function(e){return e.length>=10||"Invalid Phone"}],contactInformation:this.$store.state.contactInformation,form:Je({},t),inputClass:this.$props.isRequired?"required":""}},watch:{valid:function(e){this.$store.state.contactInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(e){this.form=e||new ze}},methods:{onNextClicked:function(){this.$refs.projectContact.validate()?this.$store.state.contactInformation=!0:this.$store.state.contactInformation=!1},reset:function(){this.$refs.projectContact.reset()},Validate:function(){this.$refs.projectContact.validate()}}},Ge=Ke,Ze=Object(v["a"])(Ge,Fe,Be,!1,null,null,null),Qe=Ze.exports;j()(Ze,{VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"],VTextField:$e["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[a("snackbar",{ref:"snackbar"}),a("v-form",{ref:"form",attrs:{id:"project-rfx","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-select",{staticClass:"required",attrs:{items:e.rfxTypes,rules:e.required,label:"RFx Type","item-value":"id","item-text":"rfxTypeName"},model:{value:e.rfxForm.rfxType.id,callback:function(t){e.$set(e.rfxForm.rfxType,"id",t)},expression:"rfxForm.rfxType.id"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-select",{staticClass:"required",attrs:{items:e.rfxPhases,rules:e.required,label:"Current Phase","item-value":"id","item-text":"rfxPhaseName"},model:{value:e.rfxForm.rfxPhase.id,callback:function(t){e.$set(e.rfxForm.rfxPhase,"id",t)},expression:"rfxForm.rfxPhase.id"}})],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("v-textarea",{staticClass:"required",attrs:{name:"rfx-overview",label:"RFx Overview","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.rfxOverview,callback:function(t){e.$set(e.rfxForm,"rfxOverview",t)},expression:"rfxForm.rfxOverview"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-textarea",{staticClass:"required",attrs:{name:"client-responsibilities",label:"Client Responsibilities","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.clientResponsibilities,callback:function(t){e.$set(e.rfxForm,"clientResponsibilities",t)},expression:"rfxForm.clientResponsibilities"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-textarea",{staticClass:"required",attrs:{name:"psd-responsibilities",label:"PSD Responsibilities","no-resize":"",rows:"4",rules:e.required},model:{value:e.rfxForm.psdResponsibilities,callback:function(t){e.$set(e.rfxForm,"psdResponsibilities",t)},expression:"rfxForm.psdResponsibilities"}})],1)]),a("v-flex",{attrs:{xs12:"","px-4":""}},[a("div",{staticClass:"v-form-actions"},[a("v-btn",{staticClass:"ma-0",attrs:{color:"primary",disabled:e.saveRFxBtnLoading,loading:e.saveRFxBtnLoading},on:{click:e.saveRFxForm}},[e._v("Save")])],1)])],1)],1)},et=[];function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rt={props:{rfxData:Object,project:Object},components:{Snackbar:we},data:function(){var e=Object.assign({},this.$props.rfxData);return{required:[function(e){return!!e||"This field is required"}],rfxForm:at({},e),valid:!0,saveRFxBtnLoading:!1}},computed:{rfxTypes:function(){return this.$store.state.rfxTypes},rfxPhases:function(){return this.$store.state.rfxPhases}},methods:{saveRFxForm:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate()&&(t=Object.assign({},this.rfxForm),t.project=this.project,t&&t.project&&t.project.id&&(this.saveRFxBtnLoading=!0,t.id?(this.$store.dispatch("updateProjectRFxData",t),this.$refs.snackbar.displaySnackbar("success","Updated"),this.saveRFxBtnLoading=!1):this.$store.dispatch("addProjectRFxData",t).then((function(e){a.saveRFxBtnLoading=!1,a.$refs.snackbar.displaySnackbar("success","Saved"),e.id&&(a.rfxForm.id=e.id)}))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},nt=rt,st=Object(v["a"])(nt,Xe,et,!1,null,null,null),it=st.exports;j()(st,{VBtn:x["a"],VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"],VSelect:De["a"],VTextarea:Ne["a"]});var ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[a("v-form",{ref:"projectFinance",attrs:{id:"projectFinanceInfo"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"finance-code-block"},[a("h3",{staticClass:"finance-header"},[e._v("\n            Finance Codes\n            "),a("v-tooltip",{staticClass:"finance-tooltip",attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-icon",e._g({staticClass:"finance-code-info"},r),[e._v("info")])]}}])},[a("span",[e._v("\n                Please note:\n                "),a("br"),e._v("To complete the intake form these fields are optional.\n                "),a("br"),e._v("However, a project cannot be assigned without finance codes.\n              ")])])],1)])])]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Client No. (3 digits)",rules:[e.rules.clientNoRules],mask:e.maskClient},model:{value:e.financeInfo.clientNo,callback:function(t){e.$set(e.financeInfo,"clientNo",t)},expression:"financeInfo.clientNo"}})],1)]),a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Responsibility Center (5 digits)",rules:[e.rules.responsibilityCenterRules],mask:e.maskResponsibility},model:{value:e.financeInfo.responsibilityCenter,callback:function(t){e.$set(e.financeInfo,"responsibilityCenter",t)},expression:"financeInfo.responsibilityCenter"}})],1)]),a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Service Center (5 digits)",rules:[e.rules.serviceCenterRules],mask:e.maskService},model:{value:e.financeInfo.serviceCenter,callback:function(t){e.$set(e.financeInfo,"serviceCenter",t)},expression:"financeInfo.serviceCenter"}})],1)]),a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"STOB (4 digits)",rules:[e.rules.stobRules],mask:e.maskStob},model:{value:e.financeInfo.stob,callback:function(t){e.$set(e.financeInfo,"stob",t)},expression:"financeInfo.stob"}})],1)]),a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Project Code (7 digits)",rules:[e.rules.projectCodeRules],mask:e.maskProject},model:{value:e.financeInfo.projectCode,callback:function(t){e.$set(e.financeInfo,"projectCode",t)},expression:"financeInfo.projectCode"}})],1)])],1)],1)},ct=[];a("fce1");function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dt={props:{financeInfo:Object},data:function(){var e=this,t=Object.assign({},this.$props.financeInfo);return{valid:!0,maskClient:"###",maskStob:"####",maskResponsibility:"#####",maskService:"#####",maskProject:"#######",rules:{clientNoRules:function(t){return e.showValidationMessage(t,3)},responsibilityCenterRules:function(t){return e.showValidationMessage(t,5)},serviceCenterRules:function(t){return e.showValidationMessage(t,5)},stobRules:function(t){return e.showValidationMessage(t,4)},projectCodeRules:function(t){return e.showValidationMessage(t,7)}},form:ut({},t)}},watch:{financeInfo:function(e){this.form=e}},methods:{showValidationMessage:function(e,t){return!e||!e.length||e.length===t||"Min ".concat(t," digits required")},validate:function(){return this.$refs.projectFinance.validate()}}},ft=dt,mt=a("3a2f"),pt=Object(v["a"])(ft,ot,ct,!1,null,null,null),ht=pt.exports;j()(pt,{VFlex:ee["a"],VForm:Se["a"],VIcon:w["a"],VLayout:C["a"],VTextField:$e["a"],VTooltip:mt["a"]});var vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-form",{ref:"projectContact",attrs:{id:"clientcontact"}},[a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:e.contactNameLabel},model:{value:e.form.fullName,callback:function(t){e.$set(e.form,"fullName",t)},expression:"form.fullName"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Email Address","error-messages":e.emailError()},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Organization"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Position Title"},model:{value:e.form.orgPosition,callback:function(t){e.$set(e.form,"orgPosition",t)},expression:"form.orgPosition"}})],1)]),a("v-flex",{attrs:{md12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Phone Number","error-messages":e.phoneError(),mask:"phone"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1)])],1)],1)},bt=[];function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xt={components:{},props:{contact:Object,contactNameLabel:String},data:function(){var e=Object.assign({},new ze,this.$props.contact);return{form:yt({},e)}},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)},contact:function(e){this.form=e||new ze}},methods:{emailError:function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return this.form.email&&this.form.email.length>0?e.test(this.form.email)?"":"Email must be valid":""},phoneError:function(){return this.form.phoneNumber&&this.form.phoneNumber.length>0?this.form.phoneNumber.length>=10?"":"Invalid Phone":""},reset:function(){this.$refs.projectContact.reset(),this.form.phoneNumber=""}}},gt=xt,Ot=Object(v["a"])(gt,vt,bt,!1,null,null,null),kt=Ot.exports;j()(Ot,{VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"],VTextField:$e["a"]});var wt=function(e){function t(){var e,a;Object(Le["a"])(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return a=Object(Ae["a"])(this,(e=Object(Ue["a"])(t)).call.apply(e,[this].concat(n))),Object(o["a"])(Object(Me["a"])(a),"id",""),Object(o["a"])(Object(Me["a"])(a),"rfxPhaseName",""),a}return Object(He["a"])(t,e),Object(qe["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,Ye["a"].setProperties(e,a)),a}}]),t}(Ye["a"]),Ct=function(e){function t(){var e,a;Object(Le["a"])(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return a=Object(Ae["a"])(this,(e=Object(Ue["a"])(t)).call.apply(e,[this].concat(n))),Object(o["a"])(Object(Me["a"])(a),"id",""),Object(o["a"])(Object(Me["a"])(a),"rfxTypeName",""),a}return Object(He["a"])(t,e),Object(qe["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,Ye["a"].setProperties(e,a)),a}}]),t}(Ye["a"]),Pt=function(e){function t(){var e,a;Object(Le["a"])(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return a=Object(Ae["a"])(this,(e=Object(Ue["a"])(t)).call.apply(e,[this].concat(n))),Object(o["a"])(Object(Me["a"])(a),"id",""),Object(o["a"])(Object(Me["a"])(a),"rfxType",new Ct),Object(o["a"])(Object(Me["a"])(a),"rfxPhase",new wt),Object(o["a"])(Object(Me["a"])(a),"rfxOverview",""),Object(o["a"])(Object(Me["a"])(a),"clientResponsibilities",""),Object(o["a"])(Object(Me["a"])(a),"psdResponsibilities",""),a}return Object(He["a"])(t,e),Object(qe["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,Ye["a"].setProperties(e,a)),a}}]),t}(Ye["a"]);a("1190");r["a"].use(fe["a"]);var Tt={CLIENT_CONTACT:"clientcontact"},Rt={components:{ProjectBaseInfo:Ve,ProjectContactInfo:Qe,ProjectRfx:it,ProjectFinanceInfo:ht,Snackbar:we,ProjectAdditionalContactInfo:kt},$_veeValidate:{validator:"new"},computed:{project:function(){return this.$store.state.activeProject},projectRfxData:function(){return this.$store.state.activeProjectRfxData}},data:function(){return{rfxData:[new Pt],projectId:"",enabled:!0,initialLoad:!0}},watch:{enabled:function(){this.enabled||this.$refs.projectClient.reset()}},methods:{projectContactData:function(e){var t=this.$store.getters.getProjectContactByType(e);return this.initialLoad&&"clientcontact"===e&&this.$store.state.activeProjectContacts.length>0&&(this.$store.state.activeProjectContacts.length>2?this.enabled=!0:this.enabled=!1,this.initialLoad=!1),t&&t.id?t:new ze},fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;void 0!==t&&(this.projectId=t,this.$store.dispatch("fetchProject",{id:this.projectId}),this.$store.dispatch("fetchProjectRFxData",{id:this.projectId}),this.$store.dispatch("fetchProjectContacts",{id:this.projectId}))},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(n,"/").concat(s,"/").concat(r)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(s,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},addNewRFx:function(){this.projectRfxData.push(new Pt)},saveProjectContacts:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.projectLead.Validate(),this.$refs.projectSponsor.Validate(),t=this.$refs.projectLead.form||void 0,a=this.$refs.projectSponsor.form||void 0,r=this.$refs.projectClient?this.$refs.projectClient.form:void 0,void 0!==r&&(r.contactType=Tt.CLIENT_CONTACT),n=[t,a,r].filter((function(e){return void 0!==e})),!(n instanceof Array&&n.length>0)){e.next=11;break}return e.next=10,this.$store.dispatch("updateProjectContacts",{id:this.projectId,contacts:n});case 10:this.$refs.snackbar.displaySnackbar("success","Saved");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveFinanceCodes:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.projectFinanceInfo.financeInfo||void 0,!this.$refs.projectFinanceInfo.validate()){e.next=5;break}if(!(this.project&&this.project.client&&this.project.client.id)){e.next=5;break}return e.next=5,this.$store.dispatch("updateProjectFinanceCodes",{id:this.project.client.id,financeCodes:t}).then((function(){a.$refs.snackbar.displaySnackbar("success","Updated")}),(function(e){try{var t=e.response.data.error.message;a.$refs.snackbar.displaySnackbar("error",t)}catch(r){a.$refs.snackbar.displaySnackbar("error","Failed to update")}}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){while(this.$store.state.activeProjectContacts.length>0)this.$store.state.activeProjectContacts.pop();this.fetchData()}},_t=Rt,St=a("12b2"),It=a("ac7c"),Dt=a("cd55"),$t=a("49e2"),Nt=a("71a3"),Et=a("c671"),Vt=a("fe57"),Ft=Object(v["a"])(_t,le,ue,!1,null,null,null),Bt=Ft.exports;j()(Ft,{VBtn:x["a"],VCard:W["a"],VCardText:J["b"],VCardTitle:St["a"],VCheckbox:It["a"],VContainer:g["a"],VExpansionPanel:Dt["a"],VExpansionPanelContent:$t["a"],VFlex:ee["a"],VForm:Se["a"],VIcon:w["a"],VLayout:C["a"],VTab:Nt["a"],VTabItem:Et["a"],VTabs:Vt["a"]});var Lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"intake-form"},[r("snackbar",{ref:"snackbar"}),r("spinner",{ref:"spinner"}),r("v-form",[r("v-container",[r("v-layout",[r("v-flex",{attrs:{md12:""}},[r("h1",{staticClass:"intake-form-header"},[e._v("Project Intake Form")]),r("div",{staticClass:"my-3"},[e._v("Complete the intake form to submit your project to the Procurement Services Division.")]),[r("v-expansion-panel",{staticClass:"mt-4",attrs:{expand:""},model:{value:e.panelStates[e.PROJECT_INFO].value,callback:function(t){e.$set(e.panelStates[e.PROJECT_INFO],"value",t)},expression:"panelStates[PROJECT_INFO].value"}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("img",{attrs:{src:a("2a68")}}),r("label",{staticClass:"sub-header-large"},[e._v("Project Information")])])]},proxy:!0}])},[r("v-card",[r("v-card-text",[r("intake-base-info",{ref:"intakeBaseInfo",attrs:{project:e.intakeRequest,nextPanel:e.nextPanel,panelName:e.PROJECT_INFO}})],1)],1)],1)],1),r("v-expansion-panel",{staticClass:"mt-4",attrs:{expand:""},model:{value:e.panelStates[e.CLIENTS_INFO].value,callback:function(t){e.$set(e.panelStates[e.CLIENTS_INFO],"value",t)},expression:"panelStates[CLIENTS_INFO].value"}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("img",{attrs:{src:a("a616")}}),r("label",{staticClass:"sub-header-large"},[e._v("Ministry / Branch Information")])])]},proxy:!0}])},[r("v-card",[r("v-card-text",[r("ministry-branch-info",{ref:"intakeClientInfo",attrs:{ministry:e.intakeRequest.client,nextPanel:e.nextPanel,panelName:e.CLIENTS_INFO}})],1)],1)],1)],1),r("v-expansion-panel",{staticClass:"mt-4",attrs:{expand:""},model:{value:e.panelStates[e.CONTACTS_INFO].value,callback:function(t){e.$set(e.panelStates[e.CONTACTS_INFO],"value",t)},expression:"panelStates[CONTACTS_INFO].value"}},[r("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"primary-heading"},[r("img",{attrs:{src:a("5629")}}),r("label",{staticClass:"sub-header-large"},[e._v("Contact Information")])])]},proxy:!0}])},[r("v-card",[r("v-card-text",[r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Client Lead Contact Information")]),r("project-contact-info",{ref:"projectLead",attrs:{contact:e.getClientInfo(e.CLIENT_LEAD),contactNameLabel:"Client Lead Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("h3",{staticClass:"v-form-container"},[e._v("Executive Sponsor Contact Information")]),r("project-contact-info",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name",isRequired:!0}})],1),r("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[r("div",[r("v-checkbox",{staticClass:"v-form-container",attrs:{color:"primary"},scopedSlots:e._u([{key:"label",fn:function(){return[r("h3",[e._v("Additional Contact")])]},proxy:!0}]),model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1),e.enabled?r("project-additional-contact-info",{ref:"projectContact",attrs:{contact:e.getClientInfo(e.CLIENT_CONTACT),contactNameLabel:"Contact Name",isRequired:!1}}):e._e()],1)],1),r("v-layout",[r("v-flex",{attrs:{xs12:"","py-2":""}},[r("div",{staticClass:"v-form-container"},[r("div",{staticClass:"v-form-actions"},[r("v-flex",{attrs:{md12:"","mt-4":""}},[r("v-btn",{attrs:{color:"default"},on:{click:e.discard}},[e._v("Discard")]),r("v-btn",{attrs:{disabled:!(e.$store.state.projectInformation&&e.$store.state.ministryInformation&&e.$store.state.contactInformation),color:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1)],1)])])],1)],1)])],1)],1)],1)]],2)],1)],1)],1)],1)},qt=[],At=(a("7514"),a("320c")),Ut=a.n(At),Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"custom-project-base-layout",attrs:{row:"",wrap:"","py-2":""}},[a("v-form",{ref:"intakeBaseInfo",attrs:{id:"intake-base-info","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-flex",{attrs:{md7:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Project Name"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)]),a("v-flex",{attrs:{md5:""}},[a("div",{staticClass:"v-form-container pl-0"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({staticClass:"required",attrs:{readonly:"",rules:e.requiredRule,label:"Desired Completion Date","persistent-hint":"","prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.form.estimatedCompletionDate,callback:function(t){e.$set(e.form,"estimatedCompletionDate",t)},expression:"form.estimatedCompletionDate"}},r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString()},on:{input:function(t){e.menu1=!1}},model:{value:e.form.estimatedCompletionDate,callback:function(t){e.$set(e.form,"estimatedCompletionDate",t)},expression:"form.estimatedCompletionDate"}})],1)],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-select",{staticClass:"required",attrs:{items:e.projectSectors,rules:e.requiredRule,label:"Project Sector","item-value":"id","item-text":"projectSectorName"},model:{value:e.form.projectSector.id,callback:function(t){e.$set(e.form.projectSector,"id",t)},expression:"form.projectSector.id"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Commodity Code"},model:{value:e.form.commodityCode,callback:function(t){e.$set(e.form,"commodityCode",t)},expression:"form.commodityCode"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,"prepend-inner-icon":"attach_money",label:"Estimated Value of Contract",type:"number",min:0,step:"any",oninput:"validity.valid||(value='');"},model:{value:e.form.estimatedContractValue,callback:function(t){e.$set(e.form,"estimatedContractValue",t)},expression:"form.estimatedContractValue"}})],1)]),a("v-flex",{attrs:{md6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{"prepend-inner-icon":"attach_money",label:"MOU Amount",type:"number",min:0,step:"any",oninput:"validity.valid||(value='');"},model:{value:e.form.mouAmount,callback:function(t){e.$set(e.form,"mouAmount",t)},expression:"form.mouAmount"}})],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("v-textarea",{staticClass:"required",attrs:{name:"project-description",label:"Project Description","no-resize":"",rules:e.requiredRule},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[a("v-flex",{attrs:{"md-12":"","mt-4":""}},[a("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("Next")])],1)],1)])])],1)],1)},Ht=[];a("a599");function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wt={components:{},props:{nextPanel:Function,panelName:String,project:Object},computed:{computedDateFormatted:function(){return this.formatDate(this.date)},projectSectors:function(){return this.$store.state.projectSectors}},data:function(){var e=Object.assign({},this.$props.project),t=e.projectSector||null;t||(e.projectSector=new he["a"]);var a=e.client||null;return a||(e.client=new ve["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field required"}],form:zt({},e),menu1:!1,dateFormatted:void 0,projectInformation:this.$store.state.projectInformation}},watch:{valid:function(e){this.$store.state.projectInformation=e},date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new he["a"])}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(n,"/").concat(s,"/").concat(r)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(s,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},onNextClicked:function(){this.$refs.intakeBaseInfo.validate()&&(this.nextPanel(this.panelName),this.$store.state.projectInformation=!0)},reset:function(){this.$refs.intakeBaseInfo.reset()},submitForm:function(){var e=this.form;this.$store.dispatch("addIntakeRequest",e)}}},Jt=Wt,Kt=Object(v["a"])(Jt,Mt,Ht,!1,null,null,null),Gt=Kt.exports;j()(Kt,{VBtn:x["a"],VDatePicker:_e["a"],VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"],VMenu:Ie["a"],VSelect:De["a"],VTextField:$e["a"],VTextarea:Ne["a"]});var Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:"","py-2":""}},[a("v-form",{ref:"intakeClientInfo",attrs:{id:"intake-client-info","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-flex",{attrs:{sm6:""}},[a("div",{staticClass:"v-form-container"},[a("v-select",{staticClass:"required",attrs:{items:e.ministries,label:"Ministry",rules:e.requiredRule,"item-value":"id","item-text":"ministryName"},model:{value:e.form.ministry.id,callback:function(t){e.$set(e.form.ministry,"id",t)},expression:"form.ministry.id"}})],1)]),a("v-flex",{attrs:{sm6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{label:"Branch",rules:e.requiredRule},model:{value:e.form.orgDivision,callback:function(t){e.$set(e.form,"orgDivision",t)},expression:"form.orgDivision"}})],1)]),a("v-flex",{attrs:{xs12:""}},[a("generic-contact-info",{attrs:{contact:e.form}})],1),a("v-flex",{attrs:{xs12:"","pt-2":""}},[a("project-finance-info",{attrs:{financeInfo:e.form}})],1),a("v-flex",{attrs:{xs12:"","py-2":""}},[a("div",{staticClass:"v-form-container"},[a("div",{staticClass:"v-form-actions"},[a("v-flex",{attrs:{"md-12":"","mt-4":""}},[a("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.onNextClicked}},[e._v("\n              Next\n            ")])],1)],1)])])],1)],1)},Qt=[],Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Address Line 1"},model:{value:e.contact.addressLine1,callback:function(t){e.$set(e.contact,"addressLine1",t)},expression:"contact.addressLine1"}})],1)]),a("v-flex",{attrs:{sm12:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{attrs:{label:"Address Line 2"},model:{value:e.contact.addressLine2,callback:function(t){e.$set(e.contact,"addressLine2",t)},expression:"contact.addressLine2"}})],1)]),a("v-flex",{attrs:{sm6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"City"},model:{value:e.contact.city,callback:function(t){e.$set(e.contact,"city",t)},expression:"contact.city"}})],1)]),a("v-flex",{attrs:{sm6:""}},[a("div",{staticClass:"v-form-container"},[a("v-text-field",{staticClass:"required",attrs:{rules:e.requiredRule,label:"Postal (Zip Code)"},model:{value:e.contact.postalCode,callback:function(t){e.$set(e.contact,"postalCode",t)},expression:"contact.postalCode"}})],1)])],1)},ea=[],ta={props:{contact:Object},data:function(){return{valid:!0,requiredRule:[function(e){return!!e||"This field is required"}]}}},aa=ta,ra=Object(v["a"])(aa,Xt,ea,!1,null,null,null),na=ra.exports;j()(ra,{VFlex:ee["a"],VLayout:C["a"],VTextField:$e["a"]});var sa=a("aae1");function ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function oa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ca={components:{ProjectFinanceInfo:ht,GenericContactInfo:na},props:{nextPanel:Function,panelName:String,ministry:Object},computed:{ministries:function(){return this.$store.state.ministries}},data:function(){var e=Object.assign({},this.$props.ministry),t=e.ministry||null;return t||(e.ministry=new sa["a"]),{valid:!0,requiredRule:[function(e){return!!e||"This field required"}],form:oa({},e),ministryInformation:this.$store.state.ministryInformation}},watch:{valid:function(e){this.$store.state.ministryInformation=e},ministry:function(e){this.form=e;var t=this.form.ministry||null;t||(this.form.ministry=new sa["a"])}},methods:{onNextClicked:function(){this.$refs.intakeClientInfo.validate()&&(this.nextPanel(this.panelName),this.$store.state.ministryInformation=!0)},reset:function(){this.$refs.intakeClientInfo.reset()}}},la=ca,ua=Object(v["a"])(la,Zt,Qt,!1,null,null,null),da=ua.exports;j()(ua,{VBtn:x["a"],VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"],VSelect:De["a"],VTextField:$e["a"]});var fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showSpinner?a("div",{staticClass:"text-xs-center overlay"},[a("v-progress-circular",{attrs:{size:50,indeterminate:"",color:"primary"}})],1):e._e()},ma=[],pa=(a("fb94"),{data:function(){return{showSpinner:!1}},methods:{open:function(){this.showSpinner=!0},close:function(){this.showSpinner=!1}}}),ha=pa,va=a("490a"),ba=Object(v["a"])(ha,fa,ma,!1,null,null,null),ja=ba.exports;j()(ba,{VProgressCircular:va["a"]});a("e63d");function ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ya(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}r["a"].use(fe["a"]);var ga={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo"},Oa={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact"},ka={components:{IntakeBaseInfo:Gt,MinistryBranchInfo:da,ProjectContactInfo:Qe,ProjectAdditionalContactInfo:kt,Snackbar:we,Spinner:ja},$_veeValidate:{validator:"new"},data:function(){var e;return xa({projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,valid:!1,enabled:!1},ga,{panelStates:(e={},Object(o["a"])(e,ga.PROJECT_INFO,{value:[!0]}),Object(o["a"])(e,ga.CLIENTS_INFO,{value:[!1]}),Object(o["a"])(e,ga.CONTACTS_INFO,{value:[!1]}),e)},Oa)},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||void 0;void 0!==t?this.$store.dispatch("fetchIntakeRequest",{id:e.id}):this.$store.dispatch("clearActiveIntakeRequest")},prevPanel:function(e){var t=Object.keys(this.panelStates),a=t.length,r=t.indexOf(e),n=(r+1)%a;this.panelStates[t[n]].value=[!0]},nextPanel:function(e){var t=Object.keys(this.panelStates),a=t.length,r=t.indexOf(e),n=(r+1)%a;this.panelStates[t[n]].value=[!0];var s=document.querySelectorAll(".v-expansion-panel"),i=s[n].offsetTop;Object(ye["setTimeout"])((function(){window.scrollTo({top:i,behavior:"smooth"})}),400)},submitForm:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.projectLead.onNextClicked(),this.$refs.projectSponsor.onNextClicked(),t=Ut()({},this.$refs.intakeBaseInfo.form,{client:this.$refs.intakeClientInfo.form,contacts:[]}),a=this.$refs.projectLead.form||void 0,r=this.$refs.projectSponsor.form||void 0,this.enabled&&(n=this.$refs.projectContact.form||void 0),void 0!==a&&(a.contactType=Oa.CLIENT_LEAD),void 0!==r&&(r.contactType=Oa.CLIENT_SPONSOR),void 0!==n&&(n.contactType=Oa.CLIENT_CONTACT),s=[a,r,n].filter((function(e){return void 0!==e})),s instanceof Array&&s.length>0&&t.contacts instanceof Array&&(t.contacts=t.contacts.concat(s)),this.$store.state.projectInformation&&this.$store.state.ministryInformation&&this.$store.state.contactInformation&&(this.$refs.spinner.open(),t.estimatedContractValue=parseFloat(t.estimatedContractValue),t.mouAmount=parseFloat(t.mouAmount),this.$store.dispatch("addIntakeRequest",t).then((function(){i.$refs.snackbar.displaySnackbar("success","Project Intake Form Submited."),i.$refs.spinner.close(),i.$router.push("intake-success")}),(function(e){if(i.$refs.spinner.close(),e&&e.response&&e.response.data){var t=e.response.data.error.message;i.$refs.snackbar.displaySnackbar("error",t)}else i.$refs.snackbar.displaySnackbar("error","Intake Request Error")})));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),discard:function(){this.$refs.intakeBaseInfo.reset(),this.$refs.intakeClientInfo.reset(),this.$refs.projectLead.reset(),this.$refs.projectSponsor.reset(),this.$refs.projectContact.reset()},getClientInfo:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],a=t.find((function(t){return t.contactType===e}));return a}},created:function(){this.fetchData()}},wa=ka,Ca=(a("c0df"),Object(v["a"])(wa,Lt,qt,!1,null,null,null)),Pa=Ca.exports;j()(Ca,{VBtn:x["a"],VCard:W["a"],VCardText:J["b"],VCheckbox:It["a"],VContainer:g["a"],VExpansionPanel:Dt["a"],VExpansionPanelContent:$t["a"],VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"]});var Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"page-container custom-intake-request-container",attrs:{"grid-list-xl":"",fluid:""}},[a("v-layout",[a("v-flex",{attrs:{md12:""}},[a("h1",{staticClass:"intake-request-header"},[e._v("Intake Requests")])])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("intake-forms-table")],1)],1)],1)},Ra=[],_a=a("c0a4"),Sa=a.n(_a),Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("snackbar",{ref:"snackbar"}),a("confirm",{ref:"confirm"}),e.title?a("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[e._v(e._s(e.title))])])],1):e._e(),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.intakeRequests,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.projectName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s([t.item.ministryName,t.item.orgDivision].join(" ")))]),a("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==t.item.status?a("v-select",{attrs:{items:e.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(a){return e.assignLead(t.item.projectLeadId,t.item)}},nativeOn:{click:function(a){return e.getProjectLead(t.item.projectLeadId)}},model:{value:t.item.projectLeadId,callback:function(a){e.$set(t.item,"projectLeadId",a)},expression:"props.item.projectLeadId"}}):e._e()],1),a("td",{staticClass:"text-xs-left table-dropdown"},["submitted"!==t.item.status?a("v-select",{attrs:{items:e.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(a){return e.assignBackup(t.item.projectBackupId,t.item)}},nativeOn:{click:function(a){return e.getProjectBackup(t.item.projectBackupId)}},model:{value:t.item.projectBackupId,callback:function(a){e.$set(t.item,"projectBackupId",a)},expression:"props.item.projectBackupId"}}):e._e()],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.estimatedCompletionDate))]),a("td",{staticClass:"text-xs-center"},["approved"===t.item.status?a("div",{staticClass:"approved-label caption"},[e._v("Approved")]):e._e(),"submitted"===t.item.status?a("v-btn",{staticClass:"white--text intake-table-approve-btn ma-0",attrs:{small:"",color:"btnPrimary"},on:{click:function(a){return e.approveRequest(t.item.id)}}},[e._v("Approve")]):e._e()],1),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(a){return e.viewRequest(t.item.id)}}},[a("v-icon",[e._v("visibility")])],1),a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(a){return e.deleteRequest(t.item.id)}}},[a("v-icon",[e._v("delete")])],1)],1)]}}])}),e.dialog?a("v-dialog",{attrs:{width:"800","margin-top":"91px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-text",[a("v-icon",{staticClass:"v-model-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")]),a("intake-form-view",{attrs:{id:e.id}})],1)],1)],1):e._e()],a("v-divider")],2)],1)},Da=[],$a=(a("2060"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-form",[a("v-container",[a("v-layout",[a("v-flex",{attrs:{md12:"",column:""}},[[a("v-card",[a("v-card-text",[a("label",{staticClass:"sub-header-large"},[e._v("Project Information")]),a("intake-base-info-view",{ref:"intakeBaseInfoView",attrs:{project:e.intakeRequest,panelName:e.PROJECT_INFO}})],1)],1),a("v-card",[a("v-card-text",[a("label",{staticClass:"sub-header-large"},[e._v("Ministry / Branch Information")]),a("ministry-branch-info-view",{ref:"intakeClientInfoView",attrs:{ministry:e.intakeRequest.client,panelName:e.CLIENTS_INFO}})],1)],1),a("v-card",[a("v-card-text",[a("label",{staticClass:"sub-header-large"},[e._v("Contact Information")]),a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",[e._v("Client Lead Contact Information")]),a("project-contact-info-view",{ref:"projectLead",attrs:{contact:e.getClientInfo(e.CLIENT_LEAD),contactNameLabel:"Client Lead Name"}})],1),a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",[e._v("Executive Sponsor Contact Information")]),a("project-contact-info-view",{ref:"projectSponsor",attrs:{contact:e.getClientInfo(e.CLIENT_SPONSOR),contactNameLabel:"Executive Sponsor Name"}})],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[e.enabled?a("v-flex",{attrs:{xs12:"",md6:"","my-3":""}},[a("h3",[e._v("Additional Contact")]),a("project-additional-contact-info-view",{ref:"projectContact",attrs:{contact:e.getClientInfo(e.CLIENT_CONTACT),contactNameLabel:"Contact Name"}})],1):e._e()],1)],1)],1)]],2)],1)],1)],1)],1)}),Na=[],Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"","py-2":""}},[a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Project Name:")])]),a("v-flex",{attrs:{md8:"","justify-center":""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectName))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Desired Completion Date:")])]),a("v-flex",{attrs:{md8:"","justify-center":""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.estimatedCompletionDate))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Project Sector:")])]),a("v-flex",{attrs:{md8:"","justify-center":""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.projectSector.projectSectorName))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Commodity Code:")])]),a("v-flex",{attrs:{md8:"","justify-center":""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.commodityCode))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Estimated Value of Contract:")])]),a("v-flex",{attrs:{md8:"","justify-center":""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.estimatedContractValue))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("MOU Amount:")])]),a("v-flex",{attrs:{md8:"","justify-center":""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.mouAmount))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Project Description:")])]),a("v-flex",{attrs:{md8:"","align-content-end":"true"}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.description))])])],1)],1)},Va=[];function Fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ba(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var La={props:{project:Object},data:function(){var e=Object.assign({},this.$props.project),t=e.projectSector||null;t||(e.projectSector=new he["a"]);var a=e.client||null;return a||(e.client=new ve["a"]),{form:Ba({},e)}},watch:{project:function(e){this.form=e;var t=this.form.projectSector||null;t||(this.form.projectSector=new he["a"])}}},qa=La,Aa=Object(v["a"])(qa,Ea,Va,!1,null,null,null),Ua=Aa.exports;j()(Aa,{VFlex:ee["a"],VLayout:C["a"]});var Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"","py-2":""}},[a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Ministry:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.ministry.ministryName))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Branch:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgDivision))])])],1),a("v-flex",{attrs:{xs12:""}},[a("generic-contact-info-view",{attrs:{contact:e.form}})],1),a("v-flex",{attrs:{xs12:"","pt-2":""}},[a("project-finance-info-view",{attrs:{financeInfo:e.form}})],1)],1)},Ha=[],Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"","py-2":""}},[a("v-flex",{attrs:{xs12:""}},[a("h3",[e._v("Finance Codes")])]),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Client No:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.clientNo))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Responsibility Center:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.responsibilityCenter))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Service Center:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.serviceCenter))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Service STOB:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.stob))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Project Code:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.financeInfo.projectCode))])])],1)],1)},za=[],Wa={props:{financeInfo:Object}},Ja=Wa,Ka=Object(v["a"])(Ja,Ya,za,!1,null,null,null),Ga=Ka.exports;j()(Ka,{VFlex:ee["a"],VLayout:C["a"]});var Za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:""}},[a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Address Line 1:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.contact.addressLine1))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Address Line 2:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.contact.addressLine2))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("City:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.contact.city))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Postal (Zip Code):")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.contact.postalCode))])])],1)],1)},Qa=[],Xa={props:{contact:Object},data:function(){return{}}},er=Xa,tr=Object(v["a"])(er,Za,Qa,!1,null,null,null),ar=tr.exports;function rr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function nr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}j()(tr,{VFlex:ee["a"],VLayout:C["a"]});var sr={components:{ProjectFinanceInfoView:Ga,GenericContactInfoView:ar},props:{ministry:Object},data:function(){var e=Object.assign({},this.$props.ministry),t=e.ministry||null;return t||(e.ministry=new sa["a"]),{form:nr({},e)}},watch:{ministry:function(e){this.form=e;var t=this.form.ministry||null;t||(this.form.ministry=new sa["a"])}}},ir=sr,or=Object(v["a"])(ir,Ma,Ha,!1,null,null,null),cr=or.exports;j()(or,{VFlex:ee["a"],VLayout:C["a"]});a("6956");var lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:""}},[a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Contact Name:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.fullName))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Email Address:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.email))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Organization:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgName))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Position Title:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgPosition))])])],1),a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Phone Number:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.phoneNumber))])])],1)],1)},ur=[];function dr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function fr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mr={props:{contact:Object},data:function(){var e=Object.assign({},new ze,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:fr({},e)}},watch:{contact:function(e){this.form=e||new ze}}},pr=mr,hr=Object(v["a"])(pr,lr,ur,!1,null,null,null),vr=hr.exports;j()(hr,{VFlex:ee["a"],VLayout:C["a"]});var br=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:""}},[a("div",{staticClass:"layout"},[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Contact Name:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.fullName))])])],1),a("div",{staticClass:"layout"},[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Email Address:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.email))])])],1),a("div",{staticClass:"layout"},[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Organization:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgName))])])],1),a("div",{staticClass:"layout"},[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Position Title:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.orgPosition))])])],1),a("div",{staticClass:"layout"},[a("v-flex",{attrs:{md4:""}},[a("div",{staticClass:"body-1"},[e._v("Phone Number:")])]),a("v-flex",{attrs:{md8:""}},[a("div",{staticClass:"body-2"},[e._v(e._s(e.form.phoneNumber))])])],1)])},jr=[];function yr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function xr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var gr={props:{contact:Object},data:function(){var e=Object.assign({},new ze,this.$props.contact);return{contactInformation:this.$store.state.contactInformation,form:xr({},e)}},watch:{contact:function(e){this.form=e||new ze}}},Or=gr,kr=Object(v["a"])(Or,br,jr,!1,null,null,null),wr=kr.exports;function Cr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Pr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}j()(kr,{VFlex:ee["a"],VLayout:C["a"]});var Tr={PROJECT_INFO:"projectInfo",CLIENTS_INFO:"clientInfo",CONTACTS_INFO:"contactInfo"},Rr={CLIENT_LEAD:"clientlead",CLIENT_SPONSOR:"clientsponsor",CLIENT_CONTACT:"clientcontact"},_r={components:{IntakeBaseInfoView:Ua,MinistryBranchInfoView:cr,ProjectContactInfoView:vr,ProjectAdditionalContactInfoView:wr},props:{id:String},data:function(){var e;return Pr({projectInformation:this.$store.state.projectInformation,ministryInformation:this.$store.state.ministryInformation,contactInformation:this.$store.state.contactInformation,valid:!1,enabled:!0},Tr,{panelStates:(e={},Object(o["a"])(e,Tr.PROJECT_INFO,{value:!1}),Object(o["a"])(e,Tr.CLIENTS_INFO,{value:!1}),Object(o["a"])(e,Tr.CONTACTS_INFO,{value:!1}),e)},Rr)},computed:{intakeRequest:function(){return this.$store.state.activeIntakeRequest}},methods:{fetchData:function(){var e=this.$router.currentRoute.params,t=e.id||this.$props.id;void 0!==t?this.$store.dispatch("fetchIntakeRequest",{id:t}):this.$store.dispatch("clearActiveIntakeRequest")},getClientInfo:function(e){var t=this.$store.state.activeIntakeRequest.contacts||[],a=t.find((function(t){return t.contactType===e}));return 3===t.length?this.enabled=!0:this.enabled=!1,a}},created:function(){this.fetchData()}},Sr=_r,Ir=(a("5b12"),Object(v["a"])(Sr,$a,Na,!1,null,null,null)),Dr=Ir.exports;j()(Ir,{VCard:W["a"],VCardText:J["b"],VContainer:g["a"],VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"]});var $r={props:{title:String},components:{Snackbar:we,Confirm:Z,IntakeFormView:Dr},data:function(){return{headers:[{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"estimatedCompletionDate",sortable:!0},{text:"Status",value:"approved",align:"center",sortable:!1},{text:"Action",value:"action",align:"right",width:"110px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:"",pagination:{sortBy:"name"},dialog:!1,id:""}},computed:{intakeRequests:function(){return this.$store.state.intakeRequests},userList:function(){return this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchIntakeRequests")},viewRequest:function(e){this.id=e,this.dialog=!0},approveRequest:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("info","Are you sure to approve this request?");case 2:if(!e.sent){e.next=4;break}this.$store.dispatch("approveIntakeRequest",{id:t}).then((function(){a.$store.dispatch("fetchIntakeRequests"),a.$refs.snackbar.displaySnackbar("success","Request Approved.")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getProjectLead:function(e){this.selectedLeadUser=e},assignLead:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t,a){var r,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a&&a.projectId?a.projectId:"",n=a&&a.projectName?a.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!r||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:r,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),a.projectLeadId=o.selectedLeadUser}else a.projectLeadId=o.selectedLeadUser,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead")})),e.next=12;break;case 11:a.projectLeadId=this.selectedLeadUser;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Lead");case 15:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),getProjectBackup:function(e){this.selectedProjectBackup=e},assignBackup:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t,a){var r,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a&&a.projectId?a.projectId:"",n=a&&a.projectName?a.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!r||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:r,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),a.projectBackupId=o.selectedProjectBackup}else a.projectBackupId=o.selectedProjectBackup,o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup")})),e.next=12;break;case 11:a.projectBackupId=this.selectedProjectBackup;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup");case 15:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),deleteRequest:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","");case 2:if(!e.sent){e.next=6;break}this.$store.dispatch("deleteIntakeRequest",{id:t}),this.$refs.snackbar.displaySnackbar("success","Deleted."),this.$router.push({path:"intake-requests"});case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetchData()}},Nr=$r,Er=a("8fea"),Vr=Object(v["a"])(Nr,Ia,Da,!1,null,null,null),Fr=Vr.exports;j()(Vr,{VBtn:x["a"],VCard:W["a"],VCardText:J["b"],VDataTable:Er["a"],VDialog:K["a"],VDivider:k["a"],VIcon:w["a"],VSelect:De["a"],VToolbar:N["a"],VToolbarTitle:V["a"]});a("9801");var Br={components:{IntakeFormsTable:Fr},data:function(){return{color:Sa.a,selectedTab:"tab-1"}}},Lr=Br,qr=Object(v["a"])(Lr,Ta,Ra,!1,null,null,null),Ar=qr.exports;j()(qr,{VContainer:g["a"],VFlex:ee["a"],VLayout:C["a"]});var Ur=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"custom-intake-request-success",attrs:{"grid-list-xl":"",fluid:""}},[a("v-layout",{staticClass:"intake-success-layot",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("h1",[e._v("You have successfully submitted your project")])])]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"v-form-container"},[a("h3",{staticClass:"intake-secondary-header"},[e._v("You will receive an email with next steps within 24 hours")])])]),a("v-flex",{staticClass:"intake-success-button",attrs:{xs12:""}},[a("v-btn",{staticClass:"white--text",attrs:{color:"btnPrimary"},on:{click:e.logout}},[e._v("Logout")])],1)],1)],1)},Mr=[],Hr=(a("771f"),{methods:{logout:function(){this.$router.push({path:"logout"})}}}),Yr=Hr,zr=Object(v["a"])(Yr,Ur,Mr,!1,null,null,null),Wr=zr.exports;j()(zr,{VBtn:x["a"],VContainer:g["a"],VFlex:ee["a"],VLayout:C["a"]});var Jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"custom-manage-projects-container",attrs:{"grid-list-xl":"",fluid:""}},[a("v-layout",[a("v-flex",{attrs:{md12:""}},[a("h1",{staticClass:"projects-header"},[e._v("Projects")])])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("projects-table")],1)],1)],1)},Kr=[],Gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("confirm",{ref:"confirm"}),a("snackbar",{ref:"snackbar"}),e.title?a("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[e._v(e._s(e.title))])])],1):e._e(),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{staticClass:"elevation-0 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,"hide-actions":"","disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.projectName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s([t.item.client.ministry.ministryName,t.item.orgDivision].join(" ")))]),a("td",{staticClass:"text-xs-left table-dropdown"},[a("v-select",{attrs:{items:e.userList,label:"Select Project Lead","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(a){return e.assignLead(t.item.projectLeadUserId,t.item)}},nativeOn:{click:function(a){return e.getProjectLead(t.item.projectLeadUserId)}},model:{value:t.item.projectLeadUserId,callback:function(a){e.$set(t.item,"projectLeadUserId",a)},expression:"props.item.projectLeadUserId"}})],1),a("td",{staticClass:"text-xs-left table-dropdown"},[a("v-select",{attrs:{items:e.userList,label:"Select Project Backup","hide-details":"","single-line":"","return-object":"","item-value":"id","item-text":"contact.fullName"},on:{change:function(a){return e.assignBackup(t.item.projectBackupUserId,t.item)}},nativeOn:{click:function(a){return e.getProjectBackup(t.item.projectBackupUserId)}},model:{value:t.item.projectBackupUserId,callback:function(a){e.$set(t.item,"projectBackupUserId",a)},expression:"props.item.projectBackupUserId"}})],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.completionDate))]),a("td",{staticClass:"text-xs-right"},[a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:e.viewProjectTimesheets}},[a("v-icon",{attrs:{color:"btnPrimary"}},[e._v("timer")])],1),a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(a){return e.editProject(t.item.id)}}},[a("v-icon",[e._v("edit")])],1),a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(a){return e.deleteProject(t.item.id)}}},[a("v-icon",[e._v("delete")])],1)],1)]}}])})],a("v-divider")],2)],1)},Zr=[],Qr={props:{title:String},components:{Snackbar:we,Confirm:Z},data:function(){return{headers:[{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client.ministry.ministryName",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!1},{text:"Project Backup",value:"projectBackup",sortable:!1},{text:"Project Deadline",value:"completionDate",sortable:!0},{text:"Actions",value:"action",align:"right",width:"145px",sortable:!1}],selectedLeadUser:"",selectedProjectBackup:""}},computed:{projects:function(){return this.$store.state.projects},userList:function(){return this.$store.state.users}},methods:{fetchData:function(){this.$store.dispatch("fetchProjects")},editProject:function(e){this.$router.push({path:"project/".concat(e)})},viewProjectTimesheets:function(){this.$router.push({path:"timesheets"})},getProjectLead:function(e){this.selectedLeadUser=e},assignLead:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t,a){var r,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a&&a.id?a.id:"",n=a&&a.projectName?a.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!r||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectLead",{projectId:r,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project lead succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),a.projectLeadUserId=o.selectedLeadUser}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project lead"),a.projectLeadUserId=o.selectedLeadUser})),e.next=12;break;case 11:a.projectLeadUserId=this.selectedLeadUser;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),getProjectBackup:function(e){this.selectedProjectBackup=e},assignBackup:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t,a){var r,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a&&a.id?a.id:"",n=a&&a.projectName?a.projectName:"",s=t&&t.contact&&t.contact.fullName?t.contact.fullName:"",i=t&&t.id?t.id:"",!r||!i){e.next=14;break}return e.next=7,this.$refs.confirm.open("info","Are you sure to assign ".concat(s," to ").concat(n,"?"));case 7:if(!e.sent){e.next=11;break}this.$store.dispatch("assignProjectBackup",{projectId:r,userId:i}).then((function(){o.$refs.snackbar.displaySnackbar("success","Project backup succesfully assigned.")})).catch((function(e){if(e&&e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message){var t=e.response.data.error.message;o.$refs.snackbar.displaySnackbar("error",t),a.projectBackupUserId=o.selectedProjectBackup}else o.$refs.snackbar.displaySnackbar("error","Unable to assign Project Backup"),a.projectBackupUserId=o.selectedProjectBackup})),e.next=12;break;case 11:a.projectBackupUserId=this.selectedProjectBackup;case 12:e.next=15;break;case 14:this.$refs.snackbar.displaySnackbar("error","Error.");case 15:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),deleteProject:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","");case 2:if(!e.sent){e.next=5;break}this.$store.dispatch("fetchProjects"),this.$refs.snackbar.displaySnackbar("success","Deleted.");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.fetchData()}},Xr=Qr,en=Object(v["a"])(Xr,Gr,Zr,!1,null,null,null),tn=en.exports;j()(en,{VBtn:x["a"],VCard:W["a"],VCardText:J["b"],VDataTable:Er["a"],VDivider:k["a"],VIcon:w["a"],VSelect:De["a"],VToolbar:N["a"],VToolbarTitle:V["a"]});a("6fa9");var an={components:{ProjectsTable:tn},data:function(){return{color:Sa.a,selectedTab:"tab-1"}},computed:{}},rn=an,nn=Object(v["a"])(rn,Jr,Kr,!1,null,null,null),sn=nn.exports;j()(nn,{VContainer:g["a"],VFlex:ee["a"],VLayout:C["a"]});var on=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"page-container custom-timesheets-container",attrs:{"grid-list-xl":"",fluid:""}},[a("v-layout",[a("v-flex",{attrs:{md12:""}},[a("h1",{staticClass:"timesheet-header"},[e._v("Timesheets")])])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("timesheets-table")],1)],1)],1)},cn=[],ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("spinner",{ref:"spinner"}),e.title?a("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[e._v(e._s(e.title))])])],1):e._e(),a("v-card-title",[a("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[a("v-flex",{attrs:{"d-flex":"","justify-start":"","align-start":""}},[a("v-text-field",{staticClass:"search-bar",attrs:{"append-icon":"search",label:"Filter Projects","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("timesheets-toolbar")],1)],1),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{staticClass:"pb-3 tm-v-datatable",attrs:{headers:e.headers,items:e.projects,expand:e.expand,"item-key":"id",pagination:e.pagination,search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{staticClass:"row-background-lightgrey",on:{click:function(a){return e.onToggleRow(t)}}},[a("td",[a("span",{staticClass:"projectname",on:{click:function(a){return e.goToProject(t.item.id)}}},[e._v(e._s(t.item.projectName))])]),a("td",{staticClass:"text-xs-left"},[e._v(e._s([t.item.client.ministry.ministryName,t.item.orgDivision].join(" ")))]),a("td",{staticClass:"text-xs-left",domProps:{textContent:e._s(e.getFullname(t.item.leadUserId))}}),a("td",{staticClass:"text-xs-left"},[e._v("$ "+e._s(t.item.mouAmount))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.completionDate))]),a("td",{staticClass:"text-xs-right",class:{btntoggle:t.expanded}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-icon",e._g({},r),[e._v("keyboard_arrow_down")])]}}],null,!0)},[a("span",[e._v("Expand to enter time")])])],1)])]}},{key:"expand",fn:function(e){return[a("project-expansion-row",{attrs:{project:e.item}})]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("Sorry, there is no data to display!")])]},proxy:!0}])},[a("v-progress-linear",{attrs:{color:"blue",indeterminate:""},scopedSlots:e._u([{key:"progress",fn:function(){},proxy:!0}])})],1)],a("v-divider")],2)],1)},un=[],dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("div",{staticStyle:{"border-left":"1px solid lightgrey"}},[a("v-data-table",{attrs:{headers:e.rfxHeaders,items:e.project.projectRfxData,expand:!0,"no-data-text":"No Project RFx available","hide-headers":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{staticClass:"row-background",on:{click:function(e){t.expanded=!t.expanded}}},[a("td",[e._v(e._s(e.getRfxTypeName(t.item)))])])]}},{key:"expand",fn:function(t){return[a("timesheet-expansion-row",{attrs:{selectedRfxData:t.item,project:e.project}})]}}])})],1)])},fn=[],mn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",[a("v-flex",[a("div",{staticClass:"lane"},[a("div",{staticClass:"lane-label"},[a("span",{staticClass:"lane-label-text"},[e._v("Billable")])]),a("div",{staticClass:"lane-content"},[a("timesheet-entries-table",{attrs:{addBillableRecordLabel:"+ Add Billable",addNonBillableRecordLabel:"+ Add Non-Billable",projectRfx:e.selectedRfxData,project:e.project,filter:e.filterBillableRecords,onAddNonBillableRecord:e.showNonBillableRecords,displayAddBillableRecordButton:!0,displayAddNonBillableRecordButton:!1,selectedRfxData:e.selectedRfxData}})],1)]),a("div",{staticClass:"lane"},[a("div",{staticClass:"lane-label dark"},[a("span",{staticClass:"lane-label-text"},[e._v("Non-Billable")])]),a("div",{staticClass:"lane-content"},[a("timesheet-entries-table",{attrs:{addBillableRecordLabel:"+ Add Billable",addNonBillableRecordLabel:"+ Add Non-Billable",projectRfx:e.selectedRfxData,project:e.project,filter:e.filterNonBillableRecords,displayAddNonBillableRecordButton:!0,displayNonBillableRecords:!0,selectedRfxData:e.selectedRfxData}})],1)])])],1)],1)},pn=[],hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("snackbar",{ref:"snackbar"}),a("confirm",{ref:"confirm"}),a("comments-drawer",{ref:"commentsDrawer"}),a("v-data-table",{key:e.tableRefreshKey,staticStyle:{width:"100%"},attrs:{headers:e.timesheetHeaders,items:e.timesheets,"item-key":"id","hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[a("tr",{staticClass:"row-background-lightgrey"},e._l(t.headers,(function(t){return a("th",{key:t.text,class:["column sortable",e.pagination.descending?"desc":"asc",t.value===e.pagination.sortBy?"active":""],style:"text-align: "+(t.align||"left")+"; width: "+t.width+"; font-weight: 900",on:{click:function(a){return e.changeSort(t.value)}}},[e._v("\n          "+e._s(t.text)+"\n          "),["hoursMonday","hoursTuesday","hoursWednesday","hoursThursday","hoursFriday","hoursSaturday","hoursSunday"].indexOf(t.value)>-1?a("small",{staticClass:"month-day"},[e._v(e._s(t.date))]):e._e(),t.sortable?a("v-icon",{attrs:{small:""}},[e._v("arrow_upward")]):e._e()],1)})),0)]}},{key:"items",fn:function(t){return[a("tr",{class:e.getSelectedRowClass(t),on:{click:function(a){return e.onSelectRow(t)}}},[a("td",[a("v-select",{attrs:{"hide-details":"",items:e.rfxPhases,readOnly:t.item.id===e.selectedRowId,outline:t.item.id===e.selectedRowId,"item-value":"id","item-text":"rfxPhaseName"},model:{value:e.getTimesheetRow(t.item.id).rfxPhaseId,callback:function(a){e.$set(e.getTimesheetRow(t.item.id),"rfxPhaseId",a)},expression:"getTimesheetRow(props.item.id).rfxPhaseId"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-select",{attrs:{"hide-details":"",items:e.users,height:"34",readOnly:t.item.id===e.selectedRowId,outline:t.item.id===e.selectedRowId,"item-value":"id","item-text":"fullName"},model:{value:e.getTimesheetRow(t.item.id).userId,callback:function(a){e.$set(e.getTimesheetRow(t.item.id),"userId",a)},expression:"getTimesheetRow(props.item.id).userId"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-total-hours",attrs:{"hide-details":"",type:"number","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId,disabled:"",value:e.calcTimesheetRowTotals(e.getTimesheetRowHours(t.item.id))}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(a){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursMonday,"hoursMonday",t.item.id)},change:function(a){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursMonday,"hoursMonday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursMonday,callback:function(a){e.$set(e.getTimesheetRowHours(t.item.id),"hoursMonday",a)},expression:"getTimesheetRowHours(props.item.id).hoursMonday"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(a){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursTuesday,"hoursTuesday",t.item.id)},change:function(a){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursTuesday,"hoursTuesday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursTuesday,callback:function(a){e.$set(e.getTimesheetRowHours(t.item.id),"hoursTuesday",a)},expression:"getTimesheetRowHours(props.item.id).hoursTuesday"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",outline:t.item.id===e.selectedRowId},on:{keyup:function(a){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursWednesday,"hoursWednesday",t.item.id)},change:function(a){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursWednesday,"hoursWednesday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursWednesday,callback:function(a){e.$set(e.getTimesheetRowHours(t.item.id),"hoursWednesday",a)},expression:"getTimesheetRowHours(props.item.id).hoursWednesday"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(a){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursThursday,"hoursThursday",t.item.id)},change:function(a){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursThursday,"hoursThursday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursThursday,callback:function(a){e.$set(e.getTimesheetRowHours(t.item.id),"hoursThursday",a)},expression:"getTimesheetRowHours(props.item.id).hoursThursday"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(a){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursFriday,"hoursFriday",t.item.id)},change:function(a){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursFriday,"hoursFriday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursFriday,callback:function(a){e.$set(e.getTimesheetRowHours(t.item.id),"hoursFriday",a)},expression:"getTimesheetRowHours(props.item.id).hoursFriday"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(a){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursSaturday,"hoursSaturday",t.item.id)},change:function(a){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursSaturday,"hoursSaturday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursSaturday,callback:function(a){e.$set(e.getTimesheetRowHours(t.item.id),"hoursSaturday",a)},expression:"getTimesheetRowHours(props.item.id).hoursSaturday"}})],1),a("td",{staticClass:"text-xs-left"},[a("v-text-field",{staticClass:"grid-input input-hours",attrs:{"hide-details":"",type:"number",step:"any",max:"24",min:"0",oninput:"validity.valid||(value=0);","ma-0":"","pa-0":"",readOnly:!(t.item.id===e.selectedRowId),outline:t.item.id===e.selectedRowId},on:{keyup:function(a){e.onTimeKeyup(e.getTimesheetRowHours(t.item.id).hoursSunday,"hoursSunday",t.item.id)},change:function(a){e.onTimeChange(e.getTimesheetRowHours(t.item.id).hoursSunday,"hoursSunday",t.item.id)}},model:{value:e.getTimesheetRowHours(t.item.id).hoursSunday,callback:function(a){e.$set(e.getTimesheetRowHours(t.item.id),"hoursSunday",a)},expression:"getTimesheetRowHours(props.item.id).hoursSunday"}})],1),a("td",{staticClass:"text-xs-right action-buttons-col"},[e.getTimesheetRow(t.item.id).userId?[a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(a){return e.showComments(t.item)}}},[a("v-icon",[e._v("comment")])],1),t.item.id===e.selectedRowId?a("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(a){return e.saveTimesheet(t.item)}}},[a("v-icon",[e._v("save")])],1):e._e(),t.item.id!==e.selectedRowId?a("v-btn",{attrs:{flat:"",icon:"",color:"grey"}},[a("v-icon",[e._v("edit")])],1):e._e()]:e._e(),a("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(a){return e.deleteTimesheet(t.item)}}},[a("v-icon",[e._v("delete")])],1)],2)])]}},{key:"footer",fn:function(){return[a("timesheet-entries-total-row",{attrs:{addBillableRecordLabel:e.addBillableRecordLabel,addNonBillableRecordLabel:e.addNonBillableRecordLabel,displayAddBillableRecordButton:e.displayAddBillableRecordButton,displayAddNonBillableRecordButton:e.displayAddNonBillableRecordButton,onAddNonBillableRecord:e.onAddNonBillableRecord,onAddNonBillableRecordClicked:function(){return e.addNonBillableTimesheetClicked(e.project,e.projectRfx,e.timesheet)},onAddBillableRecordClicked:function(){return e.addBillableTimesheetClicked(e.project,e.projectRfx,e.timesheet)},totals:e.calcTimesheetTotals()}})]},proxy:!0}])},[a("v-progress-linear",{attrs:{color:"blue",indeterminate:""},scopedSlots:e._u([{key:"progress",fn:function(){},proxy:!0}])})],1)],1)},vn=[],bn=(a("8615"),a("d456")),jn=a.n(bn),yn=a("2f62"),xn=a("dccd"),gn=a("7618"),On=(a("6b54"),a("a481"),a("ffc1"),a("3b2b"),a("c5f6"),function(){function e(){Object(Le["a"])(this,e)}return Object(qe["a"])(e,null,[{key:"decodeHtmlEntities",value:function(e){var t=document.createElement("div"),a=function(e){return e&&"string"===typeof e&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,""),e=e.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),t.innerHTML=e,e=t.textContent,t.textContent=""),e};return a(e)}},{key:"stringIsInteger",value:function(e){if("undefined"===typeof e||null===e)return!1;var t=Math.floor(Number(e));return String(t)===e&&t>=0}}]),e}());Object(o["a"])(On,"capitalizeFirstLetter",(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),Object(o["a"])(On,"hyphenize",(function(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))})),Object(o["a"])(On,"underscore",(function(e){return e.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())}))})),Object(o["a"])(On,"camelize",(function(e){return e.replace(/[\s\-_]+(\w)/g,(function(e){return e.toUpperCase().replace(/[\s\-_]+/,"")}))})),Object(o["a"])(On,"swapSubstrings",(function(e,t,a){return e=e.replace(new RegExp("(".concat(t,"|").concat(a,")"),"g"),(function(e){return e===t?a:t})),e})),Object(o["a"])(On,"escapeRegExp",(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")})),Object(o["a"])(On,"shortenText",(function(e,t){t=t||e.length;var a=e.substr(0,t);return a.substr(0,Math.min(a.length,a.lastIndexOf(" ")))})),Object(o["a"])(On,"toSentenceCase",(function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))})),Object(o["a"])(On,"quoteIfNecessary",(function(e){return-1!==e.indexOf(" ")&&(e="'".concat(e,"'")),e})),Object(o["a"])(On,"unquoteIfNecessary",(function(e){return("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.slice(1,e.length-1)),e}));var kn=On,wn=function(){function e(){Object(Le["a"])(this,e)}return Object(qe["a"])(e,null,[{key:"cleanObject",value:function(e){return e=Object.entries(e).filter((function(e){var t=Object(de["a"])(e,2),a=(t[0],t[1]);return void 0!==a})).reduce((function(e,t){var a=Object(de["a"])(t,2),r=a[0],n=a[1];return e[r]=n,e}),{}),e}},{key:"prefixKeys",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(e).reduce((function(a,r){return a["".concat(t).concat(r)]=e[r],a}),a||{})}},{key:"generateUUIDv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)}))}}]),e}();Object(o["a"])(wn,"isEmpty",(function(e){if(e=e||null,null===e)return!0;for(var t in e)if(e.hasOwnProperty(t)&&null!==e.prop)return!1;return!0})),Object(o["a"])(wn,"recursiveFormatKeys",(function(e,t,a){var r={},n=["underscore","camelcase","hyphenate"];if(!(n.indexOf(t)>-1||!n.indexOf(a)>-1))throw new Error("Cannot normalize data: incorrect mode and currentMode supplied. Valid modes are 'underscore', 'camelcase' and 'hyphenate'.");return Object.keys(e).reduce((function(r,n){var s=e[n],i="object"===Object(gn["a"])(s)&&null!==s?wn.recursiveFormatKeys(s,t,a):s;switch(a){case"underscore":r[kn.underscore(n)]=i;break;case"camelcase":r[kn.camelize(n)]=i;break;case"hyphenate":r[kn.hyphenize(n)]=i;break}return r}),r),r})),Object(o["a"])(wn,"recursiveRenameKeys",(function(e,t){var a={};Object.keys(e).reduce((function(r,n){var s=e[n];"object"===Object(gn["a"])(s)&&null!==s&&wn.recursiveFormatKeys(s,t);return a}))})),Object(o["a"])(wn,"jsonSameMembers",(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}));var Cn=wn,Pn=a("c1df"),Tn=a.n(Pn),Rn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"row-background-lightgrey"},[a("td",[e.displayAddBillableRecordButton?a("v-btn",{staticClass:"mt-3 mb-3",attrs:{color:"btnPrimary",dark:""},on:{click:this.onAddBillableRecordClicked}},[e._v(e._s(e.addBillableRecordLabel))]):e._e(),e.displayAddNonBillableRecordButton?a("v-btn",{staticClass:"mt-3 mb-3",attrs:{dark:""},on:{click:this.onAddNonBillableRecordClicked}},[e._v(e._s(e.addNonBillableRecordLabel))]):e._e()],1),e._m(0),a("td",{staticClass:"text-xs-center"},[a("strong",[e._v(e._s(e.totals.totalHours)+" Hrs")])]),a("td",{staticClass:"text-xs-center"},[a("span",[e._v(e._s(e.totals.dailyHours.hoursMonday)+" Hrs")])]),a("td",{staticClass:"text-xs-center"},[a("span",[e._v(e._s(e.totals.dailyHours.hoursTuesday)+" Hrs")])]),a("td",{staticClass:"text-xs-center"},[a("span",[e._v(e._s(e.totals.dailyHours.hoursWednesday)+" Hrs")])]),a("td",{staticClass:"text-xs-center"},[a("span",[e._v(e._s(e.totals.dailyHours.hoursThursday)+" Hrs")])]),a("td",{staticClass:"text-xs-center"},[a("span",[e._v(e._s(e.totals.dailyHours.hoursFriday)+" Hrs")])]),a("td",{staticClass:"text-xs-center"},[a("span",[e._v(e._s(e.totals.dailyHours.hoursSaturday)+" Hrs")])]),a("td",{staticClass:"text-xs-center"},[a("span",[e._v(e._s(e.totals.dailyHours.hoursSunday)+" Hrs")])]),a("td")])},_n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",{staticClass:"text-xs-right"},[a("strong",[a("small",[e._v("Total Hours:")])])])}],Sn={props:{onAddBillableRecordClicked:Function,onAddNonBillableRecordClicked:Function,displayAddBillableRecordButton:{type:Boolean,value:!0},displayAddNonBillableRecordButton:{type:Boolean,value:!1},addBillableRecordLabel:String,addNonBillableRecordLabel:String,totals:Object}},In=Sn,Dn=Object(v["a"])(In,Rn,_n,!1,null,null,null),$n=Dn.exports;j()(Dn,{VBtn:x["a"]});var Nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{staticClass:"navigation-drawer-scroll",attrs:{fixed:"",right:"","ma-2":"",width:"500","disable-resize-watcher":""},model:{value:e.drawerComments,callback:function(t){e.drawerComments=t},expression:"drawerComments"}},[a("div",{staticClass:"drawer-main"},[a("label",{staticClass:"sub-header-large"},[e._v("Comments")]),a("v-icon",{staticClass:"drawer-close-icon",attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.drawerComments=!1}}},[e._v("close")]),a("v-data-iterator",{attrs:{items:e.commentsList,"hide-actions":"","hide-headers":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-textarea",{ref:"cmnt_"+t.index,attrs:{name:"props.item.day",label:t.item.label,"no-resize":"",rows:"2"},model:{value:t.item.comments,callback:function(a){e.$set(t.item,"comments",a)},expression:"props.item.comments"}})]}}])})],1),a("div",{staticClass:"drawer-buttons"},[a("v-btn",{on:{click:e.closeCommentModal}},[e._v("Discard")]),a("v-btn",{staticClass:"add-new-row",attrs:{color:"btnPrimary",dark:""},on:{click:e.saveComment}},[e._v("Save")])],1)])},En=[],Vn=(a("a123"),{data:function(){return{drawerComments:!1,commentsList:[],updateTimesheetFunc:void 0,selectedTimesheetRow:void 0}},methods:{saveComment:function(){this.selectedTimesheetRow.entries=this.commentsList,this.updateTimesheetFunc(this.selectedTimesheetRow),this.closeCommentModal()},openComments:function(e,t){this.drawerComments=!0,this.prepareData(e.entries),this.updateTimesheetFunc=t,this.selectedTimesheetRow=e},prepareData:function(e){var t=this;e.forEach((function(e,a){var r=sessionStorage.getItem("selectedStartDate"),n=Tn()(r).add(a,"days"),s="0".concat(n.get("date")).slice(-2),i=n.get("month");e.hoursBilled=e.hoursBilled?e.hoursBilled:0,e.label="".concat(t.dayOftheWeek(a)," : ").concat(s,"/").concat(t.monthOfTheYear(i),"  |  Hours Logged ").concat(e.hoursBilled)})),this.commentsList=e},focusOnFirstField:function(){this.$refs.cmnt_0&&this.$refs.cmnt_0.focus()},dayOftheWeek:function(e){var t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return t[e]},monthOfTheYear:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e]},closeCommentModal:function(){this.drawerComments=!1}},updated:function(){this.focusOnFirstField()}}),Fn=Vn,Bn=a("c377"),Ln=Object(v["a"])(Fn,Nn,En,!1,null,null,null),qn=Ln.exports;j()(Ln,{VBtn:x["a"],VDataIterator:Bn["a"],VIcon:w["a"],VNavigationDrawer:I["a"],VTextarea:Ne["a"]});var An=function(e){function t(){var e,a;Object(Le["a"])(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return a=Object(Ae["a"])(this,(e=Object(Ue["a"])(t)).call.apply(e,[this].concat(n))),Object(o["a"])(Object(Me["a"])(a),"id",""),Object(o["a"])(Object(Me["a"])(a),"projectRfxId",""),Object(o["a"])(Object(Me["a"])(a),"projectId",""),Object(o["a"])(Object(Me["a"])(a),"rfxPhaseId",""),Object(o["a"])(Object(Me["a"])(a),"userId",""),Object(o["a"])(Object(Me["a"])(a),"hoursBilled",""),Object(o["a"])(Object(Me["a"])(a),"startTime",""),Object(o["a"])(Object(Me["a"])(a),"endTime",""),Object(o["a"])(Object(Me["a"])(a),"entryDate",new Date),Object(o["a"])(Object(Me["a"])(a),"comments",""),a}return Object(He["a"])(t,e),Object(qe["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,Ye["a"].setProperties(e,a)),a}}]),t}(Ye["a"]);function Un(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Mn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Un(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Hn={components:{Snackbar:we,Confirm:Z,TimesheetEntriesTotalRow:$n,CommentsDrawer:qn},props:{title:String,addBillableRecordLabel:String,addNonBillableRecordLabel:String,onAddNonBillableRecord:Function,onAddNonBillableRecordClicked:Function,displayAddBillableRecordButton:Boolean,displayAddNonBillableRecordButton:Boolean,project:Object,projectRfx:Object,timesheet:Object,selectedRfxData:Object,filter:{type:Function,default:function(e){return!1!==e.isBillable}},displayNonBillableRecords:{type:Boolean,default:!1}},data:function(){var e=this.initTimesheetRows();return{pagination:{sortBy:"name"},tableRefreshKey:Cn.generateUUIDv4(),selectedRowId:null,timesheetRows:e,dialog:!1,expand:!1,rfxExpand:!1,timesheetHeaders:this.getTimesheetHeaders()}},watch:{$data:{handler:function(){},deep:!0},timesheetsWeek:{handler:function(){this.fetchData(!0),this.timesheetHeaders=this.getTimesheetHeaders()}}},computed:Mn({},Object(yn["b"])(["timesheetsWeek"]),{rfxPhases:function(){return this.$store.state.rfxPhases},timesheets:function(){return this.getTimesheets()},users:function(){var e=this.$store.state.users;return e.map((function(e){return{id:e.id,fullName:e.contact.fullName}}))}}),methods:{getTimesheetHeaders:function(){var e=sessionStorage.getItem("selectedStartDate"),t=Tn()(e).day(1),a=Tn()(e).day(2),r=Tn()(e).day(3),n=Tn()(e).day(4),s=Tn()(e).day(5),i=Tn()(e).day(6),o=Tn()(e).day(7);return[{text:"Phase Name",value:"phaseName",width:"280px"},{text:"User",value:"user",width:"280px"},{text:"Hours",value:"hours"},{text:"Mo",value:"hoursMonday",date:this.date2Digit(t),sortable:!1},{text:"Tu",value:"hoursTuesday",date:this.date2Digit(a),sortable:!1},{text:"We",value:"hoursWednesday",date:this.date2Digit(r),sortable:!1},{text:"Th",value:"hoursThursday",date:this.date2Digit(n),sortable:!1},{text:"Fr",value:"hoursFriday",date:this.date2Digit(s),sortable:!1},{text:"Sa",value:"hoursSaturday",date:this.date2Digit(i),sortable:!1},{text:"Su",value:"hoursSunday",date:this.date2Digit(o),sortable:!1},{text:"Actions",value:"action",align:"right",width:"180px",sortable:!1}]},onSelectRow:function(e){e.expanded=!e.expanded,this.selectedRowId=e.item.id},getSelectedRowClass:function(e){return e.item.id===this.selectedRowId?"table-row selected-row":"table-row"},addBillableTimesheetClicked:function(e,t,a){this.createTimesheet(e,t,a,!0)},addNonBillableTimesheetClicked:function(e,t,a){this.createTimesheet(e,t,a,!1)},onTimeKeyup:function(e,t,a){var r=0;""!==e&&(e=parseFloat(e),e>24&&(r=24,this.setDefaultTimeEntry(t,a,r)))},onTimeChange:function(e,t,a){var r=0;""===e&&this.setDefaultTimeEntry(t,a,r)},setDefaultTimeEntry:function(e,t,a){switch(e){case"hoursMonday":return void(this.getTimesheetRowHours(t).hoursMonday=a);case"hoursTuesday":return void(this.getTimesheetRowHours(t).hoursTuesday=a);case"hoursWednesday":return void(this.getTimesheetRowHours(t).hoursWednesday=a);case"hoursThursday":return void(this.getTimesheetRowHours(t).hoursThursday=a);case"hoursFriday":return void(this.getTimesheetRowHours(t).hoursFriday=a);case"hoursSaturday":return void(this.getTimesheetRowHours(t).hoursSaturday=a);case"hoursSunday":return void(this.getTimesheetRowHours(t).hoursSunday=a);default:this.getTimesheetRowHours(t).hoursSunday=a}},fetchData:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("fetchTimesheets",{replace:t||!1,projectId:this.project.id,startDate:sessionStorage.getItem("selectedStartDate"),endDate:sessionStorage.getItem("selectedEndDate")}).then((function(){var e=a.initTimesheetRows();a.timesheetRows=e}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getTimesheets:function(){var e=this,t=this.$store.state.timesheets||[],a=this.$props.selectedRfxData&&this.$props.selectedRfxData.id?this.$props.selectedRfxData.id:void 0;return t instanceof Array&&(t=t.filter((function(t){return(t.project&&t.project.id)===e.project.id&&(t.projectRfx&&t.projectRfx.id)===a})),t="function"===typeof this.filter?t.filter(this.filter):t),t},initTimesheetRows:function(){var e=this,t=this.getTimesheets(),a=new xn["a"];return t.forEach((function(t){var r=e.initTimesheetRowHours(t.timesheetEntries),n={hours:r.rowHours,rowData:r.rowData,userId:t.userId?t.userId:t.createdUserId,rfxPhaseId:t.rfxPhase?t.rfxPhase.id:null};a.set(t.id,n)})),a},initTimesheetRowHours:function(e){var t={hoursMonday:0,hoursTuesday:0,hoursWednesday:0,hoursThursday:0,hoursFriday:0,hoursSaturday:0,hoursSunday:0},a=Object.keys(t),r=Ut()({},t),n=Ut()({},t);return e instanceof Array&&e.forEach((function(e){var t=Tn()(e.entryDate),s=t.get("day");s=0===s?6:--s,r[a[s]]=e.hoursBilled,n[a[s]]={comments:e.comments,id:e.id,projectId:e.projectId,projectRfxId:e.projectRfxId,rfxPhaseId:e.rfxPhaseId}})),{rowHours:r,rowData:n}},getTimesheetRowHours:function(e){var t={hoursMonday:0,hoursTuesday:0,hoursWednesday:0,hoursThursday:0,hoursFriday:0,hoursSaturday:0,hoursSunday:0};if(this.timesheetRows instanceof xn["a"]){var a=this.timesheetRows.get(e)||void 0;if(a&&a.hours)return a.hours}return t},getTimesheetRow:function(e){var t={};return this.timesheetRows instanceof xn["a"]&&(t=this.timesheetRows.get(e)||t),t},calcTimesheetRowTotals:function(e){var t=0;return void 0!==e&&null!==e&&Object.values(e)instanceof Array&&(t=Object.values(e).reduce((function(e,t){var a;return a=t?e+parseFloat(t):e,a}),0)),t},calcTimesheetTotals:function(){var e={hoursMonday:0,hoursTuesday:0,hoursWednesday:0,hoursThursday:0,hoursFriday:0,hoursSaturday:0,hoursSunday:0},t=0,a=this.timesheetRows,r=Object.keys(e);return a.each((function(n){r.forEach((function(r){var s=a.get(n).hours;e[r]+=parseFloat(parseFloat(s[r]||0).toFixed(2)),t+=parseFloat(s[r]||0)}))})),t=parseFloat(t.toFixed(2)),{dailyHours:e,totalHours:t}},createTimesheet:function(e,t,a,r){var n=this,s=t.rfxType,i=t.rfxPhase,o=sessionStorage.getItem("selectedStartDate"),c=sessionStorage.getItem("selectedEndDate"),l={project:e,projectRfx:t,rfxPhase:i,rfxType:s,startDate:o,endDate:c,isBillable:r};this.$store.dispatch("addTimesheet",l).then((function(){var e=n.initTimesheetRows();n.timesheetRows=e}),(function(e){e&&e.data&&e.data.entityValidationErrors?e.data.entityValidationErrors.length>1?n.handleMultipleErrors(e.data.entityValidationErrors):n.$refs.snackbar.displaySnackbar("error",e.data.entityValidationErrors[0].message):n.$refs.snackbar.displaySnackbar("error","Timesheet adding failed")}))},handleMultipleErrors:function(e){this.$refs.snackbar.displayMultipleErrorSnackbar("error",e)},saveTimesheet:function(e){var t=this.timesheetUpdatePayload(e);this.updateTimesheet(t)},deleteTimesheet:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("danger","Are you sure you want to delete this entry?");case 2:if(!e.sent){e.next=4;break}this.$store.dispatch("deleteTimesheet",{id:t.id}).then((function(){a.selectedRowId=null;var e=a.initTimesheetRows();a.timesheetRows=e,a.$refs.snackbar.displaySnackbar("success","Time log entry deleted")}),(function(e){e&&e.data&&e.data.error&&e.data.error.message?a.$refs.snackbar.displaySnackbar("error",e.data.error.message):a.$refs.snackbar.displaySnackbar("error","Timesheet deletion failed")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),timesheetUpdatePayload:function(e){var t=jn()({},e,{userId:null,isBillable:null});t.entries=[];var a=this.timesheetRows.get(e.id).hours,r=this.timesheetRows.get(e.id).userId,n=this.timesheetRows.get(e.id),s=n.rowData,i=Object.keys(a);return i.forEach((function(e,n){var i=Tn()(sessionStorage.getItem("selectedStartDate")),o=i.day(n+1),c=a[e]||0,l=An.constructFromObject({id:s[e].id,userId:r,hoursBilled:parseFloat(c),startTime:null,endTime:null,entryDate:o.format("YYYY-MM-DD"),comments:s?s[e].comments:""});t.entries.push(l)})),t.isBillable=e.isBillable,t.userId=r,t.rfxPhase.id=this.getTimesheetRow(e.id).rfxPhaseId,t},updateTimesheet:function(e){var t=this;e&&e.userId?(delete e.timesheetEntries,this.$store.dispatch("updateTimesheet",{id:e.id,payload:e}).then((function(){var e=t.initTimesheetRows();t.timesheetRows=e,t.$refs.snackbar.displaySnackbar("success","Time log entry saved successfully"),t.selectedRowId=null}),(function(e){e&&e.data&&e.data.entityValidationErrors?e.data.entityValidationErrors.length>1?t.handleMultipleErrors(e.data.entityValidationErrors):t.$refs.snackbar.displaySnackbar("error",e.data.entityValidationErrors[0].message):t.$refs.snackbar.displaySnackbar("error","Timesheet update failed")}))):this.$refs.snackbar.displaySnackbar("warning","Please select the user!")},showComments:function(e){var t=this.timesheetUpdatePayload(e);this.$refs.commentsDrawer.openComments(t,this.updateTimesheet)},closeTimesheetDetails:function(){this.dialog=!1},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},date2Digit:function(e){return"0".concat(e.get("date")).slice(-2)}},created:function(){this.fetchData()}},Yn=Hn,zn=(a("8d77"),a("8e36")),Wn=Object(v["a"])(Yn,hn,vn,!1,null,null,null),Jn=Wn.exports;j()(Wn,{VBtn:x["a"],VDataTable:Er["a"],VIcon:w["a"],VProgressLinear:zn["a"],VSelect:De["a"],VTextField:$e["a"]});var Kn={components:{TimesheetEntriesTable:Jn},props:{title:String,selectedRfxData:Object,project:Object},data:function(){return{selected:[],dialog:!1,headers:[{text:"Project Name",value:"projectName",align:"left",sortable:!0},{text:"Client",value:"client",sortable:!0},{text:"Project Lead",value:"projectLeadId",sortable:!0},{text:"Budget Remaining",value:"budgetRemaining",sortable:!0},{text:"Project Deadline",value:"projectDeadline",sortable:!0},{text:"Action",value:"action",align:"right",sortable:!1}],expand:!1,rfxExpand:!1,rfxHeaders:[{text:"RFx Type",value:"rfxType"}],phaseHeaders:[{text:"Phase Name",value:"phaseName"},{text:"User",value:"user"},{text:"Hours",value:"hours"},{text:"M",value:"hoursMonday"},{text:"T",value:"hoursTuesday"},{text:"W",value:"hoursWednesday"},{text:"Th",value:"hoursThursday"},{text:"F",value:"hoursFriday"},{text:"S",value:"hoursSaturday"},{text:"Su",value:"hoursSunday"},{text:"Actions",value:"action",align:"right",sortable:!1}]}},computed:{projects:function(){return this.$store.state.projects},projectsRfx:function(){return this.$store.state.projectsRfx},projectRfx:function(){return this.getProjectRfx(this.project.id)},displayNonBillableRecords:function(){return this.hasNonBillableTimesheets()}},methods:{showNonBillableRecords:function(){this.displayNonBillableRecords=!0},filterBillableRecords:function(e){return!1!==e.isBillable},filterNonBillableRecords:function(e){return!1===e.isBillable},fetchData:function(){this.$store.dispatch("fetchProjects")},fetchProjectRfx:function(e){this.$store.dispatch("fetchProjectRfx",{id:e.id})},getRfxType:function(e){var t=this.$store.state.rfxTypes.filter((function(t){return t.id===e}));return t[0]},getRfxTypeName:function(e){var t=this.getRfxType(e);return t.rfxTypeName},getProjectRfx:function(e){var t=this.projectsRfx||void 0;if(void 0!==t)return this.projectsRfx.get(e)},getTimesheets:function(){var e=this,t=this.$store.state.timesheets||[];return t instanceof Array&&(t=t.filter((function(t){return t.project.id===e.project.id})),t="function"===typeof this.filter?t.filter(this.filter):t),t},hasNonBillableTimesheets:function(){var e=this,t=this.$store.state.timesheets||[];return t instanceof Array&&(t=t.filter((function(t){return t.project.id===e.project.id&&!1===t.isBillable}))),t.length>0}},created:function(){this.fetchData()}},Gn=Kn,Zn=(a("ee13"),Object(v["a"])(Gn,mn,pn,!1,null,null,null)),Qn=Zn.exports;j()(Zn,{VFlex:ee["a"],VLayout:C["a"]});var Xn={components:{TimesheetExpansionRow:Qn},props:{title:String,project:Object},data:function(){return{selected:[],dialog:!1,expand:!1,rfxExpand:!1,rfxHeaders:[{text:"RFx Type",value:"rfxType"}]}},computed:{projectRfx:function(){return this.$store.state.projectsRfx?this.$store.state.projectsRfx.get(this.project.id):[]}},watch:{projectsRfx:function(){this.$forceUpdate()}},methods:{getProjectRfx:function(e){return this.projectsRfx.get(e)},getRfxType:function(e){var t=this.$store.state.rfxTypes.filter((function(t){return t.id===e}));return t[0]},getRfxTypeName:function(e){return e&&e.rfxType&&e.rfxType.rfxTypeName?e.rfxType.rfxTypeName:""}}},es=Xn,ts=(a("78bf"),Object(v["a"])(es,dn,fn,!1,null,null,null)),as=ts.exports;j()(ts,{VCard:W["a"],VDataTable:Er["a"]});var rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"timesheets-toolbar",staticStyle:{width:"100%"},attrs:{"d-flex":""}},[a("v-flex",{attrs:{"d-flex":"","justify-center":"","align-start":""}},[a("timesheets-calendar")],1),a("v-flex",{attrs:{"d-flex":"","justify-end":""}},[a("add-new-time-record",{ref:"AddNewTimeRecord"}),a("v-btn",{staticClass:"add-timesheet-button",attrs:{color:"btnPrimary",dark:""},on:{click:e.newTimeRecord}},[e._v("+ Add Time Record")])],1)],1)},ns=[],ss=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-top":-15,"nudge-right":0,lazy:"",transition:"scale-transition","offset-y":"","full-width":"",left:"","min-width":"285px","max-width":"285px"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-layout",{staticStyle:{width:"100%"},attrs:{column:""}},[a("v-flex",{attrs:{my1:"","justify-center":""}},[a("div",{staticClass:"date-picker-container"},[a("v-btn-toggle",{staticClass:"v-btn-toggle--selected",staticStyle:{flex:"0 0 auto !important"}},[a("v-btn",{attrs:{flat:""},on:{click:e.setPreviousTimesheetsWeek}},[a("v-icon",[e._v("arrow_left")])],1),a("v-btn",{attrs:{flat:""},on:{click:e.toggleDatePicker}},[a("span",{staticStyle:{"padding-left":"1rem","padding-right":"1rem"}},[e._v(e._s(e.calendarText))])]),a("v-btn",{attrs:{flat:""},on:{click:e.setNextTimesheetsWeek}},[a("v-icon",[e._v("arrow_right")])],1)],1)],1),a("div",{class:"date-picker-container date-picker-wrapper "+e.getDatePickerClass()},[a("v-date-picker",{staticClass:"timesheets-date-picker",attrs:{"first-day-of-week":"1"},on:{input:e.setTimesheetsWeek},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)])],1)]}}])})},is=[];function os(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function cs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?os(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):os(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ls={props:{title:String,addTimeRecord:Function},data:function(){return{calendarText:this.getCalendarText(),selectedDate:Tn()().format("YYYY-MM-DD"),showDatePicker:!1}},watch:{timesheetsWeek:{handler:function(){this.setCalendarText()}}},computed:cs({},Object(yn["b"])(["timesheetsWeek"])),methods:{getCalendarText:function(){var e=[];e[0]="Jan",e[1]="Feb",e[2]="Mar",e[3]="Apr",e[4]="May",e[5]="Jun",e[6]="Jul",e[7]="Aug",e[8]="Sep",e[9]="Oct",e[10]="Nov",e[11]="Dec";var t=Tn()(sessionStorage.getItem("selectedStartDate")),a=Tn()(sessionStorage.getItem("selectedEndDate"));return t||a?"".concat(e[t.get("month")]," ").concat(t.get("date")," - ").concat(e[a.get("month")]," ").concat(a.get("date")):"Change Week"},setCalendarText:function(){this.calendarText=this.getCalendarText()},setPreviousTimesheetsWeek:function(){var e=Tn()(sessionStorage.getItem("selectedStartDate")).subtract(7,"days"),t=Tn()(sessionStorage.getItem("selectedEndDate")).subtract(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",e.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",t.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:e,endDate:t})},setNextTimesheetsWeek:function(){var e=Tn()(sessionStorage.getItem("selectedStartDate")).add(7,"days"),t=Tn()(sessionStorage.getItem("selectedEndDate")).add(7,"days");this.hideDatePicker(),sessionStorage.setItem("selectedStartDate",e.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",t.format("YYYY-MM-DD")),this.$store.dispatch("setTimesheetsWeek",{startDate:e,endDate:t})},setTimesheetsWeek:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Tn()(e).day(1),r=Tn()(e).day(7);sessionStorage.setItem("selectedStartDate",a.format("YYYY-MM-DD")),sessionStorage.setItem("selectedEndDate",r.format("YYYY-MM-DD")),t&&this.toggleDatePicker(),this.$store.dispatch("setTimesheetsWeek",{startDate:a.format("YYYY-MM-DD"),endDate:r.format("YYYY-MM-DD")})},toggleDatePicker:function(){this.showDatePicker=!this.showDatePicker},hideDatePicker:function(){this.showDatePicker=!1},getDatePickerClass:function(){return this.showDatePicker?"date-picker-active":""}},created:function(){this.setTimesheetsWeek(Tn()().format("YYYY-MM-DD"),!1)}},us=ls,ds=(a("014b7"),a("a609")),fs=Object(v["a"])(us,ss,is,!1,null,null,null),ms=fs.exports;j()(fs,{VBtn:x["a"],VBtnToggle:ds["a"],VDatePicker:_e["a"],VFlex:ee["a"],VIcon:w["a"],VLayout:C["a"],VMenu:Ie["a"]});var ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("snackbar",{ref:"snackbar"}),a("v-dialog",{attrs:{id:"AddNewTimeRecord","content-class":"new-time-record","max-width":"600"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("spinner",{ref:"spinner"}),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline",attrs:{"justify-center":""}},[e._v("Mobile Add Time Record")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-select",{staticClass:"required",attrs:{items:e.projects,label:"Select Project",rules:e.requiredRule,"item-value":"id","item-text":"projectName"},on:{change:function(t){return e.fetchProjectRfx(e.form.project)}},model:{value:e.form.project,callback:function(t){e.$set(e.form,"project",t)},expression:"form.project"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{staticClass:"required",attrs:{disabled:null==e.form.project,items:e.rfxTypes,label:"Select RFx Type","item-value":"id","item-text":"rfxType.rfxTypeName",rules:e.requiredRule},on:{change:function(t){return e.projectRfxChanged(e.form.projectRfx)}},model:{value:e.form.projectRfx,callback:function(t){e.$set(e.form,"projectRfx",t)},expression:"form.projectRfx"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{staticClass:"required",attrs:{items:e.rfxPhases,label:"Select Phase","item-value":"id","item-text":"rfxPhaseName",rules:e.requiredRule},on:{change:function(t){return e.projectPhaseChanged(e.form.rfxPhase)}},model:{value:e.form.rfxPhase,callback:function(t){e.$set(e.form,"rfxPhase",t)},expression:"form.rfxPhase"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{staticClass:"required",attrs:{items:e.userList,label:"Select User","item-value":"id","item-text":"contact.fullName",rules:e.requiredRule},on:{change:function(t){return e.projectUserChanged(e.form.userId)}},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("v-flex",{staticClass:"v-form-container pl-0",attrs:{xs12:""}},[a("div",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({ref:"timefield",staticClass:"required",attrs:{readonly:"",label:"Date","persistent-hint":"",rules:e.requiredRule,"prepend-inner-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)},Focus:function(){return e.$refs.timefield.blur()}},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1},change:function(t){return e.projectDateChanged(e.form.date)}},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)]),e.existingTimeEntries&&e.existingTimeEntries.length&&e.calculateExistingHours(e.existingTimeEntries)?a("v-flex",{staticClass:"time-log-info",attrs:{xs12:""}},[a("v-expansion-panel",[a("v-expansion-panel-content",{scopedSlots:e._u([{key:"header",fn:function(){return[a("div",[a("v-icon",{staticClass:"pr-1",attrs:{color:"blue darken-2"}},[e._v("info")]),a("span",[e._v("\n                          This user already entered\n                          "),a("span",{staticClass:"time-log-total"},[e._v(e._s(e.calculateExistingHours(e.existingTimeEntries)))]),e._v(" hours for the selected RFx phase and date\n                        ")])],1)]},proxy:!0}],null,!1,3473360544)},[a("v-card",{staticClass:"py-0"},[a("v-card-text",{staticClass:"mt-0 pb-2"},e._l(e.existingTimeEntries,(function(t){return a("div",{key:t.id,staticClass:"time-log-card-row"},[a("span",{staticClass:"time-log-card-hrs"},[e._v(e._s(t.hoursBilled)+" Hrs")]),t.comments?a("span",[e._v("- "+e._s(t.comments))]):e._e()])})),0)],1)],1)],1)],1):e._e(),a("v-flex",{attrs:{xs12:"",sm5:""}},[a("v-text-field",{staticClass:"required",attrs:{label:"Hours",type:"number",rules:e.requiredRule,min:0,step:"any",max:"24",oninput:"validity.valid||(value=0);"},on:{keyup:function(t){return e.timeSheetEntry(e.form.hour)}},model:{value:e.form.hour,callback:function(t){e.$set(e.form,"hour",e._n(t))},expression:"form.hour"}})],1),a("v-flex",{attrs:{xs12:"",sm7:""}},[a("v-radio-group",{attrs:{rules:e.requireRadioButtondRule,row:""},model:{value:e.form.isBillable,callback:function(t){e.$set(e.form,"isBillable",t)},expression:"form.isBillable"}},[a("v-radio",{attrs:{color:"primary",label:"Billable",value:!0}}),a("v-radio",{attrs:{color:"primary",label:"Non-Billable",value:!1}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Comment","no-resize":"",rows:"3"},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),e.existingTimeEntries&&e.existingTimeEntries.length&&e.calculateExistingHours(e.existingTimeEntries)&&e.form.hour?a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"hours-err-msg"},[e._v("* Adding hours might overwrite the existing hours for the day for the selected project RFx")])]):e._e(),a("v-btn",{staticClass:"add-new-row",attrs:{color:"primary",disabled:e.addRecordLoading,loading:e.addRecordLoading},on:{click:e.saveNewRow}},[e._v("Save\n          ")]),a("v-btn",{on:{click:e.closeDialog}},[e._v("Cancel")])],1)],1)],1)],1)],1)},hs=[],vs=(a("673e"),function(e){function t(){var e,a;Object(Le["a"])(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return a=Object(Ae["a"])(this,(e=Object(Ue["a"])(t)).call.apply(e,[this].concat(n))),Object(o["a"])(Object(Me["a"])(a),"id",""),Object(o["a"])(Object(Me["a"])(a),"projectName",""),a}return Object(He["a"])(t,e),Object(qe["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,Ye["a"].setProperties(e,a)),a}}]),t}(Ye["a"]));a("bc6a");function bs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function js(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ys={computed:{computedDateFormatted:function(){return this.formatDate(this.date)},userList:function(){return this.$store.state.users},rfxPhases:function(){return this.$store.state.rfxPhases},rfxTypes:function(){return this.$store.state.activeProjectRfxData},projects:function(){return this.$store.state.projects}},components:{Snackbar:we,Spinner:ja},data:function(){return this.initData()},watch:{date:function(){this.dateFormatted=this.formatDate(this.date)},project:function(e){this.$store.dispatch("fetchProjectRfx",{id:e})}},props:{timeEntry:Object},methods:{open:function(){this.form.date=Tn()().format("YYYY-MM-DD"),this.dialog=!0;var e=JSON.parse(localStorage.getItem("keycloak_user")).sub,t=this.$store.state.users.find((function(t){return t.referenceId===e}));t&&t.id&&(this.form.userId=t.id),setTimeout((function(){document.getElementsByClassName("v-dialog v-dialog--active")[0].scrollTop=0}),400)},closeDialog:function(){this.dialog=!1},timeSheetEntry:function(e){e>24&&(this.form.hour=24)},reset:function(){this.$refs.form.resetValidation();var e=this.initData();this.$data.valid=e.valid,this.$data.requiredRule=e.requiredRule,this.$data.requireRadioButtondRule=e.requireRadioButtondRule,this.$data.dialog=e.dialog,this.$data.menu1=e.menu1,this.$data.form=e.form,this.$data.dateFormatted=e.dateFormatted,this.$data.existingTimeEntries=e.existingTimeEntries},initData:function(){var e=Object.assign({},this.$props.timeEntry);e.date||(e.date=Tn()().format("YYYY-MM-DD"));var t=[];return{valid:!0,requiredRule:[function(e){return!!e||"This field required"}],requireRadioButtondRule:[function(e){return(e||!e)&&null!=e||"This field required"}],dialog:!1,menu1:!1,form:js({},e),dateFormatted:void 0,existingTimeEntries:t,addRecordLoading:!1}},projectRfxChanged:function(e){var t=this.$store.state.activeProjectRfxData.find((function(t){return t.id===e}));this.form.rfxPhase=t.rfxPhase.id,this.getTimeLogSelectedDate()},projectPhaseChanged:function(){this.getTimeLogSelectedDate()},projectUserChanged:function(){this.getTimeLogSelectedDate()},projectDateChanged:function(){this.getTimeLogSelectedDate()},fetchProjectRfx:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.spinner.open(),this.$store.dispatch("fetchProjectRfx",{id:t}).then((function(e){return a.$refs.spinner.close(),a.getTimeLogSelectedDate(),a.$store.state.activeProjectRfxData=e,e}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),saveNewRow:function(){if(this.$refs.form.validate()){var e=this.form;e.hour=parseFloat(e.hour.toFixed(2));var t=this.timesheetUpdatePayload(e);this.updateTimesheet(t)}else this.dialog=!0},updateTimesheet:function(e){var t=this;this.addRecordLoading=!0,this.$store.dispatch("addLightTimesheet",e).then((function(){t.addRecordLoading=!1,t.$refs.snackbar.displaySnackbar("success","Time record added"),t.dialog=!1}),(function(e){e&&e.data&&e.data.entityValidationErrors?e.data.entityValidationErrors.length>1?t.handleMultipleErrors(e.data.entityValidationErrors):t.$refs.snackbar.displaySnackbar("error",e.data.entityValidationErrors[0].message):t.$refs.snackbar.displaySnackbar("error","Timesheet adding failed"),t.dialog=!0,t.addRecordLoading=!1}))},handleMultipleErrors:function(e){this.$refs.snackbar.displayMultipleErrorSnackbar("error",e)},getTimeLogSelectedDate:function(){var e=this;if(this.form&&this.form.project&&this.form.projectRfx&&this.form.rfxPhase&&this.form.userId&&this.form.date){var t=Object.assign({},this.form);t.entryDate=t.date,delete t.date,this.$store.dispatch("getLightTimesheet",t).then((function(t){"object"===Object(gn["a"])(t)?e.existingTimeEntries=t:e.existingTimeEntries=[]}),(function(){e.existingTimeEntries=[]}))}},timesheetUpdatePayload:function(e){var t=jn()({},e,{userId:null});t.entries=[];var a=e.hour,r=e.userId,n=e.rfxPhase,s=e.projectRfx,i=e.project,o=e.comment,c=null,l=null,u=this.$store.state.rfxPhases.filter((function(e){return e.id===n}));if(u.length>0){var d=Object(de["a"])(u,1);c=d[0]}var f=this.$store.state.projects.filter((function(e){return e.id===i}));if(f.length>0){var m=Object(de["a"])(f,1);l=m[0]}var p=a,h=Tn()(e.date).day(1),v=Tn()(e.date).day(7),b=An.constructFromObject({id:null,userId:r,hoursBilled:p,startTime:null,endTime:null,entryDate:e.date,comments:o}),j=Pt.constructFromObject({id:s,rfxType:null,rfxPhase:null,rfxOverview:null,clientResponsibilities:null,psdResponsibilities:null}),y=wt.constructFromObject({id:c.id}),x=vs.constructFromObject({id:l.id,projectName:l.projectName});return t.entries.push(b),t.isBillable=e.isBillable,t.userId=r,t.projectRfx=j,t.rfxPhase=y,t.project=x,t.startDate=h.format("YYYY-MM-DD"),t.endDate=v.format("YYYY-MM-DD"),delete t.hour,delete t.comment,delete t.date,t},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(n,"/").concat(s,"/").concat(r)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(de["a"])(t,3),r=a[0],n=a[1],s=a[2];return"".concat(s,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},calculateExistingHours:function(e){var t=e&&e[0]&&e[0].hoursBilled?e[0].hoursBilled:0;return e.length>1&&(t=e.reduce((function(e,t){return e.hoursBilled+t.hoursBilled}))),t}}},xs=ys,gs=a("67b6"),Os=a("43a6"),ks=Object(v["a"])(xs,ps,hs,!1,null,null,null),ws=ks.exports;j()(ks,{VBtn:x["a"],VCard:W["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:St["a"],VContainer:g["a"],VDatePicker:_e["a"],VDialog:K["a"],VExpansionPanel:Dt["a"],VExpansionPanelContent:$t["a"],VFlex:ee["a"],VForm:Se["a"],VIcon:w["a"],VLayout:C["a"],VMenu:Ie["a"],VRadio:gs["a"],VRadioGroup:Os["a"],VSelect:De["a"],VSpacer:D["a"],VTextField:$e["a"],VTextarea:Ne["a"]});var Cs={data:function(){return{}},components:{TimesheetsCalendar:ms,AddNewTimeRecord:ws},props:{title:String,addTimeRecord:{type:Function,default:function(){}}},methods:{newTimeRecord:function(){this.$refs.AddNewTimeRecord.reset(),this.$refs.AddNewTimeRecord.open()}}},Ps=Cs,Ts=(a("740c"),Object(v["a"])(Ps,rs,ns,!1,null,null,null)),Rs=Ts.exports;j()(Ts,{VBtn:x["a"],VFlex:ee["a"],VLayout:C["a"]});var _s={components:{ProjectExpansionRow:as,TimesheetsToolbar:Rs,Spinner:ja},props:{title:String},data:function(){return{pagination:{sortBy:"name",rowsPerPage:25},selected:[],dialog:!1,search:"",headers:[{text:"Project Name",value:"projectName",align:"left",width:"280px",sortable:!1},{text:"Client",value:"client",width:"320px",sortable:!1},{text:"Project Lead",value:"projectLeadId",width:"280px",sortable:!1},{text:"Budget Remaining",value:"budgetRemaining",sortable:!1},{text:"Est. Completion",value:"projectDeadline",sortable:!1},{text:"",value:"action",align:"right",width:"120px",sortable:!1}],projects:[],expand:!1,rfxExpand:!1}},computed:{projectsRfx:function(){return this.$store.state.projectsRfx}},methods:{getFullname:function(e){var t=null;if(null!=e){var a=this.$store.state.users.filter((function(t){return t.id===e}));a.length>0&&(t=a[0].contact.fullName)}return t},fetchData:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.spinner&&this.$refs.spinner.open(),this.$store.dispatch("fetchProjects").then((function(){t.projects=t.$store.state.projects,t.$refs.spinner.close()}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goToProject:function(e){this.$router.push({path:"project/".concat(e)})},onToggleRow:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("fetchProjectRfx",{id:t.item.id}).then((function(e){t.expanded=!t.expanded,t.item.projectRfxData=e}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.fetchData()}},Ss=_s,Is=(a("575c"),a("0798")),Ds=Object(v["a"])(Ss,ln,un,!1,null,null,null),$s=Ds.exports;j()(Ds,{VAlert:Is["a"],VCard:W["a"],VCardText:J["b"],VCardTitle:St["a"],VDataTable:Er["a"],VDivider:k["a"],VFlex:ee["a"],VIcon:w["a"],VLayout:C["a"],VProgressLinear:zn["a"],VTextField:$e["a"],VToolbar:N["a"],VToolbarTitle:V["a"],VTooltip:mt["a"]});a("6d40");var Ns={components:{TimesheetsTable:$s},data:function(){return{color:Sa.a,selectedTab:"tab-1"}},beforeMount:function(){this.$store.state.collapseNavigationBar=!0},computed:{}},Es=Ns,Vs=Object(v["a"])(Es,on,cn,!1,null,null,null),Fs=Vs.exports;j()(Vs,{VContainer:g["a"],VFlex:ee["a"],VLayout:C["a"]});var Bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[a("div",{staticClass:"unauthorized"},[a("v-form",[a("v-container",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[a("v-layout",{attrs:{"d-flex":"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{md12:""}},[a("h1",{staticClass:"unauthorized-title"},[e._v("Unauthorized")]),[a("v-expansion-panel",{staticClass:"my-5",attrs:{value:"true"}},[a("v-expansion-panel-content",{attrs:{value:"true"}},[a("v-card",{staticClass:"py-5"},[a("v-card-text",[a("p",[e._v("Sorry, you do not have permission to access this part of the app. You will automatically be logout in "+e._s(e.timeUntilRedirect)+" seconds.")]),a("p",[e._v("Please contact your system or domain administrator if your require access to this part of the application.")])])],1)],1)],1)]],2)],1)],1)],1)],1)])},Ls=[];a("c8de");r["a"].use(fe["a"]);var qs={$_veeValidate:{validator:"new"},data:function(){return{timeUntilRedirect:5}},mounted:function(){var e=this,t=setInterval((function(){e.timeUntilRedirect--}),1e3);setTimeout((function(){clearInterval(t),e.$router.push("/logout")}),5e3)}},As=qs,Us=(a("54bb"),Object(v["a"])(As,Bs,Ls,!1,null,null,null)),Ms=Us.exports;j()(Us,{VCard:W["a"],VCardText:J["b"],VContainer:g["a"],VExpansionPanel:Dt["a"],VExpansionPanelContent:$t["a"],VFlex:ee["a"],VForm:Se["a"],VLayout:C["a"]});var Hs=a("68ad"),Ys=a.n(Hs),zs=a("4360"),Ws="Project-and-time-tracker/statics/keycloak-local",Js=new Ys.a("/".concat(Ws,".json")),Ks=function(e){var t="Unauthorized";switch(e){case"User":t="timeMachineIntakeForm";break;case"PSB_User":t="dashboard";break;case"PSB_Admin":t="dashboard";break;default:break}return t},Gs=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Js.init({onLoad:"login-required",responseMode:"query"}).success((function(){if(Js.logoutUrl="".concat(Js.authServerUrl,"/realms/").concat(Js.realm)+"/protocol/openid-connect/logout?redirect_uri=".concat(document.baseURI),zs["a"].dispatch("authLogin",Js),t){var r,n=!1;if(t.forEach((function(e){Js.hasRealmRole(e)&&(n=!0,r=e)})),n)if(a){var s=Ks(r);e({name:s})}else e();else e({name:"Unauthorized"})}else e();setInterval((function(){Js.updateToken(70).success((function(e){e&&zs["a"].dispatch("authLogin",Js)})).error((function(){console.error("Failed to refresh token")}))}),6e4)})).error((function(){console.log("failed to login")}))},Zs=function(e){var t=zs["a"].getters.SECURITY_AUTH;if(t.authenticated){var a=!1;return e.forEach((function(e){t.hasRealmRole(e)&&(a=!0)})),a}return!1},Qs=function(){var e=zs["a"].getters.SECURITY_AUTH;e.logout(),zs["a"].dispatch("authLogout")},Xs=function(){var e=zs["a"].getters.SECURITY_AUTH;return{Authorization:"Bearer ".concat(e.token)}},ei={init:Gs,roles:Zs,logout:Qs,header:Xs};r["a"].use(L["a"]);var ti=[{exact:!0,path:"/",name:"main",redirect:"/authorize",meta:{requiresAuth:!0}},{exact:!0,path:"/authorize",name:"authorize",component:ce,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin","User"]}},{exact:!0,path:"/dashboard",name:"dashboard",component:ae,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin"]}},{exact:!0,path:"/intake",name:"timeMachineIntakeForm",component:Pa,meta:{requiresAuth:!0,roles:["User","PSB_Admin"]}},{path:"/intake/:id",name:"timeMachineIntakeFormDetails",component:Pa,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/intake-success",name:"TimeMachineIntakeSuccess",component:Wr,meta:{requiresAuth:!0,roles:["User","PSB_Admin"]}},{exact:!0,path:"/intake-requests",name:"timeMachineIntakeRequests",component:Ar,meta:{requiresAuth:!0,roles:["PSB_Admin"]}},{exact:!0,path:"/projects",name:"timeMachineProjects",component:sn,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin"]}},{path:"/project",name:"project",component:Bt,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin"]}},{path:"/project/:id",name:"projectDetails",component:Bt,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin"]}},{exact:!0,path:"/timesheets",name:"timeMachineTimesheets",component:Fs,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin"]}},{path:"/timesheets/:id",name:"timeMachineTimesheetsDetails",component:Fs,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin"]}},{exact:!0,path:"/export",name:"export",component:null,meta:{requiresAuth:!0,roles:["PSB_User","PSB_Admin"]}},{path:"/unauthorized",name:"Unauthorized",props:!0,component:Ms}],ai=new L["a"]({mode:"history",base:"/",routes:ti});ai.beforeEach((function(e,t,a){if("/logout"===e.path&&(ai.push({path:"/"}),ei.logout()),e.meta.requiresAuth){var r=zs["a"].state.security.auth;if(r.authenticated)e.meta.roles?ei.roles(e.meta.roles)?a():a({name:"Unauthorized"}):a();else{var n="authorize"===e.name;ei.init(a,e.meta.roles,n)}}else a()}));var ri=ai,ni=a("db49"),si=a("a925"),ii=a("8096"),oi=a.n(ii),ci=arguments,li=window.sessionStorage,ui={};ui.i=oi()(),ui.ls={set:function(e,t){t=JSON.stringify(t),li.setItem(e,t)},get:function(e,t){var a=li.getItem(e,a);return a=null===a||"undefined"===a||""===a?t:JSON.parse(a),a}},ui.store=function(e,t){return ci.length<2?ui.ls.get(e):ui.ls.set(e,t)},r["a"].directive("back",(function(e,t){e.onclick=function(){return window.history.go(-1)}}));var di=ui,fi=["en-US"];r["a"].use(si["a"]);var mi={};fi.forEach((function(e){mi[e]=a("a610")("./".concat(e,"/index")).default}));var pi=new si["a"]({locale:di.ls.get("locale",ni["a"].locale),silentTranslationWarn:!0,messages:mi}),hi=pi,vi=function(){var e,t=this,a=t.$createElement,r=t._self._c||a;return r("div",[r("form",{attrs:{action:t.action},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.groupBy?r("v-tabs",{attrs:{grow:"","scroll-bars":"",dark:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("v-tabs-bar",{attrs:{slot:"activators"},slot:"activators"},[t._l(t.group.parents,(function(e,t){return r("v-tabs-item",{key:t,attrs:{href:"tab-"+t,ripple:""}})})),r("v-tabs-slider")],2),t._l(t.group.children,(function(e,a){return r("v-tabs-content",{key:a,attrs:{id:"tab-"+a}},[r("v-card",{attrs:{flat:""}},[r("v-card-text",t._l(e,(function(e,a){return r("v-field",{key:a,attrs:{name:a,field:e},model:{value:t.model[a],callback:function(e){t.$set(t.model,a,e)},expression:"model[name]"}})})),1)],1)],1)}))],2):t._e(),t.groupBy?t._e():r("v-layout",t._b({},"v-layout",(e={},e[t.inline?"row":"column"]=!0,e),!1),[t._l(t.fields,(function(e,a){return r("v-field",{key:a,attrs:{name:a,field:e},model:{value:t.model[a],callback:function(e){t.$set(t.model,a,e)},expression:"model[name]"}})})),r("v-alert",{staticClass:"py-2",attrs:{error:""},model:{value:t.hasError,callback:function(e){t.hasError=e},expression:"hasError"}},t._l(t.errors,(function(e){return r("div",[t._v(" "+t._s(e.message))])})),0),t._t("default"),r("v-flex",{staticClass:"pt-2 actions",attrs:{xs12:""}},[t._t("buttons",[r("v-btn",{staticClass:"ma-0",attrs:{primary:"",dark:"",type:"submit"}},[t._v(t._s(t.$t(t.submitButtonText))),r("v-icon",{attrs:{right:"",dark:""}},[t._v(t._s(t.submitButtonIcon))])],1)])],2)],2)],1)])},bi=[],ji=a("c598"),yi=ji["a"],xi=a("9a96"),gi=Object(v["a"])(yi,vi,bi,!1,null,null,null),Oi=gi.exports;j()(gi,{VAlert:Is["a"],VBtn:x["a"],VCard:W["a"],VCardText:J["b"],VFlex:ee["a"],VIcon:w["a"],VLayout:C["a"],VTabs:Vt["a"],VTabsSlider:xi["a"]});var ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:""}},[["select","select2"].includes(e.field.type)?a("v-select",e._b({attrs:{items:e.field.choices},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"v-select",e.field,!1)):["radios","checkboxes"].indexOf(e.field.type)>-1?[a("p",[e._v(e._s(e.$t(e.field.label)))]),a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.field.choices,(function(t){var r;return a("v-flex",e._b({key:e.field.value,attrs:{xs12:""}},"v-flex",(r={},r[e.field.width]=!0,r),!1),[a("radios"==e.field.type?"v-radio":"v-checkbox",{key:t.value,tag:"component",attrs:{"hide-details":"",value:t.value,label:t.text},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)})),1)]:["date","datetime","time"].indexOf(e.field.type)>-1?[a("v-menu",[a("v-text-field",{attrs:{slot:"activator",label:e.$t(e.field.label)},slot:"activator",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",actions:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]:"html"==e.field.type?a("div",{class:e.inputGroupClass},[a("label",[e._v(e._s(e.$t(e.field.label)))]),a("div",{staticClass:"pt-2"},[a("quill-editor",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]):["file","image","video"].includes(e.field.type)?a("div",{class:e.inputGroupClass},[a("label",[e._v(e._s(e.$t(e.field.label)))]),a("div",{staticClass:"pt-2"},[a("dropzone",{attrs:{id:"dropzone_"+e.name,url:e.$store.state.config.ajaxUploadUrl}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"hidden"},domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])],1)]):a("v-text-field",e._b({attrs:{label:e.$t(e.field.label),placeholder:e.$t(e.field.placeholder),type:"text",multiLine:"textarea"==e.field.type},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"v-text-field",e.field,!1))],2)},wi=[],Ci={props:{field:{type:Object,required:!0},name:{type:String,required:!1},value:{required:!1}},data:function(){return{inputGroupClass:"input-group input-group--dirty input-group--text-field"}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},Pi=Ci,Ti=Object(v["a"])(Pi,ki,wi,!1,null,null,null),Ri=Ti.exports;j()(Ti,{VDatePicker:_e["a"],VFlex:ee["a"],VLayout:C["a"],VMenu:Ie["a"],VSelect:De["a"],VTextField:$e["a"]}),r["a"].use(s.a),r["a"].component("v-form",Oi),r["a"].component("v-field",Ri),r["a"].config.productionTip=!1;new r["a"]({el:"#app",i18n:hi,store:zs["a"],router:ri,render:function(e){return e(B)},mounted:function(){},methods:{back:function(){this.$router.go(-1)}}})},"575c":function(e,t,a){"use strict";var r=a("d69a"),n=a.n(r);n.a},"5b12":function(e,t,a){"use strict";var r=a("e6ae"),n=a.n(r);n.a},"62aa":function(e,t,a){},6956:function(e,t,a){},"6d40":function(e,t,a){},"6f51":function(e,t,a){},"6fa9":function(e,t,a){},"725a":function(e,t,a){},7369:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a("d225"),n=a("b0b4"),s=a("308d"),i=a("6bb5"),o=a("013f"),c=a("4e2b"),l=a("bd86"),u=a("e8d8"),d=a("99e3"),f=a("4603"),m=function(e){function t(){var e,a;Object(r["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return a=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(a),"id",null),Object(l["a"])(Object(o["a"])(a),"projectName",""),Object(l["a"])(Object(o["a"])(a),"client",new d["a"]),Object(l["a"])(Object(o["a"])(a),"projectSector",new f["a"]),Object(l["a"])(Object(o["a"])(a),"commodityCode",""),Object(l["a"])(Object(o["a"])(a),"estimatedCompletionDate",""),Object(l["a"])(Object(o["a"])(a),"estimatedContractValue",null),Object(l["a"])(Object(o["a"])(a),"mouAmount",null),Object(l["a"])(Object(o["a"])(a),"description",""),Object(l["a"])(Object(o["a"])(a),"status",""),Object(l["a"])(Object(o["a"])(a),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(a),"dateModified",new Date),Object(l["a"])(Object(o["a"])(a),"contacts",[]),a}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,u["a"].setProperties(e,a)),a}}]),t}(u["a"])},"740c":function(e,t,a){"use strict";var r=a("aa12"),n=a.n(r);n.a},"771f":function(e,t,a){},"78bf":function(e,t,a){"use strict";var r=a("6f51"),n=a.n(r);n.a},8174:function(e,t,a){"use strict";a.r(t),t["default"]={Search:"Search","Create ":"Create ",Submit:"Submit",Edit:"Edit",Close:"Close","Field should be unique.":"Field should be unique."}},8699:function(e,t,a){e.exports=a.p+"img/dashboard.97138a0a.svg"},"8d77":function(e,t,a){"use strict";var r=a("62aa"),n=a.n(r);n.a},9801:function(e,t,a){},"99e3":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var r=a("d225"),n=a("b0b4"),s=a("308d"),i=a("6bb5"),o=a("013f"),c=a("4e2b"),l=a("bd86"),u=a("e8d8"),d=a("aae1"),f=function(e){function t(){var e,a;Object(r["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return a=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(a),"id",""),Object(l["a"])(Object(o["a"])(a),"clientNo",null),Object(l["a"])(Object(o["a"])(a),"responsibilityCenter",null),Object(l["a"])(Object(o["a"])(a),"serviceCenter",null),Object(l["a"])(Object(o["a"])(a),"stob",null),Object(l["a"])(Object(o["a"])(a),"projectCode",null),Object(l["a"])(Object(o["a"])(a),"ministry",new d["a"]),Object(l["a"])(Object(o["a"])(a),"orgDivision",""),Object(l["a"])(Object(o["a"])(a),"email",""),Object(l["a"])(Object(o["a"])(a),"addressLine1",""),Object(l["a"])(Object(o["a"])(a),"addressLine2",""),Object(l["a"])(Object(o["a"])(a),"city",""),Object(l["a"])(Object(o["a"])(a),"province",""),Object(l["a"])(Object(o["a"])(a),"country",""),Object(l["a"])(Object(o["a"])(a),"postalCode",""),Object(l["a"])(Object(o["a"])(a),"dateCreated",new Date),Object(l["a"])(Object(o["a"])(a),"dateModified",new Date),a}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,u["a"].setProperties(e,a)),a}}]),t}(u["a"])},"9a1c":function(e,t,a){"use strict";var r=a("9da9"),n=a.n(r);n.a},"9da9":function(e,t,a){},a0e9:function(e,t,a){},a123:function(e,t,a){},a144:function(e,t,a){},a599:function(e,t,a){},a610:function(e,t,a){var r={"./en-US/index":"8174"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="a610"},a616:function(e,t,a){e.exports=a.p+"img/ministryinfo.b197131b.svg"},aa12:function(e,t,a){},aae1:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("d225"),n=a("b0b4"),s=a("308d"),i=a("6bb5"),o=a("013f"),c=a("4e2b"),l=a("bd86"),u=a("e8d8"),d=function(e){function t(){var e,a;Object(r["a"])(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return a=Object(s["a"])(this,(e=Object(i["a"])(t)).call.apply(e,[this].concat(c))),Object(l["a"])(Object(o["a"])(a),"id",""),Object(l["a"])(Object(o["a"])(a),"ministryName",""),a}return Object(c["a"])(t,e),Object(n["a"])(t,null,[{key:"constructFromObject",value:function(e,a){return e&&(a=a||new t,u["a"].setProperties(e,a)),a}}]),t}(u["a"])},ab08:function(e,t,a){"use strict";a.d(t,"b",(function(){return r}));var r=function(e,t,a){if(!Object.prototype.hasOwnProperty.call(e,"href"))return!0;var r=t.options.routes;if(r instanceof Array){var n=r.filter((function(e){return!!Object.prototype.hasOwnProperty.call(e,"meta")&&!0===e.meta.requiresAuth})),s=n.filter((function(t){return t.meta.roles instanceof Array&&(!!t.exact&&t.path===e.href)})),i=s instanceof Array&&s.length>0?s[0]:void 0;if(void 0===i)return!0;for(var o=!1,c=0;c<i.meta.roles.length;c++)if(a.hasRealmRole&&a.hasRealmRole(i.meta.roles[c])){o=!0;break}return o}return!1},n=[{header:""},{href:"/dashboard",title:"Dashboard",icon:"dashboard"},{href:"/intake",title:"New Intake Request",icon:"assignment"},{href:"/intake-requests",title:"Intake Requests",icon:"inbox"},{href:"/projects",title:"Manage Projects",icon:"folder"},{href:"/timesheets",title:"Manage Timesheets",icon:"timer"},{divider:!0},{header:"System"},{href:"/logout",title:"Logout",icon:"exit_to_app"}];t["a"]=n},b0fb:function(e,t,a){},b12f:function(e,t,a){e.exports=a.p+"img/bulb.f7373ef7.svg"},ba94:function(e,t,a){},bc6a:function(e,t,a){},c0df:function(e,t,a){"use strict";var r=a("cd26"),n=a.n(r);n.a},c598:function(e,t,a){"use strict";(function(e){t["a"]={props:{inline:{type:Boolean,default:!1},groupBy:{required:!1,type:String,default:null},action:{required:!1,type:String,default:null},submitButtonText:{required:!1,type:String,default:"Submit"},submitButtonIcon:{required:!1,type:String,default:"send"},method:{required:!1,type:String,default:"post"},value:{required:!1,type:Object,default:function(){}},fields:{required:!0,type:Object},rules:{required:!1,type:Object,default:function(){}},messages:{required:!1,type:Object,default:function(){}}},data:function(){return{model:this.value,hasError:!1,errors:[],message:""}},computed:{group:function(){if(!this.groupBy)return null;var e={},t={};for(var a in this.fields){var r=this.fields[a],n=r[this.groupBy],s=r.id;null===n?e[s]=r:(t[n]||(t[n]={}),t[n][a]=r)}return{parents:e,children:t}},autoSubmit:function(){return!!this.action}},watch:{value:function(e){this.model=e},model:"updateFields"},methods:{getGroupedFields:function(){},getFieldError:function(e){for(var t in this.errors){var a=this.errors[t];if(a.field===e)return a.message}},updateFields:function(){},onSubmit:function(){var t=this,a=e.validator.make(this.model,this.rules,this.messages);if(a.passes()){if(this.$emit("input",this.model),!this.autoSubmit)return this.$emit("submit"),!1;this.$http[this.method](this.action,this.model).then((function(e){var a=e.data;t.$emit("success",a),t.hasError=!1})).catch((function(e){var a=e.response,r=a.status,n=a.data;switch(t.hasError=!0,n.message&&(t.errors=[n]),r){case 422:t.errors=n;break;default:}t.$emit("error",r,n)}))}else{var r=a.getErrors();this.hasError=!0,this.errors=r,this.$emit("error",r)}}},mounted:function(){},created:function(){}}}).call(this,a("c8ba"))},c8de:function(e,t,a){},c911:function(e,t,a){},cd26:function(e,t,a){},d69a:function(e,t,a){},db49:function(e,t,a){"use strict";(function(e){var a="http://localhost:3333",r={locale:"en-US",url:a,ajaxUploadUrl:"".concat(a,"/admin/api/upload"),debug:{mock:!0,http:!1},api:"".concat(a,"/admin/api")};e.config=r,t["a"]=r}).call(this,a("c8ba"))},dccd:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("ac6a"),a("456d");var r=a("d225"),n=a("b0b4"),s=function(){function e(t){var a;if(Object(r["a"])(this,e),t=t||null,this.length=0,this.items={},null!==t)for(a in t)t.hasOwnProperty(a)&&(this.items[a]=t[a],this.length++);return this}return Object(n["a"])(e,[{key:"setItem",value:function(e,t){var a;return this.hasItem(e)?a=this.items[e]:this.length++,this.items[e]=t,a}},{key:"getItem",value:function(e){return this.hasItem(e)?this.items[e]:void 0}},{key:"hasItem",value:function(e){return this.items.hasOwnProperty(e)}},{key:"removeItem",value:function(e){var t;if(this.hasItem(e))return t=this.items[e],this.length--,delete this.items[e],t}},{key:"keys",value:function(){var e,t=[];for(e in this.items)this.hasItem(e)&&t.push(e);return t}},{key:"values",value:function(){var e,t=[];for(e in this.items)this.hasItem(e)&&t.push(this.items[e]);return t}},{key:"each",value:function(e){var t;for(t in this.items)this.hasItem(t)&&e(t,this.items[t])}},{key:"clear",value:function(){this.items={},this.length=0}},{key:"has",value:function(e){return this.hasItem(e)}},{key:"get",value:function(e){return this.getItem(e)}},{key:"set",value:function(e,t){return this.setItem(e,t),this}},{key:"remove",value:function(e){return void 0!==this.removeItem(e)&&this}},{key:"count",value:function(){return Object.keys(this.items).length}}]),e}()},e63d:function(e,t,a){},e641:function(e,t,a){"use strict";var r="SECURITY_AUTH",n={authLogin:function(e,t){var a=e.commit;a(r,t)},authLogout:function(e){var t=e.commit;t(r)}},s=a("bd86"),i=Object(s["a"])({},r,(function(e){return e.auth})),o=Object(s["a"])({},r,(function(e,t){t?(e.auth=t,sessionStorage.setItem("keycloak_token",t.token),localStorage.setItem("keycloak_user",JSON.stringify(t.idTokenParsed))):sessionStorage.removeItem("keycloak_token")})),c={auth:{authenticated:!1}};t["a"]={state:c,actions:n,getters:i,mutations:o}},e6ae:function(e,t,a){},e8d8:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("ac6a"),a("456d");var r=a("d225"),n=a("b0b4"),s=function(){function e(){Object(r["a"])(this,e)}return Object(n["a"])(e,null,[{key:"setProperties",value:function(e,t){var a=Object.keys(e);a.forEach((function(a){Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}))}}]),e}()},ee13:function(e,t,a){"use strict";var r=a("a0e9"),n=a.n(r);n.a},ef3c:function(e,t,a){"use strict";(function(e){a("8e6e"),a("ac6a"),a("456d");var r=a("bd86"),n=(a("7f7f"),a("2f62")),s=a("ab08");a("a144");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t["a"]={name:"App",methods:{changeLocale:function(t){e.helper.ls.set("locale",t),this.$i18n.locale=t},toggleMenuStyle:function(){this.mini=!this.mini,this.$store.state.collapseNavigationBar=!1},loadDefaultMenuStyle:function(){this.$store.state.collapseNavigationBar&&(this.mini=this.$store.state.collapseNavigationBar)},shouldDisplayMenuItem:function(e){return Object(s["b"])(e,this.$router,this.$store.getters.SECURITY_AUTH)},fetchInitialData:function(){this.$store.dispatch("fetchMinistries"),this.$store.dispatch("fetchRFxPhases"),this.$store.dispatch("fetchRFxTypes"),this.$store.dispatch("fetchProjectSectors"),this.$store.dispatch("fetchUsers"),this.initialLoadDone=!0,this.userName=JSON.parse(localStorage.getItem("keycloak_user")).name}},created:function(){this.$store.state.collapseNavigationBar=!1},data:function(){return{dark:!1,theme:"primary",mini:!1,drawer:!0,locales:["en-US"],colors:["blue","green","purple","red"],isLoggedIn:this.$store.state.isLoggedIn,isToolbarHide:"login"===this.$router.currentRoute.name||"register"===this.$router.currentRoute.name,initialLoadDone:!1,userName:""}},computed:o({},Object(n["b"])(["message","menu","pageTitle"]),{fetchToken:function(){return this.$store.getters.SECURITY_AUTH.token}}),watch:{$route:function(e){this.isToolbarHide="login"===e.name||"register"===e.name,this.$store.state.collapseNavigationBar=!1},fetchToken:function(e,t){var a=this;e!==t&&this.$store.dispatch("verifyTokenServer").then((function(){a.initialLoadDone||a.fetchInitialData()}))}}}}).call(this,a("c8ba"))},fb94:function(e,t,a){},fce1:function(e,t,a){}});
//# sourceMappingURL=app.fa270f6e.js.map